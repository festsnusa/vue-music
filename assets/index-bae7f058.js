(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Pg(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function uu(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ft(r)?wP(r):uu(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Ft(e))return e;if(pt(e))return e}}const gP=/;(?![^(]*\))/g,yP=/:([^]+)/,_P=/\/\*.*?\*\//gs;function wP(e){const t={};return e.replace(_P,"").split(gP).forEach(n=>{if(n){const r=n.split(yP);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function On(e){let t="";if(Ft(e))t=e;else if(xe(e))for(let n=0;n<e.length;n++){const r=On(e[n]);r&&(t+=r+" ")}else if(pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const bP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",EP=Pg(bP);function lS(e){return!!e||e===""}function IP(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=gh(e[r],t[r]);return n}function gh(e,t){if(e===t)return!0;let n=dE(e),r=dE(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ec(e),r=ec(t),n||r)return e===t;if(n=xe(e),r=xe(t),n||r)return n&&r?IP(e,t):!1;if(n=pt(e),r=pt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!gh(e[a],t[a]))return!1}}return String(e)===String(t)}function TP(e,t){return e.findIndex(n=>gh(n,t))}const Ut=e=>Ft(e)?e:e==null?"":xe(e)||pt(e)&&(e.toString===dS||!Ue(e.toString))?JSON.stringify(e,fS,2):String(e),fS=(e,t)=>t&&t.__v_isRef?fS(e,t.value):nu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:_h(t)?{[`Set(${t.size})`]:[...t.values()]}:pt(t)&&!xe(t)&&!pS(t)?String(t):t,gt={},tu=[],Ar=()=>{},SP=()=>!1,AP=/^on[^a-z]/,yh=e=>AP.test(e),Dg=e=>e.startsWith("onUpdate:"),fn=Object.assign,Lg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kP=Object.prototype.hasOwnProperty,Je=(e,t)=>kP.call(e,t),xe=Array.isArray,nu=e=>Ac(e)==="[object Map]",_h=e=>Ac(e)==="[object Set]",dE=e=>Ac(e)==="[object Date]",Ue=e=>typeof e=="function",Ft=e=>typeof e=="string",ec=e=>typeof e=="symbol",pt=e=>e!==null&&typeof e=="object",hS=e=>pt(e)&&Ue(e.then)&&Ue(e.catch),dS=Object.prototype.toString,Ac=e=>dS.call(e),CP=e=>Ac(e).slice(8,-1),pS=e=>Ac(e)==="[object Object]",Fg=e=>Ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ef=Pg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},OP=/-(\w)/g,Qr=wh(e=>e.replace(OP,(t,n)=>n?n.toUpperCase():"")),NP=/\B([A-Z])/g,Du=wh(e=>e.replace(NP,"-$1").toLowerCase()),bh=wh(e=>e.charAt(0).toUpperCase()+e.slice(1)),zm=wh(e=>e?`on${bh(e)}`:""),tc=(e,t)=>!Object.is(e,t),If=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Df=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},mS=e=>{const t=parseFloat(e);return isNaN(t)?e:t},RP=e=>{const t=Ft(e)?Number(e):NaN;return isNaN(t)?e:t};let pE;const xP=()=>pE||(pE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Yn;class vS{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!t&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Yn;try{return Yn=this,t()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function gS(e){return new vS(e)}function PP(e,t=Yn){t&&t.active&&t.effects.push(e)}function yS(){return Yn}function DP(e){Yn&&Yn.cleanups.push(e)}const Mg=e=>{const t=new Set(e);return t.w=0,t.n=0,t},_S=e=>(e.w&to)>0,wS=e=>(e.n&to)>0,LP=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=to},FP=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];_S(o)&&!wS(o)?o.delete(e):t[n++]=o,o.w&=~to,o.n&=~to}t.length=n}},Lf=new WeakMap;let Fa=0,to=1;const Sv=30;let Tr;const Yo=Symbol(""),Av=Symbol("");class Vg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,PP(this,r)}run(){if(!this.active)return this.fn();let t=Tr,n=zi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Tr,Tr=this,zi=!0,to=1<<++Fa,Fa<=Sv?LP(this):mE(this),this.fn()}finally{Fa<=Sv&&FP(this),to=1<<--Fa,Tr=this.parent,zi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Tr===this?this.deferStop=!0:this.active&&(mE(this),this.onStop&&this.onStop(),this.active=!1)}}function mE(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let zi=!0;const bS=[];function Lu(){bS.push(zi),zi=!1}function Fu(){const e=bS.pop();zi=e===void 0?!0:e}function Bn(e,t,n){if(zi&&Tr){let r=Lf.get(e);r||Lf.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Mg()),ES(o)}}function ES(e,t){let n=!1;Fa<=Sv?wS(e)||(e.n|=to,n=!_S(e)):n=!e.has(Tr),n&&(e.add(Tr),Tr.deps.push(e))}function mi(e,t,n,r,o,s){const a=Lf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&xe(e)){const f=Number(r);a.forEach((d,v)=>{(v==="length"||v>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":xe(e)?Fg(n)&&l.push(a.get("length")):(l.push(a.get(Yo)),nu(e)&&l.push(a.get(Av)));break;case"delete":xe(e)||(l.push(a.get(Yo)),nu(e)&&l.push(a.get(Av)));break;case"set":nu(e)&&l.push(a.get(Yo));break}if(l.length===1)l[0]&&kv(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);kv(Mg(f))}}function kv(e,t){const n=xe(e)?e:[...e];for(const r of n)r.computed&&vE(r);for(const r of n)r.computed||vE(r)}function vE(e,t){(e!==Tr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function MP(e,t){var n;return(n=Lf.get(e))===null||n===void 0?void 0:n.get(t)}const VP=Pg("__proto__,__v_isRef,__isVue"),IS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ec)),jP=jg(),UP=jg(!1,!0),BP=jg(!0),gE=qP();function qP(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ye(this);for(let s=0,a=this.length;s<a;s++)Bn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Ye)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Lu();const r=Ye(this)[t].apply(this,n);return Fu(),r}}),e}function $P(e){const t=Ye(this);return Bn(t,"has",e),t.hasOwnProperty(e)}function jg(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?oD:CS:t?kS:AS).get(r))return r;const a=xe(r);if(!e){if(a&&Je(gE,o))return Reflect.get(gE,o,s);if(o==="hasOwnProperty")return $P}const l=Reflect.get(r,o,s);return(ec(o)?IS.has(o):VP(o))||(e||Bn(r,"get",o),t)?l:at(l)?a&&Fg(o)?l:l.value:pt(l)?e?OS(l):mr(l):l}}const HP=TS(),KP=TS(!0);function TS(e=!1){return function(n,r,o,s){let a=n[r];if(au(a)&&at(a)&&!at(o))return!1;if(!e&&(!Ff(o)&&!au(o)&&(a=Ye(a),o=Ye(o)),!xe(n)&&at(a)&&!at(o)))return a.value=o,!0;const l=xe(n)&&Fg(r)?Number(r)<n.length:Je(n,r),f=Reflect.set(n,r,o,s);return n===Ye(s)&&(l?tc(o,a)&&mi(n,"set",r,o):mi(n,"add",r,o)),f}}function GP(e,t){const n=Je(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&mi(e,"delete",t,void 0),r}function zP(e,t){const n=Reflect.has(e,t);return(!ec(t)||!IS.has(t))&&Bn(e,"has",t),n}function WP(e){return Bn(e,"iterate",xe(e)?"length":Yo),Reflect.ownKeys(e)}const SS={get:jP,set:HP,deleteProperty:GP,has:zP,ownKeys:WP},XP={get:BP,set(e,t){return!0},deleteProperty(e,t){return!0}},YP=fn({},SS,{get:UP,set:KP}),Ug=e=>e,Eh=e=>Reflect.getPrototypeOf(e);function Zl(e,t,n=!1,r=!1){e=e.__v_raw;const o=Ye(e),s=Ye(t);n||(t!==s&&Bn(o,"get",t),Bn(o,"get",s));const{has:a}=Eh(o),l=r?Ug:n?$g:nc;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function ef(e,t=!1){const n=this.__v_raw,r=Ye(n),o=Ye(e);return t||(e!==o&&Bn(r,"has",e),Bn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function tf(e,t=!1){return e=e.__v_raw,!t&&Bn(Ye(e),"iterate",Yo),Reflect.get(e,"size",e)}function yE(e){e=Ye(e);const t=Ye(this);return Eh(t).has.call(t,e)||(t.add(e),mi(t,"add",e,e)),this}function _E(e,t){t=Ye(t);const n=Ye(this),{has:r,get:o}=Eh(n);let s=r.call(n,e);s||(e=Ye(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?tc(t,a)&&mi(n,"set",e,t):mi(n,"add",e,t),this}function wE(e){const t=Ye(this),{has:n,get:r}=Eh(t);let o=n.call(t,e);o||(e=Ye(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&mi(t,"delete",e,void 0),s}function bE(){const e=Ye(this),t=e.size!==0,n=e.clear();return t&&mi(e,"clear",void 0,void 0),n}function nf(e,t){return function(r,o){const s=this,a=s.__v_raw,l=Ye(a),f=t?Ug:e?$g:nc;return!e&&Bn(l,"iterate",Yo),a.forEach((d,v)=>r.call(o,f(d),f(v),s))}}function rf(e,t,n){return function(...r){const o=this.__v_raw,s=Ye(o),a=nu(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...r),v=n?Ug:t?$g:nc;return!t&&Bn(s,"iterate",f?Av:Yo),{next(){const{value:h,done:m}=d.next();return m?{value:h,done:m}:{value:l?[v(h[0]),v(h[1])]:v(h),done:m}},[Symbol.iterator](){return this}}}}function Ni(e){return function(...t){return e==="delete"?!1:this}}function QP(){const e={get(s){return Zl(this,s)},get size(){return tf(this)},has:ef,add:yE,set:_E,delete:wE,clear:bE,forEach:nf(!1,!1)},t={get(s){return Zl(this,s,!1,!0)},get size(){return tf(this)},has:ef,add:yE,set:_E,delete:wE,clear:bE,forEach:nf(!1,!0)},n={get(s){return Zl(this,s,!0)},get size(){return tf(this,!0)},has(s){return ef.call(this,s,!0)},add:Ni("add"),set:Ni("set"),delete:Ni("delete"),clear:Ni("clear"),forEach:nf(!0,!1)},r={get(s){return Zl(this,s,!0,!0)},get size(){return tf(this,!0)},has(s){return ef.call(this,s,!0)},add:Ni("add"),set:Ni("set"),delete:Ni("delete"),clear:Ni("clear"),forEach:nf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=rf(s,!1,!1),n[s]=rf(s,!0,!1),t[s]=rf(s,!1,!0),r[s]=rf(s,!0,!0)}),[e,n,t,r]}const[JP,ZP,eD,tD]=QP();function Bg(e,t){const n=t?e?tD:eD:e?ZP:JP;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Je(n,o)&&o in r?n:r,o,s)}const nD={get:Bg(!1,!1)},rD={get:Bg(!1,!0)},iD={get:Bg(!0,!1)},AS=new WeakMap,kS=new WeakMap,CS=new WeakMap,oD=new WeakMap;function sD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uD(e){return e.__v_skip||!Object.isExtensible(e)?0:sD(CP(e))}function mr(e){return au(e)?e:qg(e,!1,SS,nD,AS)}function aD(e){return qg(e,!1,YP,rD,kS)}function OS(e){return qg(e,!0,XP,iD,CS)}function qg(e,t,n,r,o){if(!pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=uD(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return o.set(e,l),l}function Wi(e){return au(e)?Wi(e.__v_raw):!!(e&&e.__v_isReactive)}function au(e){return!!(e&&e.__v_isReadonly)}function Ff(e){return!!(e&&e.__v_isShallow)}function NS(e){return Wi(e)||au(e)}function Ye(e){const t=e&&e.__v_raw;return t?Ye(t):e}function no(e){return Df(e,"__v_skip",!0),e}const nc=e=>pt(e)?mr(e):e,$g=e=>pt(e)?OS(e):e;function RS(e){zi&&Tr&&(e=Ye(e),ES(e.dep||(e.dep=Mg())))}function xS(e,t){e=Ye(e);const n=e.dep;n&&kv(n)}function at(e){return!!(e&&e.__v_isRef===!0)}function yt(e){return PS(e,!1)}function cD(e){return PS(e,!0)}function PS(e,t){return at(e)?e:new lD(e,t)}class lD{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ye(t),this._value=n?t:nc(t)}get value(){return RS(this),this._value}set value(t){const n=this.__v_isShallow||Ff(t)||au(t);t=n?t:Ye(t),tc(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:nc(t),xS(this))}}function H(e){return at(e)?e.value:e}const fD={get:(e,t,n)=>H(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return at(o)&&!at(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function DS(e){return Wi(e)?e:new Proxy(e,fD)}function hD(e){const t=xe(e)?new Array(e.length):{};for(const n in e)t[n]=Gt(e,n);return t}class dD{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return MP(Ye(this._object),this._key)}}function Gt(e,t,n){const r=e[t];return at(r)?r:new dD(e,t,n)}var LS;class pD{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[LS]=!1,this._dirty=!0,this.effect=new Vg(t,()=>{this._dirty||(this._dirty=!0,xS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Ye(this);return RS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}LS="__v_isReadonly";function mD(e,t,n=!1){let r,o;const s=Ue(e);return s?(r=e,o=Ar):(r=e.get,o=e.set),new pD(r,o,s||!o,n)}function Xi(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){Ih(s,t,n)}return o}function pr(e,t,n,r){if(Ue(e)){const s=Xi(e,t,n,r);return s&&hS(s)&&s.catch(a=>{Ih(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(pr(e[s],t,n,r));return o}function Ih(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Xi(f,null,10,[e,a,l]);return}}vD(e,n,o,r)}function vD(e,t,n,r=!0){console.error(e)}let rc=!1,Cv=!1;const vn=[];let Gr=0;const ru=[];let ai=null,Bo=0;const FS=Promise.resolve();let Hg=null;function er(e){const t=Hg||FS;return e?t.then(this?e.bind(this):e):t}function gD(e){let t=Gr+1,n=vn.length;for(;t<n;){const r=t+n>>>1;ic(vn[r])<e?t=r+1:n=r}return t}function Kg(e){(!vn.length||!vn.includes(e,rc&&e.allowRecurse?Gr+1:Gr))&&(e.id==null?vn.push(e):vn.splice(gD(e.id),0,e),MS())}function MS(){!rc&&!Cv&&(Cv=!0,Hg=FS.then(jS))}function yD(e){const t=vn.indexOf(e);t>Gr&&vn.splice(t,1)}function _D(e){xe(e)?ru.push(...e):(!ai||!ai.includes(e,e.allowRecurse?Bo+1:Bo))&&ru.push(e),MS()}function EE(e,t=rc?Gr+1:0){for(;t<vn.length;t++){const n=vn[t];n&&n.pre&&(vn.splice(t,1),t--,n())}}function VS(e){if(ru.length){const t=[...new Set(ru)];if(ru.length=0,ai){ai.push(...t);return}for(ai=t,ai.sort((n,r)=>ic(n)-ic(r)),Bo=0;Bo<ai.length;Bo++)ai[Bo]();ai=null,Bo=0}}const ic=e=>e.id==null?1/0:e.id,wD=(e,t)=>{const n=ic(e)-ic(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function jS(e){Cv=!1,rc=!0,vn.sort(wD);const t=Ar;try{for(Gr=0;Gr<vn.length;Gr++){const n=vn[Gr];n&&n.active!==!1&&Xi(n,null,14)}}finally{Gr=0,vn.length=0,VS(),rc=!1,Hg=null,(vn.length||ru.length)&&jS()}}function bD(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||gt;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const v=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:m}=r[v]||gt;m&&(o=n.map(y=>Ft(y)?y.trim():y)),h&&(o=n.map(mS))}let l,f=r[l=zm(t)]||r[l=zm(Qr(t))];!f&&s&&(f=r[l=zm(Du(t))]),f&&pr(f,e,6,o);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,pr(d,e,6,o)}}function US(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Ue(e)){const f=d=>{const v=US(d,t,!0);v&&(l=!0,fn(a,v))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(pt(e)&&r.set(e,null),null):(xe(s)?s.forEach(f=>a[f]=null):fn(a,s),pt(e)&&r.set(e,a),a)}function Th(e,t){return!e||!yh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,Du(t))||Je(e,t))}let tr=null,BS=null;function Mf(e){const t=tr;return tr=e,BS=e&&e.type.__scopeId||null,t}function Vn(e,t=tr,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&xE(-1);const s=Mf(t);let a;try{a=e(...o)}finally{Mf(s),r._d&&xE(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Wm(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:d,render:v,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:b}=e;let S,I;const R=Mf(e);try{if(n.shapeFlag&4){const q=o||r;S=Kr(v.call(q,q,h,s,y,m,_)),I=f}else{const q=t;S=Kr(q.length>1?q(s,{attrs:f,slots:l,emit:d}):q(s,null)),I=t.props?f:ED(f)}}catch(q){Ua.length=0,Ih(q,e,1),S=Ne(kr)}let F=S;if(I&&b!==!1){const q=Object.keys(I),{shapeFlag:P}=F;q.length&&P&7&&(a&&q.some(Dg)&&(I=ID(I,a)),F=ro(F,I))}return n.dirs&&(F=ro(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),S=F,Mf(R),S}const ED=e=>{let t;for(const n in e)(n==="class"||n==="style"||yh(n))&&((t||(t={}))[n]=e[n]);return t},ID=(e,t)=>{const n={};for(const r in e)(!Dg(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function TD(e,t,n){const{props:r,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?IE(r,a,d):!!a;if(f&8){const v=t.dynamicProps;for(let h=0;h<v.length;h++){const m=v[h];if(a[m]!==r[m]&&!Th(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?IE(r,a,d):!0:!!a;return!1}function IE(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Th(n,s))return!0}return!1}function SD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const AD=e=>e.__isSuspense;function kD(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):_D(e)}function Yi(e,t){if(Lt){let n=Lt.provides;const r=Lt.parent&&Lt.parent.provides;r===n&&(n=Lt.provides=Object.create(r)),n[e]=t}}function jn(e,t,n=!1){const r=Lt||tr;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ue(t)?t.call(r.proxy):t}}function qS(e,t){return Gg(e,null,t)}const of={};function it(e,t,n){return Gg(e,t,n)}function Gg(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=gt){const l=yS()===(Lt==null?void 0:Lt.scope)?Lt:null;let f,d=!1,v=!1;if(at(e)?(f=()=>e.value,d=Ff(e)):Wi(e)?(f=()=>e,r=!0):xe(e)?(v=!0,d=e.some(F=>Wi(F)||Ff(F)),f=()=>e.map(F=>{if(at(F))return F.value;if(Wi(F))return Ko(F);if(Ue(F))return Xi(F,l,2)})):Ue(e)?t?f=()=>Xi(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return h&&h(),pr(e,l,3,[m])}:f=Ar,t&&r){const F=f;f=()=>Ko(F())}let h,m=F=>{h=I.onStop=()=>{Xi(F,l,4)}},y;if(sc)if(m=Ar,t?n&&pr(t,l,3,[f(),v?[]:void 0,m]):f(),o==="sync"){const F=yL();y=F.__watcherHandles||(F.__watcherHandles=[])}else return Ar;let _=v?new Array(e.length).fill(of):of;const b=()=>{if(I.active)if(t){const F=I.run();(r||d||(v?F.some((q,P)=>tc(q,_[P])):tc(F,_)))&&(h&&h(),pr(t,l,3,[F,_===of?void 0:v&&_[0]===of?[]:_,m]),_=F)}else I.run()};b.allowRecurse=!!t;let S;o==="sync"?S=b:o==="post"?S=()=>Fn(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),S=()=>Kg(b));const I=new Vg(f,S);t?n?b():_=I.run():o==="post"?Fn(I.run.bind(I),l&&l.suspense):I.run();const R=()=>{I.stop(),l&&l.scope&&Lg(l.scope.effects,I)};return y&&y.push(R),R}function CD(e,t,n){const r=this.proxy,o=Ft(e)?e.includes(".")?$S(r,e):()=>r[e]:e.bind(r,r);let s;Ue(t)?s=t:(s=t.handler,n=t);const a=Lt;lu(this);const l=Gg(o,s.bind(r),n);return a?lu(a):Qo(),l}function $S(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Ko(e,t){if(!pt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),at(e))Ko(e.value,t);else if(xe(e))for(let n=0;n<e.length;n++)Ko(e[n],t);else if(_h(e)||nu(e))e.forEach(n=>{Ko(n,t)});else if(pS(e))for(const n in e)Ko(e[n],t);return e}function OD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mu(()=>{e.isMounted=!0}),Vu(()=>{e.isUnmounting=!0}),e}const fr=[Function,Array],ND={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fr,onEnter:fr,onAfterEnter:fr,onEnterCancelled:fr,onBeforeLeave:fr,onLeave:fr,onAfterLeave:fr,onLeaveCancelled:fr,onBeforeAppear:fr,onAppear:fr,onAfterAppear:fr,onAppearCancelled:fr},setup(e,{slots:t}){const n=so(),r=OD();let o;return()=>{const s=t.default&&GS(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const b of s)if(b.type!==kr){a=b;break}}const l=Ye(e),{mode:f}=l;if(r.isLeaving)return Xm(a);const d=TE(a);if(!d)return Xm(a);const v=Ov(d,l,r,n);Nv(d,v);const h=n.subTree,m=h&&TE(h);let y=!1;const{getTransitionKey:_}=d.type;if(_){const b=_();o===void 0?o=b:b!==o&&(o=b,y=!0)}if(m&&m.type!==kr&&(!qo(d,m)||y)){const b=Ov(m,l,r,n);if(Nv(m,b),f==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Xm(a);f==="in-out"&&d.type!==kr&&(b.delayLeave=(S,I,R)=>{const F=KS(r,m);F[String(m.key)]=m,S._leaveCb=()=>{I(),S._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=R})}return a}}},HS=ND;function KS(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ov(e,t,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:v,onBeforeLeave:h,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:b,onAppear:S,onAfterAppear:I,onAppearCancelled:R}=t,F=String(e.key),q=KS(n,e),P=(N,M)=>{N&&pr(N,r,9,M)},x=(N,M)=>{const k=M[1];P(N,M),xe(N)?N.every(Te=>Te.length<=1)&&k():N.length<=1&&k()},V={mode:s,persisted:a,beforeEnter(N){let M=l;if(!n.isMounted)if(o)M=b||l;else return;N._leaveCb&&N._leaveCb(!0);const k=q[F];k&&qo(e,k)&&k.el._leaveCb&&k.el._leaveCb(),P(M,[N])},enter(N){let M=f,k=d,Te=v;if(!n.isMounted)if(o)M=S||f,k=I||d,Te=R||v;else return;let ie=!1;const ke=N._enterCb=Ee=>{ie||(ie=!0,Ee?P(Te,[N]):P(k,[N]),V.delayedLeave&&V.delayedLeave(),N._enterCb=void 0)};M?x(M,[N,ke]):ke()},leave(N,M){const k=String(e.key);if(N._enterCb&&N._enterCb(!0),n.isUnmounting)return M();P(h,[N]);let Te=!1;const ie=N._leaveCb=ke=>{Te||(Te=!0,M(),ke?P(_,[N]):P(y,[N]),N._leaveCb=void 0,q[k]===e&&delete q[k])};q[k]=e,m?x(m,[N,ie]):ie()},clone(N){return Ov(N,t,n,r)}};return V}function Xm(e){if(Sh(e))return e=ro(e),e.children=null,e}function TE(e){return Sh(e)?e.children?e.children[0]:void 0:e}function Nv(e,t){e.shapeFlag&6&&e.component?Nv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function GS(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Kt?(a.patchFlag&128&&o++,r=r.concat(GS(a.children,t,l))):(t||a.type!==kr)&&r.push(l!=null?ro(a,{key:l}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function ti(e){return Ue(e)?{setup:e,name:e.name}:e}const Tf=e=>!!e.type.__asyncLoader,Sh=e=>e.type.__isKeepAlive;function RD(e,t){zS(e,"a",t)}function xD(e,t){zS(e,"da",t)}function zS(e,t,n=Lt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ah(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Sh(o.parent.vnode)&&PD(r,t,n,o),o=o.parent}}function PD(e,t,n,r){const o=Ah(t,e,r,!0);WS(()=>{Lg(r[t],o)},n)}function Ah(e,t,n=Lt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Lu(),lu(n);const l=pr(t,n,e,a);return Qo(),Fu(),l});return r?o.unshift(s):o.push(s),s}}const yi=e=>(t,n=Lt)=>(!sc||e==="sp")&&Ah(e,(...r)=>t(...r),n),DD=yi("bm"),Mu=yi("m"),LD=yi("bu"),FD=yi("u"),Vu=yi("bum"),WS=yi("um"),MD=yi("sp"),VD=yi("rtg"),jD=yi("rtc");function UD(e,t=Lt){Ah("ec",e,t)}function Rv(e,t){const n=tr;if(n===null)return e;const r=Oh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,d=gt]=t[s];a&&(Ue(a)&&(a={mounted:a,updated:a}),a.deep&&Ko(l),o.push({dir:a,instance:r,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function Do(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[r];f&&(Lu(),pr(f,n,8,[e.el,l,e,t]),Fu())}}const zg="components";function St(e,t){return YS(zg,e,!0,t)||e}const XS=Symbol();function hs(e){return Ft(e)?YS(zg,e,!1)||e:e||XS}function YS(e,t,n=!0,r=!1){const o=tr||Lt;if(o){const s=o.type;if(e===zg){const l=mL(s,!1);if(l&&(l===t||l===Qr(t)||l===bh(Qr(t))))return s}const a=SE(o[e]||s[e],t)||SE(o.appContext[e],t);return!a&&r?s:a}}function SE(e,t){return e&&(e[t]||e[Qr(t)]||e[bh(Qr(t))])}function kc(e,t,n,r){let o;const s=n&&n[r];if(xe(e)||Ft(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(pt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const xv=e=>e?a1(e)?Oh(e)||e.proxy:xv(e.parent):null,ja=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xv(e.parent),$root:e=>xv(e.root),$emit:e=>e.emit,$options:e=>Wg(e),$forceUpdate:e=>e.f||(e.f=()=>Kg(e.update)),$nextTick:e=>e.n||(e.n=er.bind(e.proxy)),$watch:e=>CD.bind(e)}),Ym=(e,t)=>e!==gt&&!e.__isScriptSetup&&Je(e,t),BD={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Ym(r,t))return a[t]=1,r[t];if(o!==gt&&Je(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Je(d,t))return a[t]=3,s[t];if(n!==gt&&Je(n,t))return a[t]=4,n[t];Pv&&(a[t]=0)}}const v=ja[t];let h,m;if(v)return t==="$attrs"&&Bn(e,"get",t),v(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==gt&&Je(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,Je(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Ym(o,t)?(o[t]=n,!0):r!==gt&&Je(r,t)?(r[t]=n,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==gt&&Je(e,a)||Ym(t,a)||(l=s[0])&&Je(l,a)||Je(r,a)||Je(ja,a)||Je(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Pv=!0;function qD(e){const t=Wg(e),n=e.proxy,r=e.ctx;Pv=!1,t.beforeCreate&&AE(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:d,created:v,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:b,deactivated:S,beforeDestroy:I,beforeUnmount:R,destroyed:F,unmounted:q,render:P,renderTracked:x,renderTriggered:V,errorCaptured:N,serverPrefetch:M,expose:k,inheritAttrs:Te,components:ie,directives:ke,filters:Ee}=t;if(d&&$D(d,r,null,e.appContext.config.unwrapInjectedRef),a)for(const de in a){const ge=a[de];Ue(ge)&&(r[de]=ge.bind(n))}if(o){const de=o.call(n,n);pt(de)&&(e.data=mr(de))}if(Pv=!0,s)for(const de in s){const ge=s[de],Ke=Ue(ge)?ge.bind(n,n):Ue(ge.get)?ge.get.bind(n,n):Ar,Ze=!Ue(ge)&&Ue(ge.set)?ge.set.bind(n):Ar,nt=Re({get:Ke,set:Ze});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Qe=>nt.value=Qe})}if(l)for(const de in l)QS(l[de],r,n,de);if(f){const de=Ue(f)?f.call(n):f;Reflect.ownKeys(de).forEach(ge=>{Yi(ge,de[ge])})}v&&AE(v,e,"c");function he(de,ge){xe(ge)?ge.forEach(Ke=>de(Ke.bind(n))):ge&&de(ge.bind(n))}if(he(DD,h),he(Mu,m),he(LD,y),he(FD,_),he(RD,b),he(xD,S),he(UD,N),he(jD,x),he(VD,V),he(Vu,R),he(WS,q),he(MD,M),xe(k))if(k.length){const de=e.exposed||(e.exposed={});k.forEach(ge=>{Object.defineProperty(de,ge,{get:()=>n[ge],set:Ke=>n[ge]=Ke})})}else e.exposed||(e.exposed={});P&&e.render===Ar&&(e.render=P),Te!=null&&(e.inheritAttrs=Te),ie&&(e.components=ie),ke&&(e.directives=ke)}function $D(e,t,n=Ar,r=!1){xe(e)&&(e=Dv(e));for(const o in e){const s=e[o];let a;pt(s)?"default"in s?a=jn(s.from||o,s.default,!0):a=jn(s.from||o):a=jn(s),at(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function AE(e,t,n){pr(xe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function QS(e,t,n,r){const o=r.includes(".")?$S(n,r):()=>n[r];if(Ft(e)){const s=t[e];Ue(s)&&it(o,s)}else if(Ue(e))it(o,e.bind(n));else if(pt(e))if(xe(e))e.forEach(s=>QS(s,t,n,r));else{const s=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(s)&&it(o,s,e)}}function Wg(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>Vf(f,d,a,!0)),Vf(f,t,a)),pt(t)&&s.set(t,f),f}function Vf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Vf(e,s,n,!0),o&&o.forEach(a=>Vf(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=HD[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const HD={data:kE,props:jo,emits:jo,methods:jo,computed:jo,beforeCreate:Tn,created:Tn,beforeMount:Tn,mounted:Tn,beforeUpdate:Tn,updated:Tn,beforeDestroy:Tn,beforeUnmount:Tn,destroyed:Tn,unmounted:Tn,activated:Tn,deactivated:Tn,errorCaptured:Tn,serverPrefetch:Tn,components:jo,directives:jo,watch:GD,provide:kE,inject:KD};function kE(e,t){return t?e?function(){return fn(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function KD(e,t){return jo(Dv(e),Dv(t))}function Dv(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Tn(e,t){return e?[...new Set([].concat(e,t))]:t}function jo(e,t){return e?fn(fn(Object.create(null),e),t):t}function GD(e,t){if(!e)return t;if(!t)return e;const n=fn(Object.create(null),e);for(const r in t)n[r]=Tn(e[r],t[r]);return n}function zD(e,t,n,r=!1){const o={},s={};Df(s,Ch,1),e.propsDefaults=Object.create(null),JS(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:aD(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function WD(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=Ye(o),[f]=e.propsOptions;let d=!1;if((r||a>0)&&!(a&16)){if(a&8){const v=e.vnode.dynamicProps;for(let h=0;h<v.length;h++){let m=v[h];if(Th(e.emitsOptions,m))continue;const y=t[m];if(f)if(Je(s,m))y!==s[m]&&(s[m]=y,d=!0);else{const _=Qr(m);o[_]=Lv(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,d=!0)}}}else{JS(e,t,o,s)&&(d=!0);let v;for(const h in l)(!t||!Je(t,h)&&((v=Du(h))===h||!Je(t,v)))&&(f?n&&(n[h]!==void 0||n[v]!==void 0)&&(o[h]=Lv(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Je(t,h))&&(delete s[h],d=!0)}d&&mi(e,"set","$attrs")}function JS(e,t,n,r){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Ef(f))continue;const d=t[f];let v;o&&Je(o,v=Qr(f))?!s||!s.includes(v)?n[v]=d:(l||(l={}))[v]=d:Th(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,a=!0)}if(s){const f=Ye(n),d=l||gt;for(let v=0;v<s.length;v++){const h=s[v];n[h]=Lv(o,f,h,d[h],e,!Je(d,h))}}return a}function Lv(e,t,n,r,o,s){const a=e[n];if(a!=null){const l=Je(a,"default");if(l&&r===void 0){const f=a.default;if(a.type!==Function&&Ue(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(lu(o),r=d[n]=f.call(null,t),Qo())}else r=f}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===Du(n))&&(r=!0))}return r}function ZS(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Ue(e)){const v=h=>{f=!0;const[m,y]=ZS(h,t,!0);fn(a,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!s&&!f)return pt(e)&&r.set(e,tu),tu;if(xe(s))for(let v=0;v<s.length;v++){const h=Qr(s[v]);CE(h)&&(a[h]=gt)}else if(s)for(const v in s){const h=Qr(v);if(CE(h)){const m=s[v],y=a[h]=xe(m)||Ue(m)?{type:m}:Object.assign({},m);if(y){const _=RE(Boolean,y.type),b=RE(String,y.type);y[0]=_>-1,y[1]=b<0||_<b,(_>-1||Je(y,"default"))&&l.push(h)}}}const d=[a,l];return pt(e)&&r.set(e,d),d}function CE(e){return e[0]!=="$"}function OE(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function NE(e,t){return OE(e)===OE(t)}function RE(e,t){return xe(t)?t.findIndex(n=>NE(n,e)):Ue(t)&&NE(t,e)?0:-1}const e1=e=>e[0]==="_"||e==="$stable",Xg=e=>xe(e)?e.map(Kr):[Kr(e)],XD=(e,t,n)=>{if(t._n)return t;const r=Vn((...o)=>Xg(t(...o)),n);return r._c=!1,r},t1=(e,t,n)=>{const r=e._ctx;for(const o in e){if(e1(o))continue;const s=e[o];if(Ue(s))t[o]=XD(o,s,r);else if(s!=null){const a=Xg(s);t[o]=()=>a}}},n1=(e,t)=>{const n=Xg(t);e.slots.default=()=>n},YD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ye(t),Df(t,"_",n)):t1(t,e.slots={})}else e.slots={},t&&n1(e,t);Df(e.slots,Ch,1)},QD=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=gt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(fn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,t1(t,o)),a=t}else t&&(n1(e,t),a={default:1});if(s)for(const l in o)!e1(l)&&!(l in a)&&delete o[l]};function r1(){return{app:null,config:{isNativeTag:SP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let JD=0;function ZD(e,t){return function(r,o=null){Ue(r)||(r=Object.assign({},r)),o!=null&&!pt(o)&&(o=null);const s=r1(),a=new Set;let l=!1;const f=s.app={_uid:JD++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:_L,get config(){return s.config},set config(d){},use(d,...v){return a.has(d)||(d&&Ue(d.install)?(a.add(d),d.install(f,...v)):Ue(d)&&(a.add(d),d(f,...v))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,v){return v?(s.components[d]=v,f):s.components[d]},directive(d,v){return v?(s.directives[d]=v,f):s.directives[d]},mount(d,v,h){if(!l){const m=Ne(r,o);return m.appContext=s,v&&t?t(m,d):e(m,d,h),l=!0,f._container=d,d.__vue_app__=f,Oh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,v){return s.provides[d]=v,f}};return f}}function Fv(e,t,n,r,o=!1){if(xe(e)){e.forEach((m,y)=>Fv(m,t&&(xe(t)?t[y]:t),n,r,o));return}if(Tf(r)&&!o)return;const s=r.shapeFlag&4?Oh(r.component)||r.component.proxy:r.el,a=o?null:s,{i:l,r:f}=e,d=t&&t.r,v=l.refs===gt?l.refs={}:l.refs,h=l.setupState;if(d!=null&&d!==f&&(Ft(d)?(v[d]=null,Je(h,d)&&(h[d]=null)):at(d)&&(d.value=null)),Ue(f))Xi(f,l,12,[a,v]);else{const m=Ft(f),y=at(f);if(m||y){const _=()=>{if(e.f){const b=m?Je(h,f)?h[f]:v[f]:f.value;o?xe(b)&&Lg(b,s):xe(b)?b.includes(s)||b.push(s):m?(v[f]=[s],Je(h,f)&&(h[f]=v[f])):(f.value=[s],e.k&&(v[e.k]=f.value))}else m?(v[f]=a,Je(h,f)&&(h[f]=a)):y&&(f.value=a,e.k&&(v[e.k]=a))};a?(_.id=-1,Fn(_,n)):_()}}}const Fn=kD;function eL(e){return tL(e)}function tL(e,t){const n=xP();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:d,setElementText:v,parentNode:h,nextSibling:m,setScopeId:y=Ar,insertStaticContent:_}=e,b=(A,D,U,W=null,Q=null,ue=null,ce=!1,oe=null,fe=!!D.dynamicChildren)=>{if(A===D)return;A&&!qo(A,D)&&(W=L(A),Qe(A,Q,ue,!0),A=null),D.patchFlag===-2&&(fe=!1,D.dynamicChildren=null);const{type:T,ref:O,shapeFlag:j}=D;switch(T){case kh:S(A,D,U,W);break;case kr:I(A,D,U,W);break;case Sf:A==null&&R(D,U,W,ce);break;case Kt:ie(A,D,U,W,Q,ue,ce,oe,fe);break;default:j&1?P(A,D,U,W,Q,ue,ce,oe,fe):j&6?ke(A,D,U,W,Q,ue,ce,oe,fe):(j&64||j&128)&&T.process(A,D,U,W,Q,ue,ce,oe,fe,me)}O!=null&&Q&&Fv(O,A&&A.ref,ue,D||A,!D)},S=(A,D,U,W)=>{if(A==null)r(D.el=l(D.children),U,W);else{const Q=D.el=A.el;D.children!==A.children&&d(Q,D.children)}},I=(A,D,U,W)=>{A==null?r(D.el=f(D.children||""),U,W):D.el=A.el},R=(A,D,U,W)=>{[A.el,A.anchor]=_(A.children,D,U,W,A.el,A.anchor)},F=({el:A,anchor:D},U,W)=>{let Q;for(;A&&A!==D;)Q=m(A),r(A,U,W),A=Q;r(D,U,W)},q=({el:A,anchor:D})=>{let U;for(;A&&A!==D;)U=m(A),o(A),A=U;o(D)},P=(A,D,U,W,Q,ue,ce,oe,fe)=>{ce=ce||D.type==="svg",A==null?x(D,U,W,Q,ue,ce,oe,fe):M(A,D,Q,ue,ce,oe,fe)},x=(A,D,U,W,Q,ue,ce,oe)=>{let fe,T;const{type:O,props:j,shapeFlag:$,transition:ne,dirs:ee}=A;if(fe=A.el=a(A.type,ue,j&&j.is,j),$&8?v(fe,A.children):$&16&&N(A.children,fe,null,W,Q,ue&&O!=="foreignObject",ce,oe),ee&&Do(A,null,W,"created"),V(fe,A,A.scopeId,ce,W),j){for(const ve in j)ve!=="value"&&!Ef(ve)&&s(fe,ve,null,j[ve],ue,A.children,W,Q,le);"value"in j&&s(fe,"value",null,j.value),(T=j.onVnodeBeforeMount)&&$r(T,W,A)}ee&&Do(A,null,W,"beforeMount");const Y=(!Q||Q&&!Q.pendingBranch)&&ne&&!ne.persisted;Y&&ne.beforeEnter(fe),r(fe,D,U),((T=j&&j.onVnodeMounted)||Y||ee)&&Fn(()=>{T&&$r(T,W,A),Y&&ne.enter(fe),ee&&Do(A,null,W,"mounted")},Q)},V=(A,D,U,W,Q)=>{if(U&&y(A,U),W)for(let ue=0;ue<W.length;ue++)y(A,W[ue]);if(Q){let ue=Q.subTree;if(D===ue){const ce=Q.vnode;V(A,ce,ce.scopeId,ce.slotScopeIds,Q.parent)}}},N=(A,D,U,W,Q,ue,ce,oe,fe=0)=>{for(let T=fe;T<A.length;T++){const O=A[T]=oe?Ui(A[T]):Kr(A[T]);b(null,O,D,U,W,Q,ue,ce,oe)}},M=(A,D,U,W,Q,ue,ce)=>{const oe=D.el=A.el;let{patchFlag:fe,dynamicChildren:T,dirs:O}=D;fe|=A.patchFlag&16;const j=A.props||gt,$=D.props||gt;let ne;U&&Lo(U,!1),(ne=$.onVnodeBeforeUpdate)&&$r(ne,U,D,A),O&&Do(D,A,U,"beforeUpdate"),U&&Lo(U,!0);const ee=Q&&D.type!=="foreignObject";if(T?k(A.dynamicChildren,T,oe,U,W,ee,ue):ce||ge(A,D,oe,null,U,W,ee,ue,!1),fe>0){if(fe&16)Te(oe,D,j,$,U,W,Q);else if(fe&2&&j.class!==$.class&&s(oe,"class",null,$.class,Q),fe&4&&s(oe,"style",j.style,$.style,Q),fe&8){const Y=D.dynamicProps;for(let ve=0;ve<Y.length;ve++){const Le=Y[ve],Ve=j[Le],Kn=$[Le];(Kn!==Ve||Le==="value")&&s(oe,Le,Ve,Kn,Q,A.children,U,W,le)}}fe&1&&A.children!==D.children&&v(oe,D.children)}else!ce&&T==null&&Te(oe,D,j,$,U,W,Q);((ne=$.onVnodeUpdated)||O)&&Fn(()=>{ne&&$r(ne,U,D,A),O&&Do(D,A,U,"updated")},W)},k=(A,D,U,W,Q,ue,ce)=>{for(let oe=0;oe<D.length;oe++){const fe=A[oe],T=D[oe],O=fe.el&&(fe.type===Kt||!qo(fe,T)||fe.shapeFlag&70)?h(fe.el):U;b(fe,T,O,null,W,Q,ue,ce,!0)}},Te=(A,D,U,W,Q,ue,ce)=>{if(U!==W){if(U!==gt)for(const oe in U)!Ef(oe)&&!(oe in W)&&s(A,oe,U[oe],null,ce,D.children,Q,ue,le);for(const oe in W){if(Ef(oe))continue;const fe=W[oe],T=U[oe];fe!==T&&oe!=="value"&&s(A,oe,T,fe,ce,D.children,Q,ue,le)}"value"in W&&s(A,"value",U.value,W.value)}},ie=(A,D,U,W,Q,ue,ce,oe,fe)=>{const T=D.el=A?A.el:l(""),O=D.anchor=A?A.anchor:l("");let{patchFlag:j,dynamicChildren:$,slotScopeIds:ne}=D;ne&&(oe=oe?oe.concat(ne):ne),A==null?(r(T,U,W),r(O,U,W),N(D.children,U,O,Q,ue,ce,oe,fe)):j>0&&j&64&&$&&A.dynamicChildren?(k(A.dynamicChildren,$,U,Q,ue,ce,oe),(D.key!=null||Q&&D===Q.subTree)&&i1(A,D,!0)):ge(A,D,U,O,Q,ue,ce,oe,fe)},ke=(A,D,U,W,Q,ue,ce,oe,fe)=>{D.slotScopeIds=oe,A==null?D.shapeFlag&512?Q.ctx.activate(D,U,W,ce,fe):Ee(D,U,W,Q,ue,ce,fe):_e(A,D,fe)},Ee=(A,D,U,W,Q,ue,ce)=>{const oe=A.component=lL(A,W,Q);if(Sh(A)&&(oe.ctx.renderer=me),fL(oe),oe.asyncDep){if(Q&&Q.registerDep(oe,he),!A.el){const fe=oe.subTree=Ne(kr);I(null,fe,D,U)}return}he(oe,A,D,U,Q,ue,ce)},_e=(A,D,U)=>{const W=D.component=A.component;if(TD(A,D,U))if(W.asyncDep&&!W.asyncResolved){de(W,D,U);return}else W.next=D,yD(W.update),W.update();else D.el=A.el,W.vnode=D},he=(A,D,U,W,Q,ue,ce)=>{const oe=()=>{if(A.isMounted){let{next:O,bu:j,u:$,parent:ne,vnode:ee}=A,Y=O,ve;Lo(A,!1),O?(O.el=ee.el,de(A,O,ce)):O=ee,j&&If(j),(ve=O.props&&O.props.onVnodeBeforeUpdate)&&$r(ve,ne,O,ee),Lo(A,!0);const Le=Wm(A),Ve=A.subTree;A.subTree=Le,b(Ve,Le,h(Ve.el),L(Ve),A,Q,ue),O.el=Le.el,Y===null&&SD(A,Le.el),$&&Fn($,Q),(ve=O.props&&O.props.onVnodeUpdated)&&Fn(()=>$r(ve,ne,O,ee),Q)}else{let O;const{el:j,props:$}=D,{bm:ne,m:ee,parent:Y}=A,ve=Tf(D);if(Lo(A,!1),ne&&If(ne),!ve&&(O=$&&$.onVnodeBeforeMount)&&$r(O,Y,D),Lo(A,!0),j&&Ie){const Le=()=>{A.subTree=Wm(A),Ie(j,A.subTree,A,Q,null)};ve?D.type.__asyncLoader().then(()=>!A.isUnmounted&&Le()):Le()}else{const Le=A.subTree=Wm(A);b(null,Le,U,W,A,Q,ue),D.el=Le.el}if(ee&&Fn(ee,Q),!ve&&(O=$&&$.onVnodeMounted)){const Le=D;Fn(()=>$r(O,Y,Le),Q)}(D.shapeFlag&256||Y&&Tf(Y.vnode)&&Y.vnode.shapeFlag&256)&&A.a&&Fn(A.a,Q),A.isMounted=!0,D=U=W=null}},fe=A.effect=new Vg(oe,()=>Kg(T),A.scope),T=A.update=()=>fe.run();T.id=A.uid,Lo(A,!0),T()},de=(A,D,U)=>{D.component=A;const W=A.vnode.props;A.vnode=D,A.next=null,WD(A,D.props,W,U),QD(A,D.children,U),Lu(),EE(),Fu()},ge=(A,D,U,W,Q,ue,ce,oe,fe=!1)=>{const T=A&&A.children,O=A?A.shapeFlag:0,j=D.children,{patchFlag:$,shapeFlag:ne}=D;if($>0){if($&128){Ze(T,j,U,W,Q,ue,ce,oe,fe);return}else if($&256){Ke(T,j,U,W,Q,ue,ce,oe,fe);return}}ne&8?(O&16&&le(T,Q,ue),j!==T&&v(U,j)):O&16?ne&16?Ze(T,j,U,W,Q,ue,ce,oe,fe):le(T,Q,ue,!0):(O&8&&v(U,""),ne&16&&N(j,U,W,Q,ue,ce,oe,fe))},Ke=(A,D,U,W,Q,ue,ce,oe,fe)=>{A=A||tu,D=D||tu;const T=A.length,O=D.length,j=Math.min(T,O);let $;for($=0;$<j;$++){const ne=D[$]=fe?Ui(D[$]):Kr(D[$]);b(A[$],ne,U,null,Q,ue,ce,oe,fe)}T>O?le(A,Q,ue,!0,!1,j):N(D,U,W,Q,ue,ce,oe,fe,j)},Ze=(A,D,U,W,Q,ue,ce,oe,fe)=>{let T=0;const O=D.length;let j=A.length-1,$=O-1;for(;T<=j&&T<=$;){const ne=A[T],ee=D[T]=fe?Ui(D[T]):Kr(D[T]);if(qo(ne,ee))b(ne,ee,U,null,Q,ue,ce,oe,fe);else break;T++}for(;T<=j&&T<=$;){const ne=A[j],ee=D[$]=fe?Ui(D[$]):Kr(D[$]);if(qo(ne,ee))b(ne,ee,U,null,Q,ue,ce,oe,fe);else break;j--,$--}if(T>j){if(T<=$){const ne=$+1,ee=ne<O?D[ne].el:W;for(;T<=$;)b(null,D[T]=fe?Ui(D[T]):Kr(D[T]),U,ee,Q,ue,ce,oe,fe),T++}}else if(T>$)for(;T<=j;)Qe(A[T],Q,ue,!0),T++;else{const ne=T,ee=T,Y=new Map;for(T=ee;T<=$;T++){const At=D[T]=fe?Ui(D[T]):Kr(D[T]);At.key!=null&&Y.set(At.key,T)}let ve,Le=0;const Ve=$-ee+1;let Kn=!1,We=0;const bi=new Array(Ve);for(T=0;T<Ve;T++)bi[T]=0;for(T=ne;T<=j;T++){const At=A[T];if(Le>=Ve){Qe(At,Q,ue,!0);continue}let Gn;if(At.key!=null)Gn=Y.get(At.key);else for(ve=ee;ve<=$;ve++)if(bi[ve-ee]===0&&qo(At,D[ve])){Gn=ve;break}Gn===void 0?Qe(At,Q,ue,!0):(bi[Gn-ee]=T+1,Gn>=We?We=Gn:Kn=!0,b(At,D[Gn],U,null,Q,ue,ce,oe,fe),Le++)}const Dr=Kn?nL(bi):tu;for(ve=Dr.length-1,T=Ve-1;T>=0;T--){const At=ee+T,Gn=D[At],tn=At+1<O?D[At+1].el:W;bi[T]===0?b(null,Gn,U,tn,Q,ue,ce,oe,fe):Kn&&(ve<0||T!==Dr[ve]?nt(Gn,U,tn,2):ve--)}}},nt=(A,D,U,W,Q=null)=>{const{el:ue,type:ce,transition:oe,children:fe,shapeFlag:T}=A;if(T&6){nt(A.component.subTree,D,U,W);return}if(T&128){A.suspense.move(D,U,W);return}if(T&64){ce.move(A,D,U,me);return}if(ce===Kt){r(ue,D,U);for(let j=0;j<fe.length;j++)nt(fe[j],D,U,W);r(A.anchor,D,U);return}if(ce===Sf){F(A,D,U);return}if(W!==2&&T&1&&oe)if(W===0)oe.beforeEnter(ue),r(ue,D,U),Fn(()=>oe.enter(ue),Q);else{const{leave:j,delayLeave:$,afterLeave:ne}=oe,ee=()=>r(ue,D,U),Y=()=>{j(ue,()=>{ee(),ne&&ne()})};$?$(ue,ee,Y):Y()}else r(ue,D,U)},Qe=(A,D,U,W=!1,Q=!1)=>{const{type:ue,props:ce,ref:oe,children:fe,dynamicChildren:T,shapeFlag:O,patchFlag:j,dirs:$}=A;if(oe!=null&&Fv(oe,null,U,A,!0),O&256){D.ctx.deactivate(A);return}const ne=O&1&&$,ee=!Tf(A);let Y;if(ee&&(Y=ce&&ce.onVnodeBeforeUnmount)&&$r(Y,D,A),O&6)X(A.component,U,W);else{if(O&128){A.suspense.unmount(U,W);return}ne&&Do(A,null,D,"beforeUnmount"),O&64?A.type.remove(A,D,U,Q,me,W):T&&(ue!==Kt||j>0&&j&64)?le(T,D,U,!1,!0):(ue===Kt&&j&384||!Q&&O&16)&&le(fe,D,U),W&&Ot(A)}(ee&&(Y=ce&&ce.onVnodeUnmounted)||ne)&&Fn(()=>{Y&&$r(Y,D,A),ne&&Do(A,null,D,"unmounted")},U)},Ot=A=>{const{type:D,el:U,anchor:W,transition:Q}=A;if(D===Kt){en(U,W);return}if(D===Sf){q(A);return}const ue=()=>{o(U),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(A.shapeFlag&1&&Q&&!Q.persisted){const{leave:ce,delayLeave:oe}=Q,fe=()=>ce(U,ue);oe?oe(A.el,ue,fe):fe()}else ue()},en=(A,D)=>{let U;for(;A!==D;)U=m(A),o(A),A=U;o(D)},X=(A,D,U)=>{const{bum:W,scope:Q,update:ue,subTree:ce,um:oe}=A;W&&If(W),Q.stop(),ue&&(ue.active=!1,Qe(ce,A,D,U)),oe&&Fn(oe,D),Fn(()=>{A.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},le=(A,D,U,W=!1,Q=!1,ue=0)=>{for(let ce=ue;ce<A.length;ce++)Qe(A[ce],D,U,W,Q)},L=A=>A.shapeFlag&6?L(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),K=(A,D,U)=>{A==null?D._vnode&&Qe(D._vnode,null,null,!0):b(D._vnode||null,A,D,null,null,null,U),EE(),VS(),D._vnode=A},me={p:b,um:Qe,m:nt,r:Ot,mt:Ee,mc:N,pc:ge,pbc:k,n:L,o:e};let Ge,Ie;return t&&([Ge,Ie]=t(me)),{render:K,hydrate:Ge,createApp:ZD(K,Ge)}}function Lo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function i1(e,t,n=!1){const r=e.children,o=t.children;if(xe(r)&&xe(o))for(let s=0;s<r.length;s++){const a=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ui(o[s]),l.el=a.el),n||i1(a,l)),l.type===kh&&(l.el=a.el)}}function nL(e){const t=e.slice(),n=[0];let r,o,s,a,l;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const rL=e=>e.__isTeleport,Kt=Symbol(void 0),kh=Symbol(void 0),kr=Symbol(void 0),Sf=Symbol(void 0),Ua=[];let Sr=null;function ze(e=!1){Ua.push(Sr=e?null:[])}function iL(){Ua.pop(),Sr=Ua[Ua.length-1]||null}let oc=1;function xE(e){oc+=e}function o1(e){return e.dynamicChildren=oc>0?Sr||tu:null,iL(),oc>0&&Sr&&Sr.push(e),e}function ht(e,t,n,r,o,s){return o1(G(e,t,n,r,o,s,!0))}function ns(e,t,n,r,o){return o1(Ne(e,t,n,r,o,!0))}function Mv(e){return e?e.__v_isVNode===!0:!1}function qo(e,t){return e.type===t.type&&e.key===t.key}const Ch="__vInternal",s1=({key:e})=>e??null,Af=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ft(e)||at(e)||Ue(e)?{i:tr,r:e,k:t,f:!!n}:e:null;function G(e,t=null,n=null,r=0,o=null,s=e===Kt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&s1(t),ref:t&&Af(t),scopeId:BS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:tr};return l?(Yg(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Ft(n)?8:16),oc>0&&!a&&Sr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Sr.push(f),f}const Ne=oL;function oL(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===XS)&&(e=kr),Mv(e)){const l=ro(e,t,!0);return n&&Yg(l,n),oc>0&&!s&&Sr&&(l.shapeFlag&6?Sr[Sr.indexOf(e)]=l:Sr.push(l)),l.patchFlag|=-2,l}if(vL(e)&&(e=e.__vccOpts),t){t=sL(t);let{class:l,style:f}=t;l&&!Ft(l)&&(t.class=On(l)),pt(f)&&(NS(f)&&!xe(f)&&(f=fn({},f)),t.style=uu(f))}const a=Ft(e)?1:AD(e)?128:rL(e)?64:pt(e)?4:Ue(e)?2:0;return G(e,t,n,r,o,a,s,!0)}function sL(e){return e?NS(e)||Ch in e?fn({},e):e:null}function ro(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,l=t?u1(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&s1(l),ref:t&&t.ref?n&&o?xe(o)?o.concat(Af(t)):[o,Af(t)]:Af(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Kt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ro(e.ssContent),ssFallback:e.ssFallback&&ro(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function iu(e=" ",t=0){return Ne(kh,null,e,t)}function uL(e,t){const n=Ne(Sf,null,e);return n.staticCount=t,n}function cu(e="",t=!1){return t?(ze(),ns(kr,null,e)):Ne(kr,null,e)}function Kr(e){return e==null||typeof e=="boolean"?Ne(kr):xe(e)?Ne(Kt,null,e.slice()):typeof e=="object"?Ui(e):Ne(kh,null,String(e))}function Ui(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ro(e)}function Yg(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(xe(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Yg(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Ch in t)?t._ctx=tr:o===3&&tr&&(tr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:tr},n=32):(t=String(t),r&64?(n=16,t=[iu(t)]):n=8);e.children=t,e.shapeFlag|=n}function u1(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=On([t.class,r.class]));else if(o==="style")t.style=uu([t.style,r.style]);else if(yh(o)){const s=t[o],a=r[o];a&&s!==a&&!(xe(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=r[o])}return t}function $r(e,t,n,r=null){pr(e,t,7,[n,r])}const aL=r1();let cL=0;function lL(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||aL,s={uid:cL++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new vS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZS(r,o),emitsOptions:US(r,o),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=bD.bind(null,s),e.ce&&e.ce(s),s}let Lt=null;const so=()=>Lt||tr,lu=e=>{Lt=e,e.scope.on()},Qo=()=>{Lt&&Lt.scope.off(),Lt=null};function a1(e){return e.vnode.shapeFlag&4}let sc=!1;function fL(e,t=!1){sc=t;const{props:n,children:r}=e.vnode,o=a1(e);zD(e,n,o,t),YD(e,r);const s=o?hL(e,t):void 0;return sc=!1,s}function hL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=no(new Proxy(e.ctx,BD));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?pL(e):null;lu(e),Lu();const s=Xi(r,e,0,[e.props,o]);if(Fu(),Qo(),hS(s)){if(s.then(Qo,Qo),t)return s.then(a=>{PE(e,a,t)}).catch(a=>{Ih(a,e,0)});e.asyncDep=s}else PE(e,s,t)}else c1(e,t)}function PE(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pt(t)&&(e.setupState=DS(t)),c1(e,n)}let DE;function c1(e,t,n){const r=e.type;if(!e.render){if(!t&&DE&&!r.render){const o=r.template||Wg(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,d=fn(fn({isCustomElement:s,delimiters:l},a),f);r.render=DE(o,d)}}e.render=r.render||Ar}lu(e),Lu(),qD(e),Fu(),Qo()}function dL(e){return new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}})}function pL(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=dL(e))},slots:e.slots,emit:e.emit,expose:t}}function Oh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(DS(no(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ja)return ja[n](e)},has(t,n){return n in t||n in ja}}))}function mL(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function vL(e){return Ue(e)&&"__vccOpts"in e}const Re=(e,t)=>mD(e,t,sc);function Rr(e,t,n){const r=arguments.length;return r===2?pt(t)&&!xe(t)?Mv(t)?Ne(e,null,[t]):Ne(e,t):Ne(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mv(n)&&(n=[n]),Ne(e,t,n))}const gL=Symbol(""),yL=()=>jn(gL),_L="3.2.47",wL="http://www.w3.org/2000/svg",$o=typeof document<"u"?document:null,LE=$o&&$o.createElement("template"),bL={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?$o.createElementNS(wL,e):$o.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>$o.createTextNode(e),createComment:e=>$o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{LE.innerHTML=r?`<svg>${e}</svg>`:e;const l=LE.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function EL(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function IL(e,t,n){const r=e.style,o=Ft(n);if(n&&!o){if(t&&!Ft(t))for(const s in t)n[s]==null&&Vv(r,s,"");for(const s in n)Vv(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const FE=/\s*!important$/;function Vv(e,t,n){if(xe(n))n.forEach(r=>Vv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=TL(e,t);FE.test(n)?e.setProperty(Du(r),n.replace(FE,""),"important"):e[r]=n}}const ME=["Webkit","Moz","ms"],Qm={};function TL(e,t){const n=Qm[t];if(n)return n;let r=Qr(t);if(r!=="filter"&&r in e)return Qm[t]=r;r=bh(r);for(let o=0;o<ME.length;o++){const s=ME[o]+r;if(s in e)return Qm[t]=s}return t}const VE="http://www.w3.org/1999/xlink";function SL(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(VE,t.slice(6,t.length)):e.setAttributeNS(VE,t,n);else{const s=EP(t);n==null||s&&!lS(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function AL(e,t,n,r,o,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=lS(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function l1(e,t,n,r){e.addEventListener(t,n,r)}function kL(e,t,n,r){e.removeEventListener(t,n,r)}function CL(e,t,n,r,o=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[l,f]=OL(t);if(r){const d=s[t]=xL(r,o);l1(e,l,d,f)}else a&&(kL(e,l,a,f),s[t]=void 0)}}const jE=/(?:Once|Passive|Capture)$/;function OL(e){let t;if(jE.test(e)){t={};let r;for(;r=e.match(jE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Du(e.slice(2)),t]}let Jm=0;const NL=Promise.resolve(),RL=()=>Jm||(NL.then(()=>Jm=0),Jm=Date.now());function xL(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;pr(PL(r,n.value),t,5,[r])};return n.value=e,n.attached=RL(),n}function PL(e,t){if(xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const UE=/^on[a-z]/,DL=(e,t,n,r,o=!1,s,a,l,f)=>{t==="class"?EL(e,r,o):t==="style"?IL(e,n,r):yh(t)?Dg(t)||CL(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):LL(e,t,r,o))?AL(e,t,r,s,a,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),SL(e,t,r,o))};function LL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&UE.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||UE.test(t)&&Ft(n)?!1:t in e}const Ri="transition",Na="animation",Qg=(e,{slots:t})=>Rr(HS,FL(e),t);Qg.displayName="Transition";const f1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Qg.props=fn({},HS.props,f1);const Fo=(e,t=[])=>{xe(e)?e.forEach(n=>n(...t)):e&&e(...t)},BE=e=>e?xe(e)?e.some(t=>t.length>1):e.length>1:!1;function FL(e){const t={};for(const ie in e)ie in f1||(t[ie]=e[ie]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=a,appearToClass:v=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=ML(o),b=_&&_[0],S=_&&_[1],{onBeforeEnter:I,onEnter:R,onEnterCancelled:F,onLeave:q,onLeaveCancelled:P,onBeforeAppear:x=I,onAppear:V=R,onAppearCancelled:N=F}=t,M=(ie,ke,Ee)=>{Mo(ie,ke?v:l),Mo(ie,ke?d:a),Ee&&Ee()},k=(ie,ke)=>{ie._isLeaving=!1,Mo(ie,h),Mo(ie,y),Mo(ie,m),ke&&ke()},Te=ie=>(ke,Ee)=>{const _e=ie?V:R,he=()=>M(ke,ie,Ee);Fo(_e,[ke,he]),qE(()=>{Mo(ke,ie?f:s),xi(ke,ie?v:l),BE(_e)||$E(ke,r,b,he)})};return fn(t,{onBeforeEnter(ie){Fo(I,[ie]),xi(ie,s),xi(ie,a)},onBeforeAppear(ie){Fo(x,[ie]),xi(ie,f),xi(ie,d)},onEnter:Te(!1),onAppear:Te(!0),onLeave(ie,ke){ie._isLeaving=!0;const Ee=()=>k(ie,ke);xi(ie,h),UL(),xi(ie,m),qE(()=>{ie._isLeaving&&(Mo(ie,h),xi(ie,y),BE(q)||$E(ie,r,S,Ee))}),Fo(q,[ie,Ee])},onEnterCancelled(ie){M(ie,!1),Fo(F,[ie])},onAppearCancelled(ie){M(ie,!0),Fo(N,[ie])},onLeaveCancelled(ie){k(ie),Fo(P,[ie])}})}function ML(e){if(e==null)return null;if(pt(e))return[Zm(e.enter),Zm(e.leave)];{const t=Zm(e);return[t,t]}}function Zm(e){return RP(e)}function xi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Mo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function qE(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let VL=0;function $E(e,t,n,r){const o=e._endId=++VL,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:l,propCount:f}=jL(e,t);if(!a)return r();const d=a+"end";let v=0;const h=()=>{e.removeEventListener(d,m),s()},m=y=>{y.target===e&&++v>=f&&h()};setTimeout(()=>{v<f&&h()},l+1),e.addEventListener(d,m)}function jL(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Ri}Delay`),s=r(`${Ri}Duration`),a=HE(o,s),l=r(`${Na}Delay`),f=r(`${Na}Duration`),d=HE(l,f);let v=null,h=0,m=0;t===Ri?a>0&&(v=Ri,h=a,m=s.length):t===Na?d>0&&(v=Na,h=d,m=f.length):(h=Math.max(a,d),v=h>0?a>d?Ri:Na:null,m=v?v===Ri?s.length:f.length:0);const y=v===Ri&&/\b(transform|all)(,|$)/.test(r(`${Ri}Property`).toString());return{type:v,timeout:h,propCount:m,hasTransform:y}}function HE(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>KE(n)+KE(e[r])))}function KE(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function UL(){return document.body.offsetHeight}const GE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?n=>If(t,n):t},BL={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=_h(t);l1(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?mS(jf(a)):jf(a));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=GE(r)},mounted(e,{value:t}){zE(e,t)},beforeUpdate(e,t,n){e._assign=GE(n)},updated(e,{value:t}){zE(e,t)}};function zE(e,t){const n=e.multiple;if(!(n&&!xe(t)&&!_h(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],a=jf(s);if(n)xe(t)?s.selected=TP(t,a)>-1:s.selected=t.has(a);else if(gh(jf(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function jf(e){return"_value"in e?e._value:e.value}const qL=["ctrl","shift","alt","meta"],$L={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qL.some(n=>e[`${n}Key`]&&!t.includes(n))},un=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=$L[t[o]];if(s&&s(n,t))return}return e(n,...r)},WE={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ra(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ra(e,!0),r.enter(e)):r.leave(e,()=>{Ra(e,!1)}):Ra(e,t))},beforeUnmount(e,{value:t}){Ra(e,t)}};function Ra(e,t){e.style.display=t?e._vod:"none"}const HL=fn({patchProp:DL},bL);let XE;function KL(){return XE||(XE=eL(HL))}const GL=(...e)=>{const t=KL().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=zL(r);if(!o)return;const s=t._component;!Ue(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function zL(e){return Ft(e)?document.querySelector(e):e}var WL=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let h1;const Nh=e=>h1=e,d1=Symbol();function jv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ba;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ba||(Ba={}));function XL(){const e=gS(!0),t=e.run(()=>yt({}));let n=[],r=[];const o=no({install(s){Nh(o),o._a=s,s.provide(d1,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!WL?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const p1=()=>{};function YE(e,t,n,r=p1){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&yS()&&DP(o),o}function Hs(e,...t){e.slice().forEach(n=>{n(...t)})}function Uv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];jv(o)&&jv(r)&&e.hasOwnProperty(n)&&!at(r)&&!Wi(r)?e[n]=Uv(o,r):e[n]=r}return e}const YL=Symbol();function QL(e){return!jv(e)||!e.hasOwnProperty(YL)}const{assign:Mi}=Object;function JL(e){return!!(at(e)&&e.effect)}function ZL(e,t,n,r){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const v=hD(n.state.value[e]);return Mi(v,s,Object.keys(a||{}).reduce((h,m)=>(h[m]=no(Re(()=>{Nh(n);const y=n._s.get(e);return a[m].call(y,y)})),h),{}))}return f=m1(e,d,t,n,r,!0),f}function m1(e,t,n={},r,o,s){let a;const l=Mi({actions:{}},n),f={deep:!0};let d,v,h=no([]),m=no([]),y;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),yt({});let b;function S(V){let N;d=v=!1,typeof V=="function"?(V(r.state.value[e]),N={type:Ba.patchFunction,storeId:e,events:y}):(Uv(r.state.value[e],V),N={type:Ba.patchObject,payload:V,storeId:e,events:y});const M=b=Symbol();er().then(()=>{b===M&&(d=!0)}),v=!0,Hs(h,N,r.state.value[e])}const I=s?function(){const{state:N}=n,M=N?N():{};this.$patch(k=>{Mi(k,M)})}:p1;function R(){a.stop(),h=[],m=[],r._s.delete(e)}function F(V,N){return function(){Nh(r);const M=Array.from(arguments),k=[],Te=[];function ie(_e){k.push(_e)}function ke(_e){Te.push(_e)}Hs(m,{args:M,name:V,store:P,after:ie,onError:ke});let Ee;try{Ee=N.apply(this&&this.$id===e?this:P,M)}catch(_e){throw Hs(Te,_e),_e}return Ee instanceof Promise?Ee.then(_e=>(Hs(k,_e),_e)).catch(_e=>(Hs(Te,_e),Promise.reject(_e))):(Hs(k,Ee),Ee)}}const q={_p:r,$id:e,$onAction:YE.bind(null,m),$patch:S,$reset:I,$subscribe(V,N={}){const M=YE(h,V,N.detached,()=>k()),k=a.run(()=>it(()=>r.state.value[e],Te=>{(N.flush==="sync"?v:d)&&V({storeId:e,type:Ba.direct,events:y},Te)},Mi({},f,N)));return M},$dispose:R},P=mr(q);r._s.set(e,P);const x=r._e.run(()=>(a=gS(),a.run(()=>t())));for(const V in x){const N=x[V];if(at(N)&&!JL(N)||Wi(N))s||(_&&QL(N)&&(at(N)?N.value=_[V]:Uv(N,_[V])),r.state.value[e][V]=N);else if(typeof N=="function"){const M=F(V,N);x[V]=M,l.actions[V]=N}}return Mi(P,x),Mi(Ye(P),x),Object.defineProperty(P,"$state",{get:()=>r.state.value[e],set:V=>{S(N=>{Mi(N,V)})}}),r._p.forEach(V=>{Mi(P,a.run(()=>V({store:P,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(P.$state,_),d=!0,v=!0,P}function Jg(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function a(l,f){const d=so();return l=l||d&&jn(d1,null),l&&Nh(l),l=h1,l._s.has(r)||(s?m1(r,t,o,l):ZL(r,o,l)),l._s.get(r)}return a.$id=r,a}let eF="Store";function tF(...e){return e.reduce((t,n)=>(t[n.$id+eF]=function(){return n(this.$pinia)},t),{})}function Zg(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Rh(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function v1(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const Bv=Jg("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var qv=function(e,t){return qv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},qv(e,t)};function Oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var fu=function(){return fu=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},fu.apply(this,arguments)};function Z(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(v){try{d(r.next(v))}catch(h){a(h)}}function f(v){try{d(r.throw(v))}catch(h){a(h)}}function d(v){v.done?s(v.value):o(v.value).then(l,f)}d((r=r.apply(e,t||[])).next())})}function J(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(v){return f([d,v])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(v){d=[6,v],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ev(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function bt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},nF=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},rF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,v=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|d>>6,y=d&63;f||(y=64,a||(m=64)),r.push(n[v],n[h],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g1(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var v=o<e.length,h=v?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||h==null)throw Error();var m=s<<2|l>>4;if(r.push(m),d!==64){var y=l<<4&240|d>>2;if(r.push(y),h!==64){var _=d<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},iF=function(e){var t=g1(e);return rF.encodeByteArray(t,!0)},QE=function(e){return iF(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e){return uc(void 0,e)}function uc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!sF(r)||(e[r]=uc(e[r],t[r]));return e}function sF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uF=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=fu({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[QE(JSON.stringify(n)),QE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function _1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cF(){return typeof self=="object"&&self.self===self}function lF(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function fF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hF(){return rs().indexOf("Electron/")>=0}function dF(){var e=rs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pF(){return rs().indexOf("MSAppHost/")>=0}function mF(){return!_1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vF="FirebaseError",w1=function(e){Oe(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=vF,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,ey.prototype.create),s}return t}(Error),ey=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?gF(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new w1(s,f,o);return d},e}();function gF(e,t){return e.replace(yF,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var yF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _F(e,t){var n=new wF(e,t);return n.subscribe.bind(n)}var wF=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bF(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=tv),s.error===void 0&&(s.error=tv),s.complete===void 0&&(s.complete=tv);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function bF(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function tv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(e){return e&&e._delegate?e._delegate:e}var Cc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EF=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new uF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(TF(t))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}try{for(var o=ev(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=sf(s.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService({instanceIdentifier:d});f.resolve(v)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Uo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(bt(bt([],sf(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),sf(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Uo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Uo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=ev(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var v=sf(d.value,2),h=v[0],m=v[1],y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=ev(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IF(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Uo),this.component?this.component.multipleInstances?t:Uo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function IF(e){return e===Uo?void 0:e}function TF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SF=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new EF(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ir(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo,ty=[],tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tt||(tt={}));var b1={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},AF=tt.INFO,kF=(Vo={},Vo[tt.DEBUG]="log",Vo[tt.VERBOSE]="log",Vo[tt.INFO]="info",Vo[tt.WARN]="warn",Vo[tt.ERROR]="error",Vo),CF=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=kF[t];if(s)console[s].apply(console,Ir(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},E1=function(){function e(t){this.name=t,this._logLevel=AF,this._logHandler=CF,this._userLogHandler=null,ty.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?b1[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.DEBUG],t)),this._logHandler.apply(this,Ir([this,tt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.VERBOSE],t)),this._logHandler.apply(this,Ir([this,tt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.INFO],t)),this._logHandler.apply(this,Ir([this,tt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.WARN],t)),this._logHandler.apply(this,Ir([this,tt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,tt.ERROR],t)),this._logHandler.apply(this,Ir([this,tt.ERROR],t))},e}();function OF(e){ty.forEach(function(t){t.setLogLevel(e)})}function NF(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=b1[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var v=[],h=2;h<arguments.length;h++)v[h-2]=arguments[h];var m=v.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");d>=(l??f.logLevel)&&e({level:tt[d].toLowerCase(),message:m,args:v,type:f.name})}},r=0,o=ty;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi,RF=(Pi={},Pi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Pi["bad-app-name"]="Illegal App name: '{$appName}",Pi["duplicate-app"]="Firebase App named '{$appName}' already exists",Pi["app-deleted"]="Firebase App named '{$appName}' already deleted",Pi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Pi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Pi),Xs=new ey("app","Firebase",RF),I1="@firebase/app",xF="0.6.30",PF="@firebase/analytics",DF="@firebase/app-check",LF="@firebase/auth",FF="@firebase/database",MF="@firebase/functions",VF="@firebase/installations",jF="@firebase/messaging",UF="@firebase/performance",BF="@firebase/remote-config",qF="@firebase/storage",$F="@firebase/firestore",HF="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Uf="[DEFAULT]",KF=(dn={},dn[I1]="fire-core",dn[PF]="fire-analytics",dn[DF]="fire-app-check",dn[LF]="fire-auth",dn[FF]="fire-rtdb",dn[MF]="fire-fn",dn[VF]="fire-iid",dn[jF]="fire-fcm",dn[UF]="fire-perf",dn[BF]="fire-rc",dn[qF]="fire-gcs",dn[$F]="fire-fst",dn["fire-js"]="fire-js",dn[HF]="fire-js-all",dn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu=new E1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=oF(t),this.container=new SF(n.name),this._addComponent(new Cc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Uf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Uf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){hu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Xs.create("app-deleted",{appName:this.name_})},e}();kf.prototype.name&&kf.prototype.options||kf.prototype.delete||console.log("dc");var GF="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:OF,onLog:v,apps:null,SDK_VERSION:GF,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||Uf,!JE(t,m))throw Xs.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var b=y;b.name===void 0&&(b.name=Uf);var S=b.name;if(typeof S!="string"||!S)throw Xs.create("bad-app-name",{appName:String(S)});if(JE(t,S))throw Xs.create("duplicate-app",{appName:S});var I=new e(m,b,r);return t[S]=I,I}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return hu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(R){if(R===void 0&&(R=s()),typeof R[y]!="function")throw Xs.create("invalid-app-argument",{appName:y});return R[y]()};m.serviceProps!==void 0&&uc(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];var q=this._getService.bind(this,y);return q.apply(this,m.multipleInstances?R:[])}}for(var b=0,S=Object.keys(t);b<S.length;b++){var I=S[b];t[I]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function d(m,y,_){var b,S=(b=KF[m])!==null&&b!==void 0?b:m;_&&(S+="-"+_);var I=S.match(/\s|\//),R=y.match(/\s|\//);if(I||R){var F=['Unable to register library "'+S+'" with version "'+y+'":'];I&&F.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),I&&R&&F.push("and"),R&&F.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),hu.warn(F.join(" "));return}f(new Cc(S+"-version",function(){return{library:S,version:y}},"VERSION"))}function v(m,y){if(m!==null&&typeof m!="function")throw Xs.create("invalid-log-argument");NF(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){var e=zF(kf);e.INTERNAL=fu(fu({},e.INTERNAL),{createFirebaseNamespace:T1,extendNamespace:t,createSubscribe:_F,ErrorFactory:ey,deepExtend:uc});function t(n){uc(e,n)}return e}var ny=T1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WF=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(XF(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function XF(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(e,t){e.INTERNAL.registerComponent(new Cc("platform-logger",function(n){return new WF(n)},"PRIVATE")),e.registerVersion(I1,xF,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(cF()&&self.firebase!==void 0){hu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var ZE=self.firebase.SDK_VERSION;ZE&&ZE.indexOf("LITE")>=0&&hu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var QF=ny.initializeApp;ny.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _1()&&hu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),QF.apply(void 0,e)};var Pe=ny;YF(Pe);var JF="firebase",S1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pe.registerVersion(JF,S1,"app");Pe.SDK_VERSION=S1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,u,c){i!=Array.prototype&&i!=Object.prototype&&(i[u]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var u=0;u<i.length;++u){var c=i[u];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,u){if(u){var c=r;i=i.split(".");for(var p=0;p<i.length-1;p++){var g=i[p];g in c||(c[g]={}),c=c[g]}i=i[i.length-1],p=c[i],u=u(p),u!=p&&u!=null&&t(c,i,{configurable:!0,writable:!0,value:u})}}function s(i){var u=0;return function(){return u<i.length?{done:!1,value:i[u++]}:{done:!0}}}function a(i){var u=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return u?u.call(i):{next:s(i)}}o("Promise",function(i){function u(E){this.b=0,this.c=void 0,this.a=[];var C=this.f();try{E(C.resolve,C.reject)}catch(z){C.reject(z)}}function c(){this.a=null}function p(E){return E instanceof u?E:new u(function(C){C(E)})}if(i)return i;c.prototype.b=function(E){if(this.a==null){this.a=[];var C=this;this.c(function(){C.g()})}this.a.push(E)};var g=r.setTimeout;c.prototype.c=function(E){g(E,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var C=0;C<E.length;++C){var z=E[C];E[C]=null;try{z()}catch(te){this.f(te)}}}this.a=null},c.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(te){return function(Fe){z||(z=!0,te.call(C,Fe))}}var C=this,z=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var C=E!=null;break e;case"function":C=!0;break e;default:C=!1}C?this.v(E):this.h(E)}},u.prototype.v=function(E){var C=void 0;try{C=E.then}catch(z){this.g(z);return}typeof C=="function"?this.u(C,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,C){if(this.b!=0)throw Error("Cannot settle("+E+", "+C+"): Promise already settled in state"+this.b);this.b=E,this.c=C,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)w.b(this.a[E]);this.a=null}};var w=new c;return u.prototype.s=function(E){var C=this.f();E.Ra(C.resolve,C.reject)},u.prototype.u=function(E,C){var z=this.f();try{E.call(C,z.resolve,z.reject)}catch(te){z.reject(te)}},u.prototype.then=function(E,C){function z(et,Qt){return typeof et=="function"?function(si){try{te(et(si))}catch(Gm){Fe(Gm)}}:Qt}var te,Fe,st=new u(function(et,Qt){te=et,Fe=Qt});return this.Ra(z(E,te),z(C,Fe)),st},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,C){function z(){switch(te.b){case 1:E(te.c);break;case 2:C(te.c);break;default:throw Error("Unexpected state: "+te.b)}}var te=this;this.a==null?w.b(z):this.a.push(z)},u.resolve=p,u.reject=function(E){return new u(function(C,z){z(E)})},u.race=function(E){return new u(function(C,z){for(var te=a(E),Fe=te.next();!Fe.done;Fe=te.next())p(Fe.value).Ra(C,z)})},u.all=function(E){var C=a(E),z=C.next();return z.done?p([]):new u(function(te,Fe){function st(si){return function(Gm){et[si]=Gm,Qt--,Qt==0&&te(et)}}var et=[],Qt=0;do et.push(void 0),Qt++,p(z.value).Ra(st(et.length-1),Fe),z=C.next();while(!z.done)})},u});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function m(){}function y(i){var u=typeof i;return u!="object"?u:i?Array.isArray(i)?"array":u:"null"}function _(i){var u=y(i);return u=="array"||u=="object"&&typeof i.length=="number"}function b(i){return y(i)=="function"}function S(i){var u=typeof i;return u=="object"&&i!=null||u=="function"}function I(i){return Object.prototype.hasOwnProperty.call(i,R)&&i[R]||(i[R]=++F)}var R="closure_uid_"+(1e9*Math.random()>>>0),F=0;function q(i,u,c){return i.call.apply(i.bind,arguments)}function P(i,u,c){if(!i)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),i.apply(u,g)}}return function(){return i.apply(u,arguments)}}function x(i,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x=q:x=P,x.apply(null,arguments)}function V(i,u){var c=Array.prototype.slice.call(arguments,1);return function(){var p=c.slice();return p.push.apply(p,arguments),i.apply(this,p)}}function N(i,u){function c(){}c.prototype=u.prototype,i.bb=u.prototype,i.prototype=new c,i.prototype.constructor=i}function M(i){return i}function k(i,u,c){this.code=ie+i,this.message=u||ke[i]||"",this.a=c||null}N(k,Error),k.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},k.prototype.toJSON=function(){return this.w()};function Te(i){var u=i&&i.code;return u?new k(u.substring(ie.length),i.message,i.serverResponse):null}var ie="auth/",ke={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ee={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function _e(i){for(var u in Ee)if(Ee[u].id===i)return i=Ee[u],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var he;he=_e("__EID__")?"__EID__":void 0;function de(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function ge(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ge);else{var u=Error().stack;u&&(this.stack=u)}i&&(this.message=String(i))}N(ge,Error),ge.prototype.name="CustomError";function Ke(i,u){i=i.split("%s");for(var c="",p=i.length-1,g=0;g<p;g++)c+=i[g]+(g<u.length?u[g]:"%s");ge.call(this,c+i[p])}N(Ke,ge),Ke.prototype.name="AssertionError";function Ze(i,u){throw new Ke("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function nt(i,u){this.c=i,this.f=u,this.b=0,this.a=null}nt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Qe(i,u){i.f(u),100>i.b&&(i.b++,u.next=i.a,i.a=u)}function Ot(){this.b=this.a=null}var en=new nt(function(){return new le},function(i){i.reset()});Ot.prototype.add=function(i,u){var c=en.get();c.set(i,u),this.b?this.b.next=c:this.a=c,this.b=c};function X(){var i=J_,u=null;return i.a&&(u=i.a,i.a=i.a.next,i.a||(i.b=null),u.next=null),u}function le(){this.next=this.b=this.a=null}le.prototype.set=function(i,u){this.a=i,this.b=u,this.next=null},le.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(i,u){return Array.prototype.indexOf.call(i,u,void 0)}:function(i,u){if(typeof i=="string")return typeof u!="string"||u.length!=1?-1:i.indexOf(u,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===u)return c;return-1},K=Array.prototype.forEach?function(i,u,c){Array.prototype.forEach.call(i,u,c)}:function(i,u,c){for(var p=i.length,g=typeof i=="string"?i.split(""):i,w=0;w<p;w++)w in g&&u.call(c,g[w],w,i)};function me(i,u){for(var c=typeof i=="string"?i.split(""):i,p=i.length-1;0<=p;--p)p in c&&u.call(void 0,c[p],p,i)}var Ge=Array.prototype.filter?function(i,u){return Array.prototype.filter.call(i,u,void 0)}:function(i,u){for(var c=i.length,p=[],g=0,w=typeof i=="string"?i.split(""):i,E=0;E<c;E++)if(E in w){var C=w[E];u.call(void 0,C,E,i)&&(p[g++]=C)}return p},Ie=Array.prototype.map?function(i,u){return Array.prototype.map.call(i,u,void 0)}:function(i,u){for(var c=i.length,p=Array(c),g=typeof i=="string"?i.split(""):i,w=0;w<c;w++)w in g&&(p[w]=u.call(void 0,g[w],w,i));return p},A=Array.prototype.some?function(i,u){return Array.prototype.some.call(i,u,void 0)}:function(i,u){for(var c=i.length,p=typeof i=="string"?i.split(""):i,g=0;g<c;g++)if(g in p&&u.call(void 0,p[g],g,i))return!0;return!1};function D(i){e:{for(var u=YN,c=i.length,p=typeof i=="string"?i.split(""):i,g=0;g<c;g++)if(g in p&&u.call(void 0,p[g],g,i)){u=g;break e}u=-1}return 0>u?null:typeof i=="string"?i.charAt(u):i[u]}function U(i,u){return 0<=L(i,u)}function W(i,u){u=L(i,u);var c;return(c=0<=u)&&Array.prototype.splice.call(i,u,1),c}function Q(i,u){var c=0;me(i,function(p,g){u.call(void 0,p,g,i)&&Array.prototype.splice.call(i,g,1).length==1&&c++})}function ue(i){return Array.prototype.concat.apply([],arguments)}function ce(i){var u=i.length;if(0<u){for(var c=Array(u),p=0;p<u;p++)c[p]=i[p];return c}return[]}var oe=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},fe=/&/g,T=/</g,O=/>/g,j=/"/g,$=/'/g,ne=/\x00/g,ee=/[\x00&<>"']/;function Y(i,u){return i.indexOf(u)!=-1}function ve(i,u){return i<u?-1:i>u?1:0}var Le;e:{var Ve=f.navigator;if(Ve){var Kn=Ve.userAgent;if(Kn){Le=Kn;break e}}Le=""}function We(i){return Y(Le,i)}function bi(i,u){for(var c in i)u.call(void 0,i[c],c,i)}function Dr(i){for(var u in i)return!1;return!0}function At(i){var u={},c;for(c in i)u[c]=i[c];return u}var Gn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tn(i,u){for(var c,p,g=1;g<arguments.length;g++){p=arguments[g];for(c in p)i[c]=p[c];for(var w=0;w<Gn.length;w++)c=Gn[w],Object.prototype.hasOwnProperty.call(p,c)&&(i[c]=p[c])}}function x_(i,u){e:{try{var c=i&&i.ownerDocument,p=c&&(c.defaultView||c.parentWindow);if(p=p||f,p.Element&&p.Location){var g=p;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!i||!(i instanceof g[u])&&(i instanceof g.Location||i instanceof g.Element))){if(S(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;Ze("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function Lr(i,u){this.a=i===Jc&&u||"",this.b=P_}Lr.prototype.ta=!0,Lr.prototype.sa=function(){return this.a},Lr.prototype.toString=function(){return"Const{"+this.a+"}"};function _d(i){return i instanceof Lr&&i.constructor===Lr&&i.b===P_?i.a:(Ze("expected object of type Const, got '"+i+"'"),"type_error:Const")}var P_={},Jc={},Zc;function D_(){if(Zc===void 0){var i=null,u=f.trustedTypes;if(u&&u.createPolicy){try{i=u.createPolicy("goog#html",{createHTML:M,createScript:M,createScriptURL:M})}catch(c){f.console&&f.console.error(c.message)}Zc=i}else Zc=i}return Zc}function bs(i,u){this.a=u===F_?i:""}bs.prototype.ta=!0,bs.prototype.sa=function(){return this.a.toString()},bs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function L_(i){return i instanceof bs&&i.constructor===bs?i.a:(Ze("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function wd(i,u){var c=_d(i);if(!AO.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(SO,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof Lr?_d(p):encodeURIComponent(String(p))}),kO(i)}var SO=/%{(\w+)}/g,AO=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,F_={};function kO(i){var u=D_();return i=u?u.createScriptURL(i):i,new bs(i,F_)}function xn(i,u){this.a=u===Wu?i:""}xn.prototype.ta=!0,xn.prototype.sa=function(){return this.a.toString()},xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function el(i){return i instanceof xn&&i.constructor===xn?i.a:(Ze("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var CO=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,OO=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,M_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function V_(i){if(i instanceof xn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),M_.test(i))i=new xn(i,Wu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var u=i.match(OO);i=u&&CO.test(u[1])?new xn(i,Wu):null}return i}function j_(i){return i instanceof xn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),M_.test(i)||(i="about:invalid#zClosurez"),new xn(i,Wu))}var Wu={},U_=new xn("about:invalid#zClosurez",Wu);function Es(i,u,c){this.a=c===B_?i:""}Es.prototype.ta=!0,Es.prototype.sa=function(){return this.a.toString()},Es.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function NO(i){return i instanceof Es&&i.constructor===Es?i.a:(Ze("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var B_={};function RO(i,u){x_(i,"HTMLScriptElement"),i.src=L_(u),(u=i.ownerDocument&&i.ownerDocument.defaultView)&&u!=f?u=h(u.document):(v===null&&(v=h(f.document)),u=v),u&&i.setAttribute("nonce",u)}function q_(i,u,c,p){return i=i instanceof xn?i:j_(i),u=u||f,c=c instanceof Lr?_d(c):c||"",u.open(el(i),c,p,void 0)}function $_(i,u){for(var c=i.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)p+=c.shift()+g.shift();return p+c.join("%s")}function bd(i){return ee.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(fe,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(T,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(O,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(j,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace($,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(ne,"&#0;"))),i}function Ed(i){return Ed[" "](i),i}Ed[" "]=m;function xO(i,u){var c=FO;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=u(i)}var PO=We("Opera"),vr=We("Trident")||We("MSIE"),H_=We("Edge"),DO=H_||vr,K_=We("Gecko")&&!(Y(Le.toLowerCase(),"webkit")&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),LO=Y(Le.toLowerCase(),"webkit")&&!We("Edge");function G_(){var i=f.document;return i?i.documentMode:void 0}var tl;e:{var Id="",Td=function(){var i=Le;if(K_)return/rv:([^\);]+)(\)|;)/.exec(i);if(H_)return/Edge\/([\d\.]+)/.exec(i);if(vr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(LO)return/WebKit\/(\S+)/.exec(i);if(PO)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Td&&(Id=Td?Td[1]:""),vr){var Sd=G_();if(Sd!=null&&Sd>parseFloat(Id)){tl=String(Sd);break e}}tl=Id}var FO={};function z_(i){return xO(i,function(){for(var u=0,c=oe(String(tl)).split("."),p=oe(String(i)).split("."),g=Math.max(c.length,p.length),w=0;u==0&&w<g;w++){var E=c[w]||"",C=p[w]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],E[0].length==0&&C[0].length==0)break;u=ve(E[1].length==0?0:parseInt(E[1],10),C[1].length==0?0:parseInt(C[1],10))||ve(E[2].length==0,C[2].length==0)||ve(E[2],C[2]),E=E[3],C=C[3]}while(u==0)}return 0<=u})}var Ad;if(f.document&&vr){var W_=G_();Ad=W_||parseInt(tl,10)||void 0}else Ad=void 0;var Ei=Ad;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var MO=!vr||9<=Number(Ei);function Xu(i){var u=document;return typeof i=="string"?u.getElementById(i):i}function X_(i,u){bi(u,function(c,p){c&&typeof c=="object"&&c.ta&&(c=c.sa()),p=="style"?i.style.cssText=c:p=="class"?i.className=c:p=="for"?i.htmlFor=c:Y_.hasOwnProperty(p)?i.setAttribute(Y_[p],c):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?i.setAttribute(p,c):i[p]=c})}var Y_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function VO(i,u,c){var p=arguments,g=document,w=String(p[0]),E=p[1];if(!MO&&E&&(E.name||E.type)){if(w=["<",w],E.name&&w.push(' name="',bd(E.name),'"'),E.type){w.push(' type="',bd(E.type),'"');var C={};tn(C,E),delete C.type,E=C}w.push(">"),w=w.join("")}return w=nl(g,w),E&&(typeof E=="string"?w.className=E:Array.isArray(E)?w.className=E.join(" "):X_(w,E)),2<p.length&&jO(g,w,p),w}function jO(i,u,c){function p(C){C&&u.appendChild(typeof C=="string"?i.createTextNode(C):C)}for(var g=2;g<c.length;g++){var w=c[g];if(!_(w)||S(w)&&0<w.nodeType)p(w);else{e:{if(w&&typeof w.length=="number"){if(S(w)){var E=typeof w.item=="function"||typeof w.item=="string";break e}if(b(w)){E=typeof w.item=="function";break e}}E=!1}K(E?ce(w):w,p)}}}function nl(i,u){return u=String(u),i.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),i.createElement(u)}function Q_(i){f.setTimeout(function(){throw i},0)}var kd;function UO(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!We("Presto")&&(i=function(){var g=nl(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var w=g.contentWindow;g=w.document,g.open(),g.close();var E="callImmediate"+Math.random(),C=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;g=x(function(z){(C=="*"||z.origin==C)&&z.data==E&&this.port1.onmessage()},this),w.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(E,C)}}}),typeof i<"u"&&!We("Trident")&&!We("MSIE")){var u=new i,c={},p=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){p.next={Hb:g},p=p.next,u.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function rl(i,u){il||BO(),Cd||(il(),Cd=!0),J_.add(i,u)}var il;function BO(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);il=function(){i.then(Z_)}}else il=function(){var u=Z_;!b(f.setImmediate)||f.Window&&f.Window.prototype&&!We("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(kd||(kd=UO()),kd(u)):f.setImmediate(u)}}var Cd=!1,J_=new Ot;function Z_(){for(var i;i=X();){try{i.a.call(i.b)}catch(u){Q_(u)}Qe(en,i)}Cd=!1}function qe(i,u){if(this.a=mo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=m)try{var c=this;i.call(u,function(p){vo(c,Yu,p)},function(p){if(!(p instanceof Is))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}vo(c,ni,p)})}catch(p){vo(this,ni,p)}}var mo=0,Yu=2,ni=3;function e0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}e0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var t0=new nt(function(){return new e0},function(i){i.reset()});function Od(i,u,c){var p=t0.get();return p.g=i,p.b=u,p.f=c,p}function Ce(i){if(i instanceof qe)return i;var u=new qe(m);return vo(u,Yu,i),u}function _t(i){return new qe(function(u,c){c(i)})}function n0(i,u,c){s0(i,u,c,null)||rl(V(u,i))}function qO(i){return new qe(function(u,c){var p=i.length,g=[];if(p)for(var w=function(te,Fe){p--,g[te]=Fe,p==0&&u(g)},E=function(te){c(te)},C=0,z;C<i.length;C++)z=i[C],n0(z,V(w,C),E);else u(g)})}function r0(i){return new qe(function(u){var c=i.length,p=[];if(c)for(var g=function(C,z,te){c--,p[C]=z?{Qb:!0,value:te}:{Qb:!1,reason:te},c==0&&u(p)},w=0,E;w<i.length;w++)E=i[w],n0(E,V(g,w,!0),V(g,w,!1));else u(p)})}qe.prototype.then=function(i,u,c){return o0(this,b(i)?i:null,b(u)?u:null,c)},qe.prototype.$goog_Thenable=!0,e=qe.prototype,e.oa=function(i,u){return i=Od(i,i,u),i.c=!0,Nd(this,i),this},e.o=function(i,u){return o0(this,null,i,u)},e.cancel=function(i){if(this.a==mo){var u=new Is(i);rl(function(){i0(this,u)},this)}};function i0(i,u){if(i.a==mo)if(i.c){var c=i.c;if(c.b){for(var p=0,g=null,w=null,E=c.b;E&&(E.c||(p++,E.a==i&&(g=E),!(g&&1<p)));E=E.next)g||(w=E);g&&(c.a==mo&&p==1?i0(c,u):(w?(p=w,p.next==c.f&&(c.f=p),p.next=p.next.next):a0(c),c0(c,g,ni,u)))}i.c=null}else vo(i,ni,u)}function Nd(i,u){i.b||i.a!=Yu&&i.a!=ni||u0(i),i.f?i.f.next=u:i.b=u,i.f=u}function o0(i,u,c,p){var g=Od(null,null,null);return g.a=new qe(function(w,E){g.g=u?function(C){try{var z=u.call(p,C);w(z)}catch(te){E(te)}}:w,g.b=c?function(C){try{var z=c.call(p,C);z===void 0&&C instanceof Is?E(C):w(z)}catch(te){E(te)}}:E}),g.a.c=i,Nd(i,g),g.a}e.$c=function(i){this.a=mo,vo(this,Yu,i)},e.ad=function(i){this.a=mo,vo(this,ni,i)};function vo(i,u,c){i.a==mo&&(i===c&&(u=ni,c=new TypeError("Promise cannot resolve to itself")),i.a=1,s0(c,i.$c,i.ad,i)||(i.i=c,i.a=u,i.c=null,u0(i),u!=ni||c instanceof Is||HO(i,c)))}function s0(i,u,c,p){if(i instanceof qe)return Nd(i,Od(u||m,c||null,p)),!0;if(de(i))return i.then(u,c,p),!0;if(S(i))try{var g=i.then;if(b(g))return $O(i,g,u,c,p),!0}catch(w){return c.call(p,w),!0}return!1}function $O(i,u,c,p,g){function w(z){C||(C=!0,p.call(g,z))}function E(z){C||(C=!0,c.call(g,z))}var C=!1;try{u.call(i,E,w)}catch(z){w(z)}}function u0(i){i.h||(i.h=!0,rl(i.gc,i))}function a0(i){var u=null;return i.b&&(u=i.b,i.b=u.next,u.next=null),i.b||(i.f=null),u}e.gc=function(){for(var i;i=a0(this);)c0(this,i,this.a,this.i);this.h=!1};function c0(i,u,c,p){if(c==ni&&u.b&&!u.c)for(;i&&i.g;i=i.c)i.g=!1;if(u.a)u.a.c=null,l0(u,c,p);else try{u.c?u.g.call(u.f):l0(u,c,p)}catch(g){f0.call(null,g)}Qe(t0,u)}function l0(i,u,c){u==Yu?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function HO(i,u){i.g=!0,rl(function(){i.g&&f0.call(null,u)})}var f0=Q_;function Is(i){ge.call(this,i)}N(Is,ge),Is.prototype.name="cancel";function ol(){this.ya=this.ya,this.pa=this.pa}var KO=0;ol.prototype.ya=!1;function h0(i){!i.ya&&(i.ya=!0,i.Da(),KO!=0)&&I(i)}ol.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var GO=Object.freeze||function(i){return i},d0=!vr||9<=Number(Ei),zO=vr&&!z_("9"),WO=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,u=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",m,u),f.removeEventListener("test",m,u)}catch{}return i}();function Pn(i,u){this.type=i,this.b=this.target=u,this.defaultPrevented=!1}Pn.prototype.preventDefault=function(){this.defaultPrevented=!0};function go(i,u){if(Pn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,p=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=u,u=i.relatedTarget){if(K_){e:{try{Ed(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else c=="mouseover"?u=i.fromElement:c=="mouseout"&&(u=i.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:XO[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}N(go,Pn);var XO=GO({2:"touch",3:"pen",4:"mouse"});go.prototype.preventDefault=function(){go.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,zO)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},go.prototype.g=function(){return this.a};var Qu="closure_listenable_"+(1e6*Math.random()|0),YO=0;function QO(i,u,c,p,g){this.listener=i,this.proxy=null,this.src=u,this.type=c,this.capture=!!p,this.Wa=g,this.key=++YO,this.wa=this.Qa=!1}function sl(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function ul(i){this.src=i,this.a={},this.b=0}ul.prototype.add=function(i,u,c,p,g){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var E=xd(i,u,p,g);return-1<E?(u=i[E],c||(u.Qa=!1)):(u=new QO(u,this.src,w,!!p,g),u.Qa=c,i.push(u)),u};function Rd(i,u){var c=u.type;c in i.a&&W(i.a[c],u)&&(sl(u),i.a[c].length==0&&(delete i.a[c],i.b--))}function xd(i,u,c,p){for(var g=0;g<i.length;++g){var w=i[g];if(!w.wa&&w.listener==u&&w.capture==!!c&&w.Wa==p)return g}return-1}var Pd="closure_lm_"+(1e6*Math.random()|0),Dd={};function ur(i,u,c,p,g){if(p&&p.once)Ld(i,u,c,p,g);else if(Array.isArray(u))for(var w=0;w<u.length;w++)ur(i,u[w],c,p,g);else c=Md(c),i&&i[Qu]?_0(i,u,c,S(p)?!!p.capture:!!p,g):p0(i,u,c,!1,p,g)}function p0(i,u,c,p,g,w){if(!u)throw Error("Invalid event type");var E=S(g)?!!g.capture:!!g,C=al(i);if(C||(i[Pd]=C=new ul(i)),c=C.add(u,c,p,E,w),!c.proxy)if(p=JO(),c.proxy=p,p.src=i,p.listener=c,i.addEventListener)WO||(g=E),g===void 0&&(g=!1),i.addEventListener(u.toString(),p,g);else if(i.attachEvent)i.attachEvent(v0(u.toString()),p);else if(i.addListener&&i.removeListener)i.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function JO(){var i=ZO,u=d0?function(c){return i.call(u.src,u.listener,c)}:function(c){if(c=i.call(u.src,u.listener,c),!c)return c};return u}function Ld(i,u,c,p,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)Ld(i,u[w],c,p,g);else c=Md(c),i&&i[Qu]?Vd(i,u,c,S(p)?!!p.capture:!!p,g):p0(i,u,c,!0,p,g)}function zn(i,u,c,p,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)zn(i,u[w],c,p,g);else p=S(p)?!!p.capture:!!p,c=Md(c),i&&i[Qu]?(i=i.v,u=String(u).toString(),u in i.a&&(w=i.a[u],c=xd(w,c,p,g),-1<c&&(sl(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete i.a[u],i.b--)))):i&&(i=al(i))&&(u=i.a[u.toString()],i=-1,u&&(i=xd(u,c,p,g)),(c=-1<i?u[i]:null)&&m0(c))}function m0(i){if(typeof i!="number"&&i&&!i.wa){var u=i.src;if(u&&u[Qu])Rd(u.v,i);else{var c=i.type,p=i.proxy;u.removeEventListener?u.removeEventListener(c,p,i.capture):u.detachEvent?u.detachEvent(v0(c),p):u.addListener&&u.removeListener&&u.removeListener(p),(c=al(u))?(Rd(c,i),c.b==0&&(c.src=null,u[Pd]=null)):sl(i)}}}function v0(i){return i in Dd?Dd[i]:Dd[i]="on"+i}function g0(i,u,c,p){var g=!0;if((i=al(i))&&(u=i.a[u.toString()]))for(u=u.concat(),i=0;i<u.length;i++){var w=u[i];w&&w.capture==c&&!w.wa&&(w=y0(w,p),g=g&&w!==!1)}return g}function y0(i,u){var c=i.listener,p=i.Wa||i.src;return i.Qa&&m0(i),c.call(p,u)}function ZO(i,u){if(i.wa)return!0;if(!d0){if(!u)e:{u=["window","event"];for(var c=f,p=0;p<u.length;p++)if(c=c[u[p]],c==null){u=null;break e}u=c}if(p=u,u=new go(p,this),c=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(i=i.type,g=p.length-1;0<=g;g--){u.b=p[g];var w=g0(p[g],i,!0,u);c=c&&w}for(g=0;g<p.length;g++)u.b=p[g],w=g0(p[g],i,!1,u),c=c&&w}return c}return y0(i,new go(u,this))}function al(i){return i=i[Pd],i instanceof ul?i:null}var Fd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Md(i){return b(i)?i:(i[Fd]||(i[Fd]=function(u){return i.handleEvent(u)}),i[Fd])}function bn(){ol.call(this),this.v=new ul(this),this.bc=this,this.hb=null}N(bn,ol),bn.prototype[Qu]=!0,bn.prototype.addEventListener=function(i,u,c,p){ur(this,i,u,c,p)},bn.prototype.removeEventListener=function(i,u,c,p){zn(this,i,u,c,p)},bn.prototype.dispatchEvent=function(i){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var p=i.type||i;if(typeof i=="string")i=new Pn(i,c);else if(i instanceof Pn)i.target=i.target||c;else{var g=i;i=new Pn(p,c),tn(i,g)}if(g=!0,u)for(var w=u.length-1;0<=w;w--){var E=i.b=u[w];g=cl(E,p,!0,i)&&g}if(E=i.b=c,g=cl(E,p,!0,i)&&g,g=cl(E,p,!1,i)&&g,u)for(w=0;w<u.length;w++)E=i.b=u[w],g=cl(E,p,!1,i)&&g;return g},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var i=this.v,u;for(u in i.a){for(var c=i.a[u],p=0;p<c.length;p++)sl(c[p]);delete i.a[u],i.b--}}this.hb=null};function _0(i,u,c,p,g){i.v.add(String(u),c,!1,p,g)}function Vd(i,u,c,p,g){i.v.add(String(u),c,!0,p,g)}function cl(i,u,c,p){if(u=i.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,w=0;w<u.length;++w){var E=u[w];if(E&&!E.wa&&E.capture==c){var C=E.listener,z=E.Wa||E.src;E.Qa&&Rd(i.v,E),g=C.call(z,p)!==!1&&g}}return g&&!p.defaultPrevented}function jd(i,u,c){if(b(i))c&&(i=x(i,c));else if(i&&typeof i.handleEvent=="function")i=x(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(i,u||0)}function Ts(i){var u=null;return new qe(function(c,p){u=jd(function(){c(void 0)},i),u==-1&&p(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function w0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var u=[],c=i.length,p=0;p<c;p++)u.push(i[p]);return u}u=[],c=0;for(p in i)u[c++]=i[p];return u}function b0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var u=[];i=i.length;for(var c=0;c<i;c++)u.push(c);return u}u=[],c=0;for(var p in i)u[c++]=p;return u}}function eN(i,u){if(i.forEach&&typeof i.forEach=="function")i.forEach(u,void 0);else if(_(i)||typeof i=="string")K(i,u,void 0);else for(var c=b0(i),p=w0(i),g=p.length,w=0;w<g;w++)u.call(void 0,p[w],c&&c[w],i)}function Ss(i,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var p=0;p<c;p+=2)this.set(arguments[p],arguments[p+1])}else if(i)if(i instanceof Ss)for(c=i.Y(),p=0;p<c.length;p++)this.set(c[p],i.get(c[p]));else for(p in i)this.set(p,i[p])}e=Ss.prototype,e.X=function(){Ud(this);for(var i=[],u=0;u<this.a.length;u++)i.push(this.b[this.a[u]]);return i},e.Y=function(){return Ud(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ud(i){if(i.c!=i.a.length){for(var u=0,c=0;u<i.a.length;){var p=i.a[u];yo(i.b,p)&&(i.a[c++]=p),u++}i.a.length=c}if(i.c!=i.a.length){var g={};for(c=u=0;u<i.a.length;)p=i.a[u],yo(g,p)||(i.a[c++]=p,g[p]=1),u++;i.a.length=c}}e.get=function(i,u){return yo(this.b,i)?this.b[i]:u},e.set=function(i,u){yo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=u},e.forEach=function(i,u){for(var c=this.Y(),p=0;p<c.length;p++){var g=c[p],w=this.get(g);i.call(u,w,g,this)}};function yo(i,u){return Object.prototype.hasOwnProperty.call(i,u)}var E0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tN(i,u){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var p=i[c].indexOf("="),g=null;if(0<=p){var w=i[c].substring(0,p);g=i[c].substring(p+1)}else w=i[c];u(w,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Ii(i,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof Ii?(this.i=u!==void 0?u:i.i,Ju(this,i.c),this.l=i.l,this.a=i.a,Zu(this,i.g),this.f=i.f,Bd(this,A0(i.b)),this.h=i.h):i&&(c=String(i).match(E0))?(this.i=!!u,Ju(this,c[1]||"",!0),this.l=ea(c[2]||""),this.a=ea(c[3]||"",!0),Zu(this,c[4]),this.f=ea(c[5]||"",!0),Bd(this,c[6]||"",!0),this.h=ea(c[7]||"")):(this.i=!!u,this.b=new _o(null,this.i))}Ii.prototype.toString=function(){var i=[],u=this.c;u&&i.push(ta(u,I0,!0),":");var c=this.a;return(c||u=="file")&&(i.push("//"),(u=this.l)&&i.push(ta(u,I0,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(ta(c,c.charAt(0)=="/"?iN:rN,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",ta(c,sN)),i.join("")},Ii.prototype.resolve=function(i){var u=new Ii(this),c=!!i.c;c?Ju(u,i.c):c=!!i.l,c?u.l=i.l:c=!!i.a,c?u.a=i.a:c=i.g!=null;var p=i.f;if(c)Zu(u,i.g);else if(c=!!i.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(Y(g,"./")||Y(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],E=0;E<g.length;){var C=g[E++];C=="."?p&&E==g.length&&w.push(""):C==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),p&&E==g.length&&w.push("")):(w.push(C),p=!0)}p=w.join("/")}else p=g}return c?u.f=p:c=i.b.toString()!=="",c?Bd(u,A0(i.b)):c=!!i.h,c&&(u.h=i.h),u};function Ju(i,u,c){i.c=c?ea(u,!0):u,i.c&&(i.c=i.c.replace(/:$/,""))}function Zu(i,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);i.g=u}else i.g=null}function Bd(i,u,c){u instanceof _o?(i.b=u,uN(i.b,i.i)):(c||(u=ta(u,oN)),i.b=new _o(u,i.i))}function Nt(i,u,c){i.b.set(u,c)}function ar(i,u){return i.b.get(u)}function Dn(i){return i instanceof Ii?new Ii(i):new Ii(i,void 0)}function ll(i,u,c,p){var g=new Ii(null,void 0);return i&&Ju(g,i),u&&(g.a=u),c&&Zu(g,c),p&&(g.f=p),g}function ea(i,u){return i?u?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ta(i,u,c){return typeof i=="string"?(i=encodeURI(i).replace(u,nN),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function nN(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var I0=/[#\/\?@]/g,rN=/[#\?:]/g,iN=/[#\?]/g,oN=/[#\?@]/g,sN=/#/g;function _o(i,u){this.b=this.a=null,this.c=i||null,this.f=!!u}function Ti(i){i.a||(i.a=new Ss,i.b=0,i.c&&tN(i.c,function(u,c){i.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function T0(i){var u=b0(i);if(typeof u>"u")throw Error("Keys are undefined");var c=new _o(null,void 0);i=w0(i);for(var p=0;p<u.length;p++){var g=u[p],w=i[p];Array.isArray(w)?S0(c,g,w):c.add(g,w)}return c}e=_o.prototype,e.add=function(i,u){Ti(this),this.c=null,i=As(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(u),this.b+=1,this};function Fr(i,u){Ti(i),u=As(i,u),yo(i.a.b,u)&&(i.c=null,i.b-=i.a.get(u).length,i=i.a,yo(i.b,u)&&(delete i.b[u],i.c--,i.a.length>2*i.c&&Ud(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function qd(i,u){return Ti(i),u=As(i,u),yo(i.a.b,u)}e.forEach=function(i,u){Ti(this),this.a.forEach(function(c,p){K(c,function(g){i.call(u,g,p,this)},this)},this)},e.Y=function(){Ti(this);for(var i=this.a.X(),u=this.a.Y(),c=[],p=0;p<u.length;p++)for(var g=i[p],w=0;w<g.length;w++)c.push(u[p]);return c},e.X=function(i){Ti(this);var u=[];if(typeof i=="string")qd(this,i)&&(u=ue(u,this.a.get(As(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)u=ue(u,i[c])}return u},e.set=function(i,u){return Ti(this),this.c=null,i=As(this,i),qd(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[u]),this.b+=1,this},e.get=function(i,u){return i?(i=this.X(i),0<i.length?String(i[0]):u):u};function S0(i,u,c){Fr(i,u),0<c.length&&(i.c=null,i.a.set(As(i,u),ce(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],u=this.a.Y(),c=0;c<u.length;c++){var p=u[c],g=encodeURIComponent(String(p));p=this.X(p);for(var w=0;w<p.length;w++){var E=g;p[w]!==""&&(E+="="+encodeURIComponent(String(p[w]))),i.push(E)}}return this.c=i.join("&")};function A0(i){var u=new _o;return u.c=i.c,i.a&&(u.a=new Ss(i.a),u.b=i.b),u}function As(i,u){return u=String(u),i.f&&(u=u.toLowerCase()),u}function uN(i,u){u&&!i.f&&(Ti(i),i.c=null,i.a.forEach(function(c,p){var g=p.toLowerCase();p!=g&&(Fr(this,p),S0(this,g,c))},i)),i.f=u}function k0(i){var u=[];return $d(new aN,i,u),u.join("")}function aN(){}function $d(i,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,c.push("[");for(var g="",w=0;w<u;w++)c.push(g),$d(i,p[w],c),g=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(w=u[p],typeof w!="function"&&(c.push(g),O0(p,c),c.push(":"),$d(i,w,c),g=","));c.push("}");return}}switch(typeof u){case"string":O0(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var C0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},cN=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function O0(i,u){u.push('"',i.replace(cN,function(c){var p=C0[c];return p||(p="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),C0[c]=p),p}),'"')}function Hd(){var i=nn();return vr&&!!Ei&&Ei==11||/Edge\/\d+/.test(i)}function na(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function N0(i,u){u=u||f.window;var c="about:blank";i&&(c=el(V_(i)||U_)),u.location.href=c}function R0(i,u){var c=[],p;for(p in i)p in u?typeof i[p]!=typeof u[p]?c.push(p):typeof i[p]=="object"&&i[p]!=null&&u[p]!=null?0<R0(i[p],u[p]).length&&c.push(p):i[p]!==u[p]&&c.push(p):c.push(p);for(p in u)p in i||c.push(p);return c}function lN(){var i=nn();return i=ks(i)!=L0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!vr||!Ei||9<Ei}function x0(i){return i=(i||nn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function wo(i){i=i||f.window;try{i.close()}catch{}}function P0(i,u,c){var p=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var g=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<g?g:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=nn().toLowerCase(),p&&(u.target=p,Y(c,"crios/")&&(u.target="_blank")),ks(nn())==zd&&(i=i||"http://localhost",u.scrollbars=!0),c=i||"",(i=u)||(i={}),p=window,u=c instanceof xn?c:V_(typeof c.href<"u"?c.href:String(c))||U_,c=i.target||c.target,g=[];for(E in i)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+i[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(i[E]?1:0))}var E=g.join(",");if((We("iPhone")&&!We("iPod")&&!We("iPad")||We("iPad")||We("iPod"))&&p.navigator&&p.navigator.standalone&&c&&c!="_self"?(E=nl(document,"A"),x_(E,"HTMLAnchorElement"),u=u instanceof xn?u:j_(u),E.href=el(u),E.setAttribute("target",c),i.noreferrer&&E.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,p,1),E.dispatchEvent(i),E={}):i.noreferrer?(E=q_("",p,c,E),i=el(u),E&&(DO&&Y(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),E.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+bd(i)+'">',i=(p=D_())?p.createHTML(i):i,i=new Es(i,null,B_),p=E.document)&&(p.write(NO(i)),p.close())):(E=q_(u,p,c,E))&&i.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function fN(i){return new qe(function(u){function c(){Ts(2e3).then(function(){if(!i||i.closed)u();else return c()})}return c()})}var hN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^[^@]+@[^@]+$/;function fl(){var i=null;return new qe(function(u){f.document.readyState=="complete"?u():(i=function(){u()},Ld(window,"load",i))}).o(function(u){throw zn(window,"load",i),u})}function pN(){return Kd(void 0)?fl().then(function(){return new qe(function(i,u){var c=f.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(p),i()},!1)})}):_t(Error("Cordova must run in an Android or iOS file scheme."))}function Kd(i){return i=i||nn(),!(Os()!=="file:"&&Os()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gd(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function gr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Mr(){return Pe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Pe.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function D0(){var i=Mr();return i==="ReactNative"||i==="Node"}function mN(){for(var i=50,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}var zd="Firefox",L0="Chrome";function ks(i){var u=i.toLowerCase();if(Y(u,"opera/")||Y(u,"opr/")||Y(u,"opios/"))return"Opera";if(Y(u,"iemobile"))return"IEMobile";if(Y(u,"msie")||Y(u,"trident/"))return"IE";if(Y(u,"edge/"))return"Edge";if(Y(u,"firefox/"))return zd;if(Y(u,"silk/"))return"Silk";if(Y(u,"blackberry"))return"Blackberry";if(Y(u,"webos"))return"Webos";if(!Y(u,"safari/")||Y(u,"chrome/")||Y(u,"crios/")||Y(u,"android"))if(!Y(u,"chrome/")&&!Y(u,"crios/")||Y(u,"edge/")){if(Y(u,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return L0;else return"Safari";return"Other"}var F0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Cs(i,u){u=u||[];var c=[],p={},g;for(g in F0)p[F0[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],c.push(u[g]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Mr(),c==="Browser"?(p=nn(),c=ks(p)):c==="Worker"&&(p=nn(),c=ks(p)+"-"+c),c+"/JsCore/"+i+"/"+u.join(",")}function nn(){return f.navigator&&f.navigator.userAgent||""}function wt(i,u){i=i.split("."),u=u||f;for(var c=0;c<i.length&&typeof u=="object"&&u!=null;c++)u=u[i[c]];return c!=i.length&&(u=void 0),u}function Wd(){try{var i=f.localStorage,u=Eo();if(i)return i.setItem(u,"1"),i.removeItem(u),Hd()?!!f.indexedDB:!0}catch{return gr()&&!!f.indexedDB}return!1}function bo(){return(hl()||Os()==="chrome-extension:"||Kd())&&!D0()&&Wd()&&!gr()}function hl(){return Os()==="http:"||Os()==="https:"}function Os(){return f.location&&f.location.protocol||null}function ra(i){return i=i||nn(),!(x0(i)||ks(i)==zd)}function ia(i){return typeof i>"u"?null:k0(i)}function M0(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(u[c]=i[c]);return u}function Ns(i){if(i!==null)return JSON.parse(i)}function Eo(i){return i||Math.floor(1e9*Math.random()).toString()}function V0(i){return i=i||nn(),!(ks(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function j0(){var i=f.___jsl;if(i&&i.H){for(var u in i.H)if(i.H[u].r=i.H[u].r||[],i.H[u].L=i.H[u].L||[],i.H[u].r=i.H[u].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function Si(i,u){if(i>u)throw Error("Short delay should be less than long delay!");this.a=i,this.c=u,i=nn(),u=Mr(),this.b=x0(i)||u==="ReactNative"}Si.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(hl()||Os()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Xd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function vN(){var i=f.document,u=null;return Xd()||!i?Ce():new qe(function(c){u=function(){Xd()&&(i.removeEventListener("visibilitychange",u,!1),c())},i.addEventListener("visibilitychange",u,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",u,!1),c})}function oa(i){try{var u=new Date(parseInt(i,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(i))return u.toUTCString()}catch{}return null}function U0(){return!(!wt("fireauth.oauthhelper",f)&&!wt("fireauth.iframe",f))}function gN(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function yN(){var i=f.navigator;return i&&i.serviceWorker?Ce().then(function(){return i.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Ce(null)}var B0={};function Yd(i){B0[i]||(B0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Qd;try{var Jd={};Object.defineProperty(Jd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jd,"abcd",{configurable:!0,enumerable:!0,value:2}),Qd=Jd.abcd==2}catch{Qd=!1}function be(i,u,c){Qd?Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:c}):i[u]=c}function En(i,u){if(u)for(var c in u)u.hasOwnProperty(c)&&be(i,c,u[c])}function Vr(i){var u={};return En(u,i),u}function _N(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&(u[c]=i[c]);return u}function wN(i,u){if(!u||!u.length)return!0;if(!i)return!1;for(var c=0;c<u.length;c++){var p=i[u[c]];if(p==null||p==="")return!1}return!0}function Zd(i){var u=i;if(typeof i=="object"&&i!=null){u="length"in i?[]:{};for(var c in i)be(u,c,Zd(i[c]))}return u}function ep(i){var u=i&&(i[ip]?"phone":null);if(u&&i&&i[rp]){be(this,"uid",i[rp]),be(this,"displayName",i[q0]||null);var c=null;i[np]&&(c=new Date(i[np]).toUTCString()),be(this,"enrollmentTime",c),be(this,"factorId",u)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}ep.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function tp(i){try{var u=new sa(i)}catch{u=null}return u}var q0="displayName",np="enrolledAt",rp="mfaEnrollmentId",ip="phoneInfo";function sa(i){ep.call(this,i),be(this,"phoneNumber",i[ip])}N(sa,ep),sa.prototype.w=function(){var i=sa.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function bN(i){var u={},c=i[EN],p=i[TN],g=i[SN];if(i=tp(i[IN]),!g||g!=dl&&g!=ua&&!c||g==ua&&!p||g==op&&!i)throw Error("Invalid checkActionCode response!");g==ua?(u[H0]=c||null,u[K0]=c||null,u[$0]=p):(u[H0]=p||null,u[K0]=p||null,u[$0]=c||null),u[AN]=i||null,be(this,CN,g),be(this,kN,Zd(u))}var op="REVERT_SECOND_FACTOR_ADDITION",dl="EMAIL_SIGNIN",ua="VERIFY_AND_CHANGE_EMAIL",EN="email",IN="mfaInfo",TN="newEmail",SN="requestType",$0="email",H0="fromEmail",AN="multiFactorInfo",K0="previousEmail",kN="data",CN="operation";function sp(i){i=Dn(i);var u=ar(i,G0)||null,c=ar(i,z0)||null,p=ar(i,W0)||null;if(p=p&&xN[p]||null,!u||!c||!p)throw new k("argument-error",G0+", "+z0+"and "+W0+" are required in a valid action code URL.");En(this,{apiKey:u,operation:p,code:c,continueUrl:ar(i,ON)||null,languageCode:ar(i,NN)||null,tenantId:ar(i,RN)||null})}var G0="apiKey",z0="oobCode",ON="continueUrl",NN="languageCode",W0="mode",RN="tenantId",xN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:op,signIn:dl,verifyAndChangeEmail:ua,verifyEmail:"VERIFY_EMAIL"};function X0(i){try{return new sp(i)}catch{return null}}function pl(i){var u=i[PN];if(typeof u>"u")throw new k("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new k("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=i[Y0];if(c&&typeof c=="object"){u=c[tw];var p=c[Z0];if(c=c[ew],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new k("argument-error",Z0+" property must be a boolean when specified.");if(this.g=!!p,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",ew+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new k("argument-error",tw+" property must be a non empty string when specified.");if(typeof p<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",Y0+" property must be a non null object when specified.");if(this.f=null,(u=i[J0])&&typeof u=="object"){if(u=u[nw],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new k("argument-error",nw+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new k("argument-error",J0+" property must be a non null object when specified.");if(u=i[up],typeof u<"u"&&typeof u!="boolean")throw new k("argument-error",up+" property must be a boolean when specified.");if(this.c=!!u,i=i[Q0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new k("argument-error",Q0+" property must be a non empty string when specified.");this.i=i||null}var Y0="android",Q0="dynamicLinkDomain",up="handleCodeInApp",J0="iOS",PN="url",Z0="installApp",ew="minimumVersion",tw="packageName",nw="bundleId";function ml(i){var u={};u.continueUrl=i.h,u.canHandleCodeInApp=i.c,(u.androidPackageName=i.a)&&(u.androidMinimumVersion=i.b,u.androidInstallApp=i.g),u.iOSBundleId=i.f,u.dynamicLinkDomain=i.i;for(var c in u)u[c]===null&&delete u[c];return u}function DN(i){return Ie(i,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var aa=null;function LN(i){var u=[];return FN(i,function(c){u.push(c)}),u}function FN(i,u){function c(z){for(;p<i.length;){var te=i.charAt(p++),Fe=aa[te];if(Fe!=null)return Fe;if(!/^[\s\xa0]*$/.test(te))throw Error("Unknown base64 encoding at char: "+te)}return z}MN();for(var p=0;;){var g=c(-1),w=c(0),E=c(64),C=c(64);if(C===64&&g===-1)break;u(g<<2|w>>4),E!=64&&(u(w<<4&240|E>>2),C!=64&&u(E<<6&192|C))}}function MN(){if(!aa){aa={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var p=i.concat(u[c].split("")),g=0;g<p.length;g++){var w=p[g];aa[w]===void 0&&(aa[w]=g)}}}function vl(i){var u=rw(i);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=i,this.a=u.exp,this.i=u.sub,i=Date.now()/1e3,this.g=u.iat||(i>this.a?this.a:i),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}vl.prototype.T=function(){return this.f},vl.prototype.l=function(){return this.c},vl.prototype.toString=function(){return this.h};function gl(i){try{return new vl(i)}catch{return null}}function rw(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var u=(4-i.length%4)%4,c=0;c<u;c++)i+=".";try{var p=LN(i);for(i=[],c=u=0;u<p.length;){var g=p[u++];if(128>g)i[c++]=String.fromCharCode(g);else if(191<g&&224>g){var w=p[u++];i[c++]=String.fromCharCode((g&31)<<6|w&63)}else if(239<g&&365>g){w=p[u++];var E=p[u++],C=p[u++],z=((g&7)<<18|(w&63)<<12|(E&63)<<6|C&63)-65536;i[c++]=String.fromCharCode(55296+(z>>10)),i[c++]=String.fromCharCode(56320+(z&1023))}else w=p[u++],E=p[u++],i[c++]=String.fromCharCode((g&15)<<12|(w&63)<<6|E&63)}return JSON.parse(i.join(""))}catch{}return null}var iw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),yl=["client_id","response_type","scope","redirect_uri","state"],ap={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:yl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:yl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:yl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:iw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function cp(i){for(var u in ap)if(ap[u].fa==i)return ap[u];return null}function ow(i){var u={};u["facebook.com"]=uw,u["google.com"]=cw,u["github.com"]=aw,u["twitter.com"]=lw;var c=i&&i[sw];try{if(c)return u[c]?new u[c](i):new jr(i);if(typeof i[lp]<"u")return new fp(i)}catch{}return null}var lp="idToken",sw="providerId";function fp(i){var u=i[sw];if(!u&&i[lp]){var c=gl(i[lp]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),be(this,"providerId",u),be(this,"isNewUser",c)}function jr(i){fp.call(this,i),i=Ns(i.rawUserInfo||"{}"),be(this,"profile",Zd(i||{}))}N(jr,fp);function uw(i){if(jr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}N(uw,jr);function aw(i){if(jr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");be(this,"username",this.profile&&this.profile.login||null)}N(aw,jr);function cw(i){if(jr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}N(cw,jr);function lw(i){if(jr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");be(this,"username",i.screenName||null)}N(lw,jr);function fw(i){var u=Dn(i),c=ar(u,"link"),p=ar(Dn(c),"link");return u=ar(u,"deep_link_id"),ar(Dn(u),"link")||u||p||c||i}function _l(i,u){if(!i&&!u)throw new k("internal-error","Internal assert: no raw session string available");if(i&&u)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=u||null,this.type=this.a?ca:wl}var ca="enroll",wl="signin";_l.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},_l.prototype.w=function(){return this.type==ca?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Rs(){}Rs.prototype.ka=function(){},Rs.prototype.b=function(){},Rs.prototype.c=function(){},Rs.prototype.w=function(){};function xs(i,u){return i.then(function(c){if(c[wr]){var p=gl(c[wr]);if(!p||u!=p.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ie+"user-not-found"?new k("user-mismatch"):c})}function Io(i,u){if(u)this.a=u;else throw new k("internal-error","failed to construct a credential");be(this,"providerId",i),be(this,"signInMethod",i)}Io.prototype.ka=function(i){return Lp(i,hp(this))},Io.prototype.b=function(i,u){var c=hp(this);return c.idToken=u,Fp(i,c)},Io.prototype.c=function(i,u){return xs(Mp(i,hp(this)),u)};function hp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Io.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function VN(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Io(i.providerId,i.pendingToken)}catch{}return null}function ri(i,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&be(this,"idToken",u.idToken),u.accessToken&&be(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&be(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)be(this,"accessToken",u.oauthToken),be(this,"secret",u.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");be(this,"providerId",i),be(this,"signInMethod",c)}ri.prototype.ka=function(i){return Lp(i,dp(this))},ri.prototype.b=function(i,u){var c=dp(this);return c.idToken=u,Fp(i,c)},ri.prototype.c=function(i,u){var c=dp(this);return xs(Mp(i,c),u)};function dp(i){var u={};return i.idToken&&(u.id_token=i.idToken),i.accessToken&&(u.access_token=i.accessToken),i.secret&&(u.oauth_token_secret=i.secret),u.providerId=i.providerId,i.nonce&&!i.a&&(u.nonce=i.nonce),u={postBody:T0(u).toString(),requestUri:"http://localhost"},i.a&&(delete u.postBody,u.pendingToken=i.a),u}ri.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function jN(i){if(i&&i.providerId&&i.signInMethod){var u={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new ri(i.providerId,u,i.signInMethod)}catch{}}return null}function To(i,u){this.Qc=u||[],En(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(cp(i)||{}).Ja||null,this.pb=null}To.prototype.Ka=function(i){return this.Jb=At(i),this};function hw(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');To.call(this,i,[])}N(hw,To);function Wn(i){To.call(this,i,yl),this.a=[]}N(Wn,To),Wn.prototype.Ca=function(i){return U(this.a,i)||this.a.push(i),this},Wn.prototype.Rb=function(){return ce(this.a)},Wn.prototype.credential=function(i,u){var c;if(S(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new ri(this.providerId,c,this.providerId)};function So(){Wn.call(this,"facebook.com")}N(So,Wn),be(So,"PROVIDER_ID","facebook.com"),be(So,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function dw(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return S(i)&&(u=i.accessToken),new So().credential({accessToken:u})}function Ao(){Wn.call(this,"github.com")}N(Ao,Wn),be(Ao,"PROVIDER_ID","github.com"),be(Ao,"GITHUB_SIGN_IN_METHOD","github.com");function pw(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return S(i)&&(u=i.accessToken),new Ao().credential({accessToken:u})}function ko(){Wn.call(this,"google.com"),this.Ca("profile")}N(ko,Wn),be(ko,"PROVIDER_ID","google.com"),be(ko,"GOOGLE_SIGN_IN_METHOD","google.com");function mw(i,u){var c=i;return S(i)&&(c=i.idToken,u=i.accessToken),new ko().credential({idToken:c,accessToken:u})}function Ps(){To.call(this,"twitter.com",iw)}N(Ps,To),be(Ps,"PROVIDER_ID","twitter.com"),be(Ps,"TWITTER_SIGN_IN_METHOD","twitter.com");function vw(i,u){var c=i;if(S(c)||(c={oauthToken:i,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ri("twitter.com",c,"twitter.com")}function Ai(i,u,c){this.a=i,this.f=u,be(this,"providerId","password"),be(this,"signInMethod",c===cr.EMAIL_LINK_SIGN_IN_METHOD?cr.EMAIL_LINK_SIGN_IN_METHOD:cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ai.prototype.ka=function(i){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?$e(i,IR,{email:this.a,oobCode:this.f}):$e(i,Hw,{email:this.a,password:this.f})},Ai.prototype.b=function(i,u){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?$e(i,TR,{idToken:u,email:this.a,oobCode:this.f}):$e(i,$w,{idToken:u,email:this.a,password:this.f})},Ai.prototype.c=function(i,u){return xs(this.ka(i),u)},Ai.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function UN(i){return i&&i.email&&i.password?new Ai(i.email,i.password,i.signInMethod):null}function cr(){En(this,{providerId:"password",isOAuthProvider:!1})}function gw(i,u){if(u=pp(u),!u)throw new k("argument-error","Invalid email link!");return new Ai(i,u.code,cr.EMAIL_LINK_SIGN_IN_METHOD)}function pp(i){return i=fw(i),(i=X0(i))&&i.operation===dl?i:null}En(cr,{PROVIDER_ID:"password"}),En(cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),En(cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ki(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new k("internal-error");this.a=i,be(this,"providerId","phone"),this.fa="phone",be(this,"signInMethod","phone")}ki.prototype.ka=function(i){return i.gb(la(this))},ki.prototype.b=function(i,u){var c=la(this);return c.idToken=u,$e(i,HR,c)},ki.prototype.c=function(i,u){var c=la(this);return c.operation="REAUTH",i=$e(i,KR,c),xs(i,u)},ki.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function BN(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var u={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(u[c]=i[c])}),new ki(u)}return null}function la(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function ii(i){try{this.a=i||Pe.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}En(this,{providerId:"phone",isOAuthProvider:!1})}ii.prototype.gb=function(i,u){var c=this.a.a;return Ce(u.verify()).then(function(p){if(typeof p!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=S(i)?i.session:null,w=S(i)?i.phoneNumber:i,E;return g&&g.type==ca?E=g.Ha().then(function(C){return pR(c,{idToken:C,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:p}})}):g&&g.type==wl?E=g.Ha().then(function(C){return mR(c,{mfaPendingCredential:C,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):E=dR(c,{phoneNumber:w,recaptchaToken:p}),E.then(function(C){return typeof u.reset=="function"&&u.reset(),C},function(C){throw typeof u.reset=="function"&&u.reset(),C});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function yw(i,u){if(!i)throw new k("missing-verification-id");if(!u)throw new k("missing-verification-code");return new ki({fb:i,eb:u})}En(ii,{PROVIDER_ID:"phone"}),En(ii,{PHONE_SIGN_IN_METHOD:"phone"});function mp(i){if(i.temporaryProof&&i.phoneNumber)return new ki({La:i.temporaryProof,ea:i.phoneNumber});var u=i&&i.providerId;if(!u||u==="password")return null;var c=i&&i.oauthAccessToken,p=i&&i.oauthTokenSecret,g=i&&i.nonce,w=i&&i.oauthIdToken,E=i&&i.pendingToken;try{switch(u){case"google.com":return mw(w,c);case"facebook.com":return dw(c);case"github.com":return pw(c);case"twitter.com":return vw(c,p);default:return c||p||w||E?E?u.indexOf("saml.")==0?new Io(u,E):new ri(u,{pendingToken:E,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},u):new Wn(u).credential({idToken:w,accessToken:c,rawNonce:g}):null}}catch{return null}}function vp(i){if(!i.isOAuthProvider)throw new k("invalid-oauth-provider")}function yr(i,u,c,p,g,w,E){if(this.c=i,this.b=u||null,this.g=c||null,this.f=p||null,this.i=w||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}yr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},yr.prototype.T=function(){return this.h},yr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function _w(i){return i=i||{},i.type?new yr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Te(i.error),i.postBody,i.tenantId):null}function qN(){this.b=null,this.a=[]}var gp=null;function $N(i){var u=gp;u.a.push(i),u.b||(u.b=function(c){for(var p=0;p<u.a.length;p++)u.a[p](c)},i=wt("universalLinks.subscribe",f),typeof i=="function"&&i(null,u.b))}function yp(i){var u="unauthorized-domain",c=void 0,p=Dn(i);i=p.a,p=p.c,p=="chrome-extension"?c=$_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):p=="http"||p=="https"?c=$_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):u="operation-not-supported-in-this-environment",k.call(this,u,c)}N(yp,k);function fa(i,u,c){k.call(this,i,c),i=u||{},i.Kb&&be(this,"email",i.Kb),i.ea&&be(this,"phoneNumber",i.ea),i.credential&&be(this,"credential",i.credential),i.$b&&be(this,"tenantId",i.$b)}N(fa,k),fa.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&tn(i,u),i},fa.prototype.toJSON=function(){return this.w()};function bl(i){if(i.code){var u=i.code||"";u.indexOf(ie)==0&&(u=u.substring(ie.length));var c={credential:mp(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new k(u,i.message||void 0);return new fa(u,c,i.message)}return null}function ha(){}ha.prototype.c=null;function ww(i){return i.c||(i.c=i.b())}var _p;function El(){}N(El,ha),El.prototype.a=function(){var i=bw(this);return i?new ActiveXObject(i):new XMLHttpRequest},El.prototype.b=function(){var i={};return bw(this)&&(i[0]=!0,i[1]=!0),i};function bw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var p=u[c];try{return new ActiveXObject(p),i.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}_p=new El;function Il(){}N(Il,ha),Il.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new Ew;throw Error("Unsupported browser")},Il.prototype.b=function(){return{}};function Ew(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Tb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}e=Ew.prototype,e.open=function(i,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,u)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,wp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",wp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,wp(this,1)};function wp(i,u){i.readyState=u,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function bp(i,u,c){this.reset(i,u,c,void 0,void 0)}bp.prototype.a=null,bp.prototype.reset=function(i,u,c,p,g){delete this.a};function Ep(i){this.f=i,this.b=this.c=this.a=null}function da(i,u){this.name=i,this.value=u}da.prototype.toString=function(){return this.name};var Iw=new da("SEVERE",1e3),Ip=new da("WARNING",900),HN=new da("CONFIG",700),KN=new da("FINE",500);function Tw(i){return i.c?i.c:i.a?Tw(i.a):(Ze("Root logger has no level set."),null)}Ep.prototype.log=function(i,u,c){if(i.value>=Tw(this).value)for(b(u)&&(u=u()),i=new bp(i,String(u),this.f),c&&(i.a=c),c=this;c;)c=c.a};var Tp={},Tl=null;function Sp(i){Tl||(Tl=new Ep(""),Tp[""]=Tl,Tl.c=HN);var u;if(!(u=Tp[i])){u=new Ep(i);var c=i.lastIndexOf("."),p=i.substr(c+1);c=Sp(i.substr(0,c)),c.b||(c.b={}),c.b[p]=u,u.a=c,Tp[i]=u}return u}function lr(i,u){i&&i.log(KN,u,void 0)}function Sl(i){this.f=i}N(Sl,ha),Sl.prototype.a=function(){return new Al(this.f)},Sl.prototype.b=function(i){return function(){return i}}({});function Al(i){bn.call(this),this.u=i,this.h=void 0,this.readyState=Ap,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Sp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}N(Al,bn);var Ap=0;e=Al.prototype,e.open=function(i,u){if(this.readyState!=Ap)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=u,this.readyState=1,ma(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(u.body=i),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,pa(this)),this.readyState=Ap},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,Sw(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Sw(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var u=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});u&&(this.response=this.responseText+=u),i.done?pa(this):ma(this),this.readyState==3&&Sw(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,pa(this))},e.sc=function(i){this.a&&(this.response=i,pa(this))},e.Va=function(i){var u=this.i;u&&u.log(Ip,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&pa(this)};function pa(i){i.readyState=4,i.g=null,i.c=null,i.m=null,ma(i)}e.setRequestHeader=function(i,u){this.l.append(i,u)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Ip,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Ip,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=u.next();return i.join(`\r
`)};function ma(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function va(i){bn.call(this),this.headers=new Ss,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Aw,this.u=this.S=!1}N(va,bn);var Aw="";va.prototype.b=Sp("goog.net.XhrIo");var GN=/^https?$/i,zN=["POST","PUT"];function WN(i,u,c,p,g){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+u);c=c?c.toUpperCase():"GET",i.l=u,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():_p.a(),i.C=i.D?ww(i.D):ww(_p),i.a.onreadystatechange=x(i.Wb,i);try{lr(i.b,oi(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(u),!0),i.N=!1}catch(E){lr(i.b,oi(i,"Error opening Xhr: "+E.message)),kw(i,E);return}u=p||"";var w=new Ss(i.headers);g&&eN(g,function(E,C){w.set(C,E)}),g=D(w.Y()),p=f.FormData&&u instanceof f.FormData,!U(zN,c)||g||p||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(E,C){this.a.setRequestHeader(C,E)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{Nw(i),0<i.g&&(i.u=XN(i.a),lr(i.b,oi(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=x(i.Ma,i)):i.s=jd(i.Ma,i.g,i)),lr(i.b,oi(i,"Sending request")),i.i=!0,i.a.send(u),i.i=!1}catch(E){lr(i.b,oi(i,"Send error: "+E.message)),kw(i,E)}}function XN(i){return vr&&z_(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function YN(i){return i.toLowerCase()=="content-type"}e=va.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",lr(this.b,oi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function kw(i,u){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=u,Cw(i),kl(i)}function Cw(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(lr(this.b,oi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),kl(this,!0)),va.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ow(this):this.Jc())},e.Jc=function(){Ow(this)};function Ow(i){if(i.c&&typeof l<"u"){if(i.C[1]&&ga(i)==4&&Cl(i)==2)lr(i.b,oi(i,"Local request error detected and ignored"));else if(i.i&&ga(i)==4)jd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),ga(i)==4){lr(i.b,oi(i,"Request complete")),i.c=!1;try{var u=Cl(i);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var p;if(!(p=c)){var g;if(g=u===0){var w=String(i.l).match(E0)[1]||null;if(!w&&f.self&&f.self.location){var E=f.self.location.protocol;w=E.substr(0,E.length-1)}g=!GN.test(w?w.toLowerCase():"")}p=g}if(p)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var C=2<ga(i)?i.a.statusText:""}catch(z){lr(i.b,"Can not get status: "+z.message),C=""}i.h=C+" ["+Cl(i)+"]",Cw(i)}}finally{kl(i)}}}}function kl(i,u){if(i.a){Nw(i);var c=i.a,p=i.C[0]?m:null;i.a=null,i.C=null,u||i.dispatchEvent("ready");try{c.onreadystatechange=p}catch(g){(i=i.b)&&i.log(Iw,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Nw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ga(i){return i.a?i.a.readyState:0}function Cl(i){try{return 2<ga(i)?i.a.status:-1}catch{return-1}}function QN(i){try{return i.a?i.a.responseText:""}catch(u){return lr(i.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Aw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(Iw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return lr(this.b,"Can not get response: "+u.message),null}};function oi(i,u){return u+" ["+i.P+" "+i.l+" "+Cl(i)+"]"}function Co(i){var u=eR;this.g=[],this.u=u,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Co.prototype.cancel=function(i){if(this.a)this.c instanceof Co&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,i?u.cancel(i):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new _a,Ol(this),ya(this,!1,i))}},Co.prototype.m=function(i,u){this.i=!1,ya(this,i,u)};function ya(i,u,c){i.a=!0,i.c=c,i.f=!u,xw(i)}function Ol(i){if(i.a){if(!i.v)throw new Nl;i.v=!1}}function JN(i,u){kp(i,null,u,void 0)}function kp(i,u,c,p){i.g.push([u,c,p]),i.a&&xw(i)}Co.prototype.then=function(i,u,c){var p,g,w=new qe(function(E,C){p=E,g=C});return kp(this,p,function(E){E instanceof _a?w.cancel():g(E)}),w.then(i,u,c)},Co.prototype.$goog_Thenable=!0;function Rw(i){return A(i.g,function(u){return b(u[1])})}function xw(i){if(i.h&&i.a&&Rw(i)){var u=i.h,c=Rl[u];c&&(f.clearTimeout(c.a),delete Rl[u]),i.h=0}i.b&&(i.b.l--,delete i.b),u=i.c;for(var p=c=!1;i.g.length&&!i.i;){var g=i.g.shift(),w=g[0],E=g[1];if(g=g[2],w=i.f?E:w)try{var C=w.call(g||i.s,u);C!==void 0&&(i.f=i.f&&(C==u||C instanceof Error),i.c=u=C),(de(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(p=!0,i.i=!0)}catch(z){u=z,i.f=!0,Rw(i)||(c=!0)}}i.c=u,p&&(C=x(i.m,i,!0),p=x(i.m,i,!1),u instanceof Co?(kp(u,C,p),u.C=!0):u.then(C,p)),c&&(u=new Pw(u),Rl[u.a]=u,i.h=u.a)}function Nl(){ge.call(this)}N(Nl,ge),Nl.prototype.message="Deferred has already fired",Nl.prototype.name="AlreadyCalledError";function _a(){ge.call(this)}N(_a,ge),_a.prototype.message="Deferred was canceled",_a.prototype.name="CanceledError";function Pw(i){this.a=f.setTimeout(x(this.c,this),0),this.b=i}Pw.prototype.c=function(){throw delete Rl[this.a],this.b};var Rl={};function Cp(i){var u={},c=u.document||document,p=L_(i).toString(),g=nl(document,"SCRIPT"),w={Xb:g,Ma:void 0},E=new Co(w),C=null,z=u.timeout!=null?u.timeout:5e3;return 0<z&&(C=window.setTimeout(function(){xl(g,!0);var te=new Op(nR,"Timeout reached for loading script "+p);Ol(E),ya(E,!1,te)},z),w.Ma=C),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(xl(g,u.xd||!1,C),Ol(E),ya(E,!0,null))},g.onerror=function(){xl(g,!0,C);var te=new Op(tR,"Error while loading script "+p);Ol(E),ya(E,!1,te)},w=u.attributes||{},tn(w,{type:"text/javascript",charset:"UTF-8"}),X_(g,w),RO(g,i),ZN(c).appendChild(g),E}function ZN(i){var u;return(u=(i||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:i.documentElement}function eR(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&xl(i,!0,this.Ma)}}function xl(i,u,c){c!=null&&f.clearTimeout(c),i.onload=m,i.onerror=m,i.onreadystatechange=m,u&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var tR=0,nR=1;function Op(i,u){var c="Jsloader error (code #"+i+")";u&&(c+=": "+u),ge.call(this,c),this.code=i}N(Op,ge);function Pl(i){this.f=i}N(Pl,ha),Pl.prototype.a=function(){return new this.f},Pl.prototype.b=function(){return{}};function _r(i,u,c){if(this.c=i,i=u||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||rR,this.g=At(i.secureTokenHeaders||iR),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||oR,this.a=At(i.firebaseHeaders||sR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Mr()=="Node",c=f.XMLHttpRequest||c&&Pe.INTERNAL.node&&Pe.INTERNAL.node.XMLHttpRequest,!c&&!gr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gr()?this.f=new Sl(self):D0()?this.f=new Pl(c):this.f=new Il,this.b=null}var Np,wr="idToken",rR=new Si(3e4,6e4),iR={"Content-Type":"application/x-www-form-urlencoded"},oR=new Si(3e4,6e4),sR={"Content-Type":"application/json"};function Dw(i,u){u?i.a["X-Firebase-Locale"]=u:delete i.a["X-Firebase-Locale"]}function Dl(i,u){u&&(i.l=Rp("https://securetoken.googleapis.com/v1/token",u),i.h=Rp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),i.i=Rp("https://identitytoolkit.googleapis.com/v2/",u))}function Rp(i,u){return i=Dn(i),u=Dn(u.url),i.f=i.a+i.f,Ju(i,u.c),i.a=u.a,Zu(i,u.g),i.toString()}function Lw(i,u){u?(i.a["X-Client-Version"]=u,i.g["X-Client-Version"]=u):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}_r.prototype.T=function(){return this.b};function Fw(i,u,c,p,g,w,E){lN()||gr()?i=x(i.u,i):(Np||(Np=new qe(function(C,z){aR(C,z)})),i=x(i.s,i)),i(u,c,p,g,w,E)}_r.prototype.u=function(i,u,c,p,g,w){if(gr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new va(this.f);if(w){E.g=Math.max(0,w);var C=setTimeout(function(){E.dispatchEvent("timeout")},w)}_0(E,"complete",function(){C&&clearTimeout(C);var z=null;try{z=JSON.parse(QN(this))||null}catch{z=null}u&&u(z)}),Vd(E,"ready",function(){C&&clearTimeout(C),h0(this)}),Vd(E,"timeout",function(){C&&clearTimeout(C),h0(this),u&&u(null)}),WN(E,i,c,p,g)};var uR=new Lr(Jc,"https://apis.google.com/js/client.js?onload=%{onload}"),Mw="__fcb"+Math.floor(1e6*Math.random()).toString();function aR(i,u){if(((window.gapi||{}).client||{}).request)i();else{f[Mw]=function(){((window.gapi||{}).client||{}).request?i():u(Error("CORS_UNSUPPORTED"))};var c=wd(uR,{onload:Mw});JN(Cp(c),function(){u(Error("CORS_UNSUPPORTED"))})}}_r.prototype.s=function(i,u,c,p,g){var w=this;Np.then(function(){window.gapi.client.setApiKey(w.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:p,headers:g,authType:"none",callback:function(C){window.gapi.auth.setToken(E),u&&u(C)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function cR(i,u){return new qe(function(c,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?Fw(i,i.l+"?key="+encodeURIComponent(i.c),function(g){g?g.error?p(jp(g)):g.access_token&&g.refresh_token?c(g):p(new k("internal-error")):p(new k("network-request-failed"))},"POST",T0(u).toString(),i.g,i.m.get()):p(new k("internal-error"))})}function Vw(i,u,c,p,g,w,E){var C=Dn(u+c);Nt(C,"key",i.c),E&&Nt(C,"cb",Date.now().toString());var z=p=="GET";if(z)for(var te in g)g.hasOwnProperty(te)&&Nt(C,te,g[te]);return new qe(function(Fe,st){Fw(i,C.toString(),function(et){et?et.error?st(jp(et,w||{})):Fe(et):st(new k("network-request-failed"))},p,z?void 0:k0(M0(g)),i.a,i.v.get())})}function Oo(i){if(i=i.email,typeof i!="string"||!dN.test(i))throw new k("invalid-email")}function jw(i){"email"in i&&Oo(i)}function lR(i,u){return $e(i,wR,{identifier:u,continueUri:hl()?na():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function fR(i){return $e(i,xR,{}).then(function(u){return u.authorizedDomains||[]})}function Ln(i){if(!i[wr])throw i.mfaPendingCredential?new k("multi-factor-auth-required",null,At(i)):new k("internal-error")}function xp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new k("internal-error")}else{if(!i.sessionInfo)throw new k("missing-verification-id");if(!i.code)throw new k("missing-verification-code")}}_r.prototype.Ab=function(){return $e(this,FR,{})},_r.prototype.Cb=function(i,u){return $e(this,qw,{idToken:i,email:u})},_r.prototype.Db=function(i,u){return $e(this,$w,{idToken:i,password:u})};var hR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=_r.prototype,e.Eb=function(i,u){var c={idToken:i},p=[];return bi(hR,function(g,w){var E=u[w];E===null?p.push(g):w in u&&(c[w]=E)}),p.length&&(c.deleteAttribute=p),$e(this,qw,c)},e.wb=function(i,u){return i={requestType:"PASSWORD_RESET",email:i},tn(i,u),$e(this,RR,i)},e.xb=function(i,u){return i={requestType:"EMAIL_SIGNIN",email:i},tn(i,u),$e(this,CR,i)},e.vb=function(i,u){return i={requestType:"VERIFY_EMAIL",idToken:i},tn(i,u),$e(this,OR,i)},e.Fb=function(i,u,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:u},tn(i,c),$e(this,NR,i)};function dR(i,u){return $e(i,LR,u)}e.gb=function(i){return $e(this,$R,i)};function pR(i,u){return $e(i,MR,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Uw(i){if(!i.phoneVerificationInfo)throw new k("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new k("missing-verification-code")}function mR(i,u){return $e(i,VR,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function vR(i,u,c){return $e(i,ER,{idToken:u,deleteProvider:c})}function Pp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new k("internal-error")}function Dp(i,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(i.sessionId?u.nonce=i.sessionId:i.postBody&&(i=new _o(i.postBody),qd(i,"nonce")&&(u.nonce=i.get("nonce")))),u}function Bw(i){var u=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",u=bl(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",u=bl(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",u=bl(i)):i.errorMessage&&(u=Kw(i.errorMessage)),u)throw u;Ln(i)}function Lp(i,u){return u.returnIdpCredential=!0,$e(i,jR,u)}function Fp(i,u){return u.returnIdpCredential=!0,$e(i,BR,u)}function Mp(i,u){return u.returnIdpCredential=!0,u.autoCreate=!1,$e(i,UR,u)}function Vp(i){if(!i.oobCode)throw new k("invalid-action-code")}e.ob=function(i,u){return $e(this,DR,{oobCode:i,newPassword:u})},e.Sa=function(i){return $e(this,yR,{oobCode:i})},e.kb=function(i){return $e(this,gR,{oobCode:i})};var gR={endpoint:"setAccountInfo",A:Vp,Z:"email",B:!0},yR={endpoint:"resetPassword",A:Vp,G:function(i){var u=i.requestType;if(!u||!i.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},_R={endpoint:"signupNewUser",A:function(i){if(Oo(i),!i.password)throw new k("weak-password")},G:Ln,V:!0,B:!0},wR={endpoint:"createAuthUri",B:!0},bR={endpoint:"deleteAccount",O:["idToken"]},ER={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new k("internal-error")}},IR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Oo,G:Ln,V:!0,B:!0},TR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Oo,G:Ln,V:!0},SR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Uw,G:Ln,B:!0,Na:!0},AR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Uw,G:Ln,B:!0,Na:!0},kR={endpoint:"getAccountInfo"},CR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new k("internal-error");Oo(i)},Z:"email",B:!0},OR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},NR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},RR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new k("internal-error");Oo(i)},Z:"email",B:!0},xR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},PR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new k("internal-error")}},DR={endpoint:"resetPassword",A:Vp,Z:"email",B:!0},LR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qw={endpoint:"setAccountInfo",O:["idToken"],A:jw,V:!0},$w={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(jw(i),!i.password)throw new k("weak-password")},G:Ln,V:!0},FR={endpoint:"signupNewUser",G:Ln,V:!0,B:!0},MR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new k("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},VR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},jR={endpoint:"verifyAssertion",A:Pp,Za:Dp,G:Bw,V:!0,B:!0},UR={endpoint:"verifyAssertion",A:Pp,Za:Dp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(i.errorMessage)throw Kw(i.errorMessage);Ln(i)},V:!0,B:!0},BR={endpoint:"verifyAssertion",A:function(i){if(Pp(i),!i.idToken)throw new k("internal-error")},Za:Dp,G:Bw,V:!0},qR={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new k("invalid-custom-token")},G:Ln,V:!0,B:!0},Hw={endpoint:"verifyPassword",A:function(i){if(Oo(i),!i.password)throw new k("wrong-password")},G:Ln,V:!0,B:!0},$R={endpoint:"verifyPhoneNumber",A:xp,G:Ln,B:!0},HR={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new k("internal-error");xp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",bl(i);Ln(i)}},KR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:xp,G:Ln,B:!0},GR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[wr]^!!i.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function $e(i,u,c){if(!wN(c,u.O))return _t(new k("internal-error"));var p=!!u.Na,g=u.Vb||"POST",w;return Ce(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),p?Vw(i,i.i,u.endpoint,g,c,u.Ib,u.mb||!1):Vw(i,i.h,u.endpoint,g,c,u.Ib,u.mb||!1)}).then(function(E){return w=E,u.Za?u.Za(c,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new k("internal-error");return w[u.Z]})}function Kw(i){return jp({error:{errors:[{message:i}],code:400,message:i}})}function jp(i,u){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=p[c]?new k(p[c]):null)return c;c=i.error&&i.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},tn(p,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(c.indexOf(g)===0)return new k(p[g],u);return!u&&i&&(u=ia(i)),new k("internal-error",u)}function zR(i){this.b=i,this.a=null,this.sb=WR(this)}function WR(i){return ex().then(function(){return new qe(function(u,c){wt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(w),u()}i.a=p,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},ZR.get());p.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function XR(i,u){return i.sb.then(function(){return new qe(function(c){i.a.send(u.type,u,c,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function YR(i,u){i.sb.then(function(){i.a.register("authEvent",u,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var QR=new Lr(Jc,"https://apis.google.com/js/api.js?onload=%{onload}"),JR=new Si(3e4,6e4),ZR=new Si(5e3,15e3),Ll=null;function ex(){return Ll||(Ll=new qe(function(i,u){function c(){j0(),wt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){j0(),u(Error("Network Error"))},timeout:JR.get()})}if(wt("gapi.iframes.Iframe"))i();else if(wt("gapi.load"))c();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[p]=function(){wt("gapi.load")?c():u(Error("Network Error"))},p=wd(QR,{onload:p}),Ce(Cp(p)).o(function(){u(Error("Network Error"))})}}).o(function(i){throw Ll=null,i}))}function Gw(i,u,c,p){this.l=i,this.h=u,this.i=c,this.g=p,this.f=null,this.g?(i=Dn(this.g.url),i=ll(i.c,i.a,i.g,"/emulator/auth/iframe")):i=ll("https",this.l,null,"/__/auth/iframe"),this.a=i,Nt(this.a,"apiKey",this.h),Nt(this.a,"appName",this.i),this.b=null,this.c=[]}Gw.prototype.toString=function(){return this.f?Nt(this.a,"v",this.f):Fr(this.a.b,"v"),this.b?Nt(this.a,"eid",this.b):Fr(this.a.b,"eid"),this.c.length?Nt(this.a,"fw",this.c.join(",")):Fr(this.a.b,"fw"),this.a.toString()};function Up(i,u,c,p,g,w){this.u=i,this.s=u,this.c=c,this.m=p,this.v=w,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}Up.prototype.zb=function(i){return this.h=i,this},Up.prototype.toString=function(){if(this.v){var i=Dn(this.v.url);i=ll(i.c,i.a,i.g,"/emulator/auth/handler")}else i=ll("https",this.u,null,"/__/auth/handler");if(Nt(i,"apiKey",this.s),Nt(i,"appName",this.c),Nt(i,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=Pe.app(this.c).auth().la()}catch{c=null}u.pb=c,Nt(i,"providerId",this.a.providerId),c=this.a,u=M0(c.Jb);for(var p in u)u[p]=u[p].toString();p=c.Qc,u=At(u);for(var g=0;g<p.length;g++){var w=p[g];w in u&&delete u[w]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Dr(u)||Nt(i,"customParameters",ia(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Nt(i,"scopes",c.join(","))),this.l?Nt(i,"redirectUrl",this.l):Fr(i.b,"redirectUrl"),this.g?Nt(i,"eventId",this.g):Fr(i.b,"eventId"),this.i?Nt(i,"v",this.i):Fr(i.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!ar(i,E)&&Nt(i,E,this.b[E]);return this.h?Nt(i,"tid",this.h):Fr(i.b,"tid"),this.f?Nt(i,"eid",this.f):Fr(i.b,"eid"),E=Bp(this.c),E.length&&Nt(i,"fw",E.join(",")),i.toString()};function Bp(i){try{return Pe.app(i).auth().Ga()}catch{return[]}}function zw(i,u,c,p,g,w){this.s=i,this.g=u,this.b=c,this.f=w,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Ww(i){var u=na();return fR(i).then(function(c){e:{var p=Dn(u),g=p.c;p=p.a;for(var w=0;w<c.length;w++){var E=c[w],C=p,z=g;if(E.indexOf("chrome-extension://")==0?C=Dn(E).a==C&&z=="chrome-extension":z!="http"&&z!="https"?C=!1:hN.test(E)?C=C==E:(E=E.split(".").join("\\."),C=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(C)),C){c=!0;break e}}c=!1}if(!c)throw new yp(na())})}function Xw(i){return i.m||(i.m=fl().then(function(){if(!i.u){var u=i.c,c=i.i,p=Bp(i.b),g=new Gw(i.s,i.g,i.b,i.f);g.f=u,g.b=c,g.c=ce(p||[]),i.u=g.toString()}i.v=new zR(i.u),tx(i)})),i.m}e=zw.prototype,e.Pb=function(i,u,c){var p=new k("popup-closed-by-user"),g=new k("web-storage-unsupported"),w=this,E=!1;return this.ma().then(function(){nx(w).then(function(C){C||(i&&wo(i),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return fN(i)}).then(function(){if(!E)return Ts(c).then(function(){u(p)})})},e.Yb=function(){var i=nn();return!ra(i)&&!V0(i)},e.Ub=function(){return!1},e.Nb=function(i,u,c,p,g,w,E,C){if(!i)return _t(new k("popup-blocked"));if(E&&!ra())return this.ma().o(function(te){wo(i),g(te)}),p(),Ce();this.a||(this.a=Ww(Yw(this)));var z=this;return this.a.then(function(){var te=z.ma().o(function(Fe){throw wo(i),g(Fe),Fe});return p(),te}).then(function(){if(vp(c),!E){var te=wa(z.s,z.g,z.b,u,c,null,w,z.c,void 0,z.i,C,z.f);N0(te,i)}}).o(function(te){throw te.code=="auth/network-request-failed"&&(z.a=null),te})};function Yw(i){return i.l||(i.C=i.c?Cs(i.c,Bp(i.b)):null,i.l=new _r(i.g,_e(i.i),i.C),i.f&&Dl(i.l,i.f)),i.l}e.Ob=function(i,u,c,p){this.a||(this.a=Ww(Yw(this)));var g=this;return this.a.then(function(){vp(u);var w=wa(g.s,g.g,g.b,i,u,na(),c,g.c,void 0,g.i,p,g.f);N0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(g.a=null),w})},e.ma=function(){var i=this;return Xw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function wa(i,u,c,p,g,w,E,C,z,te,Fe,st){return i=new Up(i,u,c,p,g,st),i.l=w,i.g=E,i.i=C,i.b=At(z||null),i.f=te,i.zb(Fe).toString()}function tx(i){if(!i.v)throw Error("IfcHandler must be initialized!");YR(i.v,function(u){var c={};if(u&&u.authEvent){var p=!1;for(u=_w(u.authEvent),c=0;c<i.h.length;c++)p=i.h[c](u)||p;return c={},c.status=p?"ACK":"ERROR",Ce(c)}return c.status="ERROR",Ce(c)})}function nx(i){var u={type:"webStorageSupport"};return Xw(i).then(function(){return XR(i.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){Q(this.h,function(u){return u==i})};function Qw(i){if(this.a=i||Pe.INTERNAL.reactNative&&Pe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Qw.prototype,e.get=function(i){return Ce(this.a.getItem(i)).then(function(u){return u&&Ns(u)})},e.set=function(i,u){return Ce(this.a.setItem(i,ia(u)))},e.U=function(i){return Ce(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Jw(i){this.b=i,this.a={},this.f=x(this.c,this)}var Zw=[];function rx(){var i=gr()?self:null;if(K(Zw,function(c){c.b==i&&(u=c)}),!u){var u=new Jw(i);Zw.push(u)}return u}Jw.prototype.c=function(i){var u=i.data.eventType,c=i.data.eventId,p=this.a[u];if(p&&0<p.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var g=[];K(p,function(w){g.push(Ce().then(function(){return w(i.origin,i.data.data)}))}),r0(g).then(function(w){var E=[];K(w,function(C){E.push({fulfilled:C.Qb,value:C.value,reason:C.reason?C.reason.message:void 0})}),K(E,function(C){for(var z in C)typeof C[z]>"u"&&delete C[z]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:E})})}};function eb(i,u,c){Dr(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[u]>"u"&&(i.a[u]=[]),i.a[u].push(c)}function tb(i){this.a=i}tb.prototype.postMessage=function(i,u){this.a.postMessage(i,u)};function nb(i){this.c=i,this.b=!1,this.a=[]}function rb(i,u,c,p){var g,w=c||{},E,C,z,te=null;if(i.b)return _t(Error("connection_unavailable"));var Fe=p?800:50,st=typeof MessageChannel<"u"?new MessageChannel:null;return new qe(function(et,Qt){st?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),st.port1.start(),C=setTimeout(function(){Qt(Error("unsupported_event"))},Fe),E=function(si){si.data.eventId===g&&(si.data.status==="ack"?(clearTimeout(C),z=setTimeout(function(){Qt(Error("timeout"))},3e3)):si.data.status==="done"?(clearTimeout(z),typeof si.data.response<"u"?et(si.data.response):Qt(Error("unknown_error"))):(clearTimeout(C),clearTimeout(z),Qt(Error("invalid_response"))))},te={messageChannel:st,onMessage:E},i.a.push(te),st.port1.addEventListener("message",E),i.c.postMessage({eventType:u,eventId:g,data:w},[st.port2])):Qt(Error("connection_unavailable"))}).then(function(et){return qp(i,te),et}).o(function(et){throw qp(i,te),et})}function qp(i,u){if(u){var c=u.messageChannel,p=u.onMessage;c&&(c.port1.removeEventListener("message",p),c.port1.close()),Q(i.a,function(g){return g==u})}}nb.prototype.close=function(){for(;0<this.a.length;)qp(this,this.a[0]);this.b=!0};function ib(){if(!Kp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;gr()&&self?(this.v=rx(),eb(this.v,"keyChanged",function(u,c){return ub(i).then(function(p){return 0<p.length&&K(i.a,function(g){g(p)}),{keyProcessed:U(p,c.key)}})}),eb(this.v,"ping",function(){return Ce(["keyChanged"])})):yN().then(function(u){(i.h=u)&&(i.g=new nb(new tb(u)),rb(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&U(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var $p;function ix(i){return new qe(function(u,c){var p=i.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){c(Error(g.target.error))}})}function ob(i){return new qe(function(u,c){var p=i.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):ix(i).then(function(){return ob(i)}).then(function(w){u(w)}).o(function(w){c(w)})}})}function Hp(i){return i.i||(i.i=ob(i)),i.i}function Fl(i,u){function c(g,w){Hp(i).then(u).then(g).o(function(E){if(3<++p)w(E);else return Hp(i).then(function(C){return C.close(),i.i=void 0,c(g,w)}).o(function(C){w(C)})})}var p=0;return new qe(c)}function Kp(){try{return!!f.indexedDB}catch{return!1}}function ba(i){return i.objectStore("firebaseLocalStorage")}function Ea(i,u){return i.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ds(i){return new qe(function(u,c){i.onsuccess=function(p){p&&p.target?u(p.target.result):u()},i.onerror=function(p){c(p.target.error)}})}e=ib.prototype,e.set=function(i,u){var c=this,p=!1;return Fl(this,function(g){return g=ba(Ea(g,!0)),Ds(g.get(i))}).then(function(g){return Fl(c,function(w){if(w=ba(Ea(w,!0)),g)return g.value=u,Ds(w.put(g));c.b++,p=!0;var E={};return E.fbase_key=i,E.value=u,Ds(w.add(E))})}).then(function(){return c.c[i]=u,sb(c,i)}).oa(function(){p&&c.b--})};function sb(i,u){return i.g&&i.h&&gN()===i.h?rb(i.g,"keyChanged",{key:u},i.s).then(function(){}).o(function(){}):Ce()}e.get=function(i){return Fl(this,function(u){return Ds(ba(Ea(u,!1)).get(i))}).then(function(u){return u&&u.value})},e.U=function(i){var u=this,c=!1;return Fl(this,function(p){return c=!0,u.b++,Ds(ba(Ea(p,!0)).delete(i))}).then(function(){return delete u.c[i],sb(u,i)}).oa(function(){c&&u.b--})};function ub(i){return Hp(i).then(function(u){var c=ba(Ea(u,!1));return c.getAll?Ds(c.getAll()):new qe(function(p,g){var w=[],E=c.openCursor();E.onsuccess=function(C){(C=C.target.result)?(w.push(C.value),C.continue()):p(w)},E.onerror=function(C){g(C.target.error)}})}).then(function(u){var c={},p=[];if(i.b==0){for(p=0;p<u.length;p++)c[u[p].fbase_key]=u[p].value;p=R0(i.c,c),i.c=c}return p})}e.ca=function(i){this.a.length==0&&ox(this),this.a.push(i)},e.ia=function(i){Q(this.a,function(u){return u==i}),this.a.length==0&&ab(this)};function ox(i){function u(){i.f=setTimeout(function(){i.l=ub(i).then(function(c){0<c.length&&K(i.a,function(p){p(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}ab(i),u()}function ab(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function cb(i){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Ce().then(function(){if(Kp()){var p=Eo(),g="__sak"+p;return $p||($p=new ib),c=$p,c.set(g,p).then(function(){return c.get(g)}).then(function(w){if(w!==p)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){K(u.a,function(w){w(g)})}),p})}e=cb.prototype,e.get=function(i){return this.b.then(function(u){return u.get(i)})},e.set=function(i,u){return this.b.then(function(c){return c.set(i,u)})},e.U=function(i){return this.b.then(function(u){return u.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){Q(this.a,function(u){return u==i})};function Ia(){this.a={},this.type="inMemory"}e=Ia.prototype,e.get=function(i){return Ce(this.a[i])},e.set=function(i,u){return this.a[i]=u,Ce()},e.U=function(i){return delete this.a[i],Ce()},e.ca=function(){},e.ia=function(){};function Ml(){if(!sx())throw Mr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=lb()||Pe.INTERNAL.node.localStorage,this.type="localStorage"}function lb(){try{var i=f.localStorage,u=Eo();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function sx(){var i=Mr()=="Node";if(i=lb()||i&&Pe.INTERNAL.node&&Pe.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Ml.prototype,e.get=function(i){var u=this;return Ce().then(function(){var c=u.a.getItem(i);return Ns(c)})},e.set=function(i,u){var c=this;return Ce().then(function(){var p=ia(u);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var u=this;return Ce().then(function(){u.a.removeItem(i)})},e.ca=function(i){f.window&&ur(f.window,"storage",i)},e.ia=function(i){f.window&&zn(f.window,"storage",i)};function Gp(){this.type="nullStorage"}e=Gp.prototype,e.get=function(){return Ce(null)},e.set=function(){return Ce()},e.U=function(){return Ce()},e.ca=function(){},e.ia=function(){};function zp(){if(!ux())throw Mr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=fb()||Pe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function fb(){try{var i=f.sessionStorage,u=Eo();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function ux(){var i=Mr()=="Node";if(i=fb()||i&&Pe.INTERNAL.node&&Pe.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=zp.prototype,e.get=function(i){var u=this;return Ce().then(function(){var c=u.a.getItem(i);return Ns(c)})},e.set=function(i,u){var c=this;return Ce().then(function(){var p=ia(u);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var u=this;return Ce().then(function(){u.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function ax(){var i={};i.Browser=cx,i.Node=lx,i.ReactNative=fx,i.Worker=hx,this.a=i[Mr()]}var Wp,cx={F:Ml,cb:zp},lx={F:Ml,cb:zp},fx={F:Qw,cb:Gp},hx={F:Ml,cb:Gp},Ls={rd:"local",NONE:"none",td:"session"};function dx(i){var u=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(p in Ls)if(Ls[p]==i){var p=!0;break e}p=!1}if(!p||typeof i!="string")throw u;switch(Mr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Kp()&&i!=="none")throw c;break;default:if(!Wd()&&i!=="none")throw c}}function hb(){var i=!!(!V0(nn())&&Gd()),u=ra(),c=Wd();this.m=i,this.h=u,this.l=c,this.a={},Wp||(Wp=new ax),i=Wp;try{this.g=!Hd()&&U0()||!f.indexedDB?new i.a.F:new cb(gr()?new Ia:new i.a.F)}catch{this.g=new Ia,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Ia}this.v=new Ia,this.f=x(this.Zb,this),this.b={}}var Xp;function Ta(){return Xp||(Xp=new hb),Xp}function No(i,u){switch(u){case"session":return i.i;case"none":return i.v;default:return i.g}}function Fs(i,u){return"firebase:"+i.name+(u?":"+u:"")}function px(i,u,c){var p=Fs(u,c),g=No(i,u.F);return i.get(u,c).then(function(w){var E=null;try{E=Ns(f.localStorage.getItem(p))}catch{}if(E&&!w)return f.localStorage.removeItem(p),i.set(u,E,c);E&&w&&g.type!="localStorage"&&f.localStorage.removeItem(p)})}e=hb.prototype,e.get=function(i,u){return No(this,i.F).get(Fs(i,u))};function Ms(i,u,c){return c=Fs(u,c),u.F=="local"&&(i.b[c]=null),No(i,u.F).U(c)}e.set=function(i,u,c){var p=Fs(i,c),g=this,w=No(this,i.F);return w.set(p,u).then(function(){return w.get(p)}).then(function(E){i.F=="local"&&(g.b[p]=E)})},e.addListener=function(i,u,c){i=Fs(i,u),this.l&&(this.b[i]=f.localStorage.getItem(i)),Dr(this.a)&&(No(this,"local").ca(this.f),this.h||(Hd()||!U0())&&f.indexedDB||!this.l||mx(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,u,c){i=Fs(i,u),this.a[i]&&(Q(this.a[i],function(p){return p==c}),this.a[i].length==0&&delete this.a[i]),Dr(this.a)&&(No(this,"local").ia(this.f),Yp(this))};function mx(i){Yp(i),i.c=setInterval(function(){for(var u in i.a){var c=f.localStorage.getItem(u),p=i.b[u];c!=p&&(i.b[u]=c,c=new go({type:"storage",key:u,target:window,oldValue:p,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Yp(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var u=i.a.key;if(u==null)for(var c in this.a){var p=this.b[c];typeof p>"u"&&(p=null);var g=f.localStorage.getItem(c);g!==p&&(this.b[c]=g,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof i.a.a<"u"?No(this,"local").ia(this.f):Yp(this),this.m){if(c=f.localStorage.getItem(u),p=i.a.newValue,p!==c)p!==null?f.localStorage.setItem(u,p):f.localStorage.removeItem(u);else if(this.b[u]===p&&typeof i.a.a>"u")return}var w=this;c=function(){(typeof i.a.a<"u"||w.b[u]!==f.localStorage.getItem(u))&&(w.b[u]=f.localStorage.getItem(u),w.nb(u))},vr&&Ei&&Ei==10&&f.localStorage.getItem(u)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else K(i,x(this.nb,this))},e.nb=function(i){this.a[i]&&K(this.a[i],function(u){u()})};function vx(i){this.a=i,this.b=Ta()}var Qp={name:"authEvent",F:"local"};function gx(i){return i.b.get(Qp,i.a).then(function(u){return _w(u)})}function yx(){this.a=Ta()}function _x(){this.b=-1}function Vl(i,u){this.b=db,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),jl===void 0&&(f.Int32Array?jl=new Int32Array(vb):jl=vb),this.reset()}var jl;N(Vl,_x);for(var db=64,wx=db-1,pb=[],Jp=0;Jp<wx;Jp++)pb[Jp]=0;var mb=ue(128,pb);Vl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ce(this.h)};function Zp(i){for(var u=i.f,c=i.l,p=0,g=0;g<u.length;)c[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=c[u-15]|0,p=c[u-2]|0;var w=(c[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(c[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;c[u]=w+E|0}p=i.a[0]|0,g=i.a[1]|0;var C=i.a[2]|0,z=i.a[3]|0,te=i.a[4]|0,Fe=i.a[5]|0,st=i.a[6]|0;for(w=i.a[7]|0,u=0;64>u;u++){var et=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&C^g&C)|0;E=te&Fe^~te&st,w=w+((te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7))|0,E=E+(jl[u]|0)|0,E=w+(E+(c[u]|0)|0)|0,w=st,st=Fe,Fe=te,te=z+E|0,z=C,C=g,g=p,p=E+et|0}i.a[0]=i.a[0]+p|0,i.a[1]=i.a[1]+g|0,i.a[2]=i.a[2]+C|0,i.a[3]=i.a[3]+z|0,i.a[4]=i.a[4]+te|0,i.a[5]=i.a[5]+Fe|0,i.a[6]=i.a[6]+st|0,i.a[7]=i.a[7]+w|0}function em(i,u,c){c===void 0&&(c=u.length);var p=0,g=i.c;if(typeof u=="string")for(;p<c;)i.f[g++]=u.charCodeAt(p++),g==i.b&&(Zp(i),g=0);else if(_(u))for(;p<c;){var w=u[p++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[g++]=w,g==i.b&&(Zp(i),g=0)}else throw Error("message must be string or array");i.c=g,i.g+=c}var vb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gb(){Vl.call(this,8,bx)}N(gb,Vl);var bx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yb(i,u,c,p,g,w){this.v=i,this.i=u,this.l=c,this.m=p||null,this.u=g||null,this.s=w,this.h=u+":"+c,this.C=new yx,this.g=new vx(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ul(i){return new k("invalid-cordova-configuration",i)}e=yb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=pN().then(function(){if(typeof wt("universalLinks.subscribe",f)!="function")throw Ul("cordova-universal-links-plugin-fix is not installed");if(typeof wt("BuildInfo.packageName",f)>"u")throw Ul("cordova-plugin-buildinfo is not installed");if(typeof wt("cordova.plugins.browsertab.openUrl",f)!="function")throw Ul("cordova-plugin-browsertab is not installed");if(typeof wt("cordova.InAppBrowser.open",f)!="function")throw Ul("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function Ex(){for(var i=20,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}function Ix(i){var u=new gb;em(u,i),i=[];var c=8*u.g;56>u.c?em(u,mb,56-u.c):em(u,mb,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=c&255,c/=256;for(Zp(u),p=c=0;p<u.i;p++)for(var g=24;0<=g;g-=8)i[c++]=u.a[p]>>g&255;return DN(i)}e.Pb=function(i,u){return u(new k("operation-not-supported-in-this-environment")),Ce()},e.Nb=function(){return _t(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,u,c,p){if(this.c)return _t(new k("redirect-operation-pending"));var g=this,w=f.document,E=null,C=null,z=null,te=null;return this.c=Ce().then(function(){return vp(u),wb(g)}).then(function(){return Tx(g,i,u,c,p)}).then(function(){return new qe(function(Fe,st){C=function(){var et=wt("cordova.plugins.browsertab.close",f);return Fe(),typeof et=="function"&&et(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(C),z=function(){E||(E=Ts(2e3).then(function(){st(new k("redirect-cancelled-by-user"))}))},te=function(){Xd()&&z()},w.addEventListener("resume",z,!1),nn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",te,!1)}).o(function(Fe){return tm(g).then(function(){throw Fe})})}).oa(function(){z&&w.removeEventListener("resume",z,!1),te&&w.removeEventListener("visibilitychange",te,!1),E&&E.cancel(),C&&g.Ta(C),g.c=null})};function Tx(i,u,c,p,g){var w=Ex(),E=new yr(u,p,null,w,new k("no-auth-event"),null,g),C=wt("BuildInfo.packageName",f);if(typeof C!="string")throw new k("invalid-cordova-configuration");var z=wt("BuildInfo.displayName",f),te={};if(nn().toLowerCase().match(/iphone|ipad|ipod/))te.ibi=C;else if(nn().toLowerCase().match(/android/))te.apn=C;else return _t(new k("operation-not-supported-in-this-environment"));z&&(te.appDisplayName=z),w=Ix(w),te.sessionId=w;var Fe=wa(i.v,i.i,i.l,u,c,null,p,i.m,te,i.u,g,i.s);return i.ma().then(function(){var st=i.h;return i.C.a.set(Qp,E.w(),st)}).then(function(){var st=wt("cordova.plugins.browsertab.isAvailable",f);if(typeof st!="function")throw new k("invalid-cordova-configuration");var et=null;st(function(Qt){if(Qt){if(et=wt("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new k("invalid-cordova-configuration");et(Fe)}else{if(et=wt("cordova.InAppBrowser.open",f),typeof et!="function")throw new k("invalid-cordova-configuration");Qt=nn(),i.a=et(Fe,Qt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Qt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function _b(i,u){for(var c=0;c<i.b.length;c++)try{i.b[c](u)}catch{}}function wb(i){return i.f||(i.f=i.ma().then(function(){return new qe(function(u){function c(p){return u(p),i.Ta(c),!1}i.Ea(c),Sx(i)})})),i.f}function tm(i){var u=null;return gx(i.g).then(function(c){return u=c,c=i.g,Ms(c.b,Qp,c.a)}).then(function(){return u})}function Sx(i){function u(E){p=!0,g&&g.cancel(),tm(i).then(function(C){var z=c;if(C&&E&&E.url){var te=null;z=fw(E.url),z.indexOf("/__/auth/callback")!=-1&&(te=Dn(z),te=Ns(ar(te,"firebaseError")||null),te=(te=typeof te=="object"?Te(te):null)?new yr(C.c,C.b,null,null,te,null,C.T()):new yr(C.c,C.b,z,C.f,null,null,C.T())),z=te||c}_b(i,z)})}var c=new yr("unknown",null,null,null,new k("no-auth-event")),p=!1,g=Ts(500).then(function(){return tm(i).then(function(){p||_b(i,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(E){if(E.toLowerCase().indexOf(wt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:E}),typeof w=="function")try{w(E)}catch(C){console.error(C)}},gp||(gp=new qN),$N(u)}e.Ea=function(i){this.b.push(i),wb(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new yr("unknown",null,null,null,new k("no-auth-event")),i(u))})},e.Ta=function(i){Q(this.b,function(u){return u==i})};function Ax(i){this.a=i,this.b=Ta()}var nm={name:"pendingRedirect",F:"session"};function kx(i){return i.b.set(nm,"pending",i.a)}function rm(i){return Ms(i.b,nm,i.a)}function Cx(i){return i.b.get(nm,i.a).then(function(u){return u=="pending"})}function Bl(i,u,c,p){this.i={},this.u=0,this.D=i,this.v=u,this.m=c,this.J=p,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new $l,this.C=new Nb,this.g=new Ax(kb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=bb(this.D,this.v,this.m,he,this.J)}function bb(i,u,c,p,g){var w=Pe.SDK_VERSION||null;return Kd()?new yb(i,u,c,w,p,g):new zw(i,u,c,w,p,g)}Bl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=bb(this.D,this.v,this.m,null,this.J),this.i={}};function Eb(i){i.f||(i.f=!0,i.a.Ea(i.l));var u=i.a;return i.a.ma().o(function(c){throw i.a==u&&i.reset(),c})}function Ib(i){i.a.Yb()&&Eb(i).o(function(u){var c=new yr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));om(u)&&i.s(c)}),i.a.Ub()||Cb(i.b)}function ql(i,u){U(i.h,u)||i.h.push(u),i.f||Cx(i.g).then(function(c){c?rm(i.g).then(function(){Eb(i).o(function(p){var g=new yr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));om(p)&&i.s(g)})}):Ib(i)}).o(function(){Ib(i)})}function im(i,u){Q(i.h,function(c){return c==u})}Bl.prototype.s=function(i){if(!i)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var p=this.h[c];if(p.Gb(i.c,i.b)){(u=this.c[i.c])&&(u.h(i,p),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Cb(this.b),u};var Ox=new Si(2e3,1e4),Nx=new Si(3e4,6e4);Bl.prototype.ra=function(){return this.b.ra()};function Tb(i,u,c,p,g,w,E){return i.a.Nb(u,c,p,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},g,w,E)}function om(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Sb(i,u,c,p,g){var w;return kx(i.g).then(function(){return i.a.Ob(u,c,p,g).o(function(E){if(om(E))throw new k("operation-not-supported-in-this-environment");return w=E,rm(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new qe(function(){}):rm(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function Ab(i,u,c,p,g){return i.a.Pb(p,function(w){u.na(c,null,w,g)},Ox.get())}var sm={};function kb(i,u,c){return i=i+":"+u,c&&(i=i+":"+c.url),i}function um(i,u,c,p){var g=kb(u,c,p);return sm[g]||(sm[g]=new Bl(i,u,c,p)),sm[g]}function $l(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}$l.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$l.prototype.h=function(i,u){if(i){this.reset(),this.g=!0;var c=i.c,p=i.b,g=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!w),c!="unknown"||g||w?i.a?(Ro(this,!0,null,i.a),Ce()):u.Fa(c,p)?Rx(this,i,u):_t(new k("invalid-auth-event")):(Ro(this,!1,null,null),Ce())}else _t(new k("invalid-auth-event"))};function Cb(i){i.g||(i.g=!0,Ro(i,!1,null,null))}function Hl(i){i.g&&!i.i&&Ro(i,!1,null,null)}function Rx(i,u,c){c=c.Fa(u.c,u.b);var p=u.g,g=u.f,w=u.i,E=u.T(),C=!!u.c.match(/Redirect$/);c(p,g,E,w).then(function(z){Ro(i,C,z,null)}).o(function(z){Ro(i,C,null,z)})}function xx(i,u){if(i.b=function(){return _t(u)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](u)}function Ob(i,u){if(i.b=function(){return Ce(u)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](u)}function Ro(i,u,c,p){u?p?xx(i,p):Ob(i,c):Ob(i,{user:null}),i.f=[],i.c=[]}$l.prototype.ra=function(){var i=this;return new qe(function(u,c){i.b?i.b().then(u,c):(i.f.push(u),i.c.push(c),Px(i))})};function Px(i){var u=new k("timeout");i.a&&i.a.cancel(),i.a=Ts(Nx.get()).then(function(){i.b||(i.g=!0,Ro(i,!0,null,u))})}function Nb(){}Nb.prototype.h=function(i,u){if(i){var c=i.c,p=i.b;i.a?(u.na(i.c,null,i.a,i.b),Ce()):u.Fa(c,p)?Dx(i,u):_t(new k("invalid-auth-event"))}else _t(new k("invalid-auth-event"))};function Dx(i,u){var c=i.b,p=i.c;u.Fa(p,c)(i.g,i.f,i.T(),i.i).then(function(g){u.na(p,g,null,c)}).o(function(g){u.na(p,null,g,c)})}function Rb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function am(i,u){this.a=u,be(this,"verificationId",i)}am.prototype.confirm=function(i){return i=yw(this.verificationId,i),this.a(i)};function cm(i,u,c,p){return new ii(i).gb(u,c).then(function(g){return new am(g,p)})}function Lx(i){var u=rw(i);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");En(this,{token:i,expirationTime:oa(1e3*u.exp),authTime:oa(1e3*u.auth_time),issuedAtTime:oa(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function lm(i,u,c){var p=u&&u[Pb];if(!p)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=At(u),this.g=c,this.c=new _l(null,p),this.b=[];var g=this;K(u[xb]||[],function(w){(w=tp(w))&&g.b.push(w)}),be(this,"auth",this.a),be(this,"session",this.c),be(this,"hints",this.b)}var xb="mfaInfo",Pb="mfaPendingCredential";lm.prototype.Rc=function(i){var u=this;return i.tb(this.a.a,this.c).then(function(c){var p=At(u.f);return delete p[xb],delete p[Pb],tn(p,c),u.g(p)})};function fm(i,u,c,p){k.call(this,"multi-factor-auth-required",p,u),this.b=new lm(i,u,c),be(this,"resolver",this.b)}N(fm,k);function Db(i,u,c){if(i&&S(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new fm(u,i.serverResponse,c,i.message)}catch{}return null}function Lb(){}Lb.prototype.tb=function(i,u,c){return u.type==ca?Fx(this,i,u,c):Mx(this,i,u)};function Fx(i,u,c,p){return c.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),tn(g,{phoneVerificationInfo:la(i.a)}),$e(u,SR,g)})}function Mx(i,u,c){return c.Ha().then(function(p){return p={mfaPendingCredential:p},tn(p,{phoneVerificationInfo:la(i.a)}),$e(u,AR,p)})}function hm(i){be(this,"factorId",i.fa),this.a=i}N(hm,Lb);function Fb(i){if(hm.call(this,i),this.a.fa!=ii.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}N(Fb,hm);function Vs(i,u){Pn.call(this,i);for(var c in u)this[c]=u[c]}N(Vs,Pn);function dm(i,u){this.a=i,this.b=[],this.c=x(this.yc,this),ur(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&K(u.multiFactor.enrolledFactors,function(p){var g=null,w={};if(p){p.uid&&(w[rp]=p.uid),p.displayName&&(w[q0]=p.displayName),p.enrollmentTime&&(w[np]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(w[ip]=p.phoneNumber);try{g=new sa(w)}catch{}p=g}else p=null;p&&c.push(p)}),Kl(this,c)}function Vx(i){var u=[];return K(i.mfaInfo||[],function(c){(c=tp(c))&&u.push(c)}),u}e=dm.prototype,e.yc=function(i){Kl(this,Vx(i.hd))};function Kl(i,u){i.b=u,be(i,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(i){return new _l(i,null)})},e.fc=function(i,u){var c=this,p=this.a.a;return this.Sb().then(function(g){return i.tb(p,g,u)}).then(function(g){return Ur(c.a,g),c.a.reload()})},e.bd=function(i){var u=this,c=typeof i=="string"?i:i.uid,p=this.a.a;return this.a.I().then(function(g){return $e(p,GR,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var w=Ge(u.b,function(E){return E.uid!=c});return Kl(u,w),Ur(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Ie(this.b,function(i){return i.w()})}}};function pm(i,u,c){if(this.h=i,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}pm.prototype.start=function(){this.a=this.c,mm(this,!0)};function jx(i,u){return u?(i.a=i.c,i.g()):(u=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),u)}function mm(i,u){i.stop(),i.b=Ts(jx(i,u)).then(function(){return vN()}).then(function(){return i.h()}).then(function(){mm(i,!0)}).o(function(c){i.i(c)&&mm(i,!1)})}pm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function vm(i){this.f=i,this.b=this.a=null,this.c=Date.now()}vm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Mb(i,u){typeof u>"u"&&(i.b?(u=i.b,u=u.a-u.g):u=0),i.c=Date.now()+1e3*u}function Vb(i,u){i.b=gl(u[wr]||""),i.a=u.refreshToken,u=u.expiresIn,Mb(i,typeof u<"u"?Number(u):void 0)}function Ux(i,u){i.b=u.b,i.a=u.a,i.c=u.c}function Bx(i,u){return cR(i.f,u).then(function(c){return i.b=gl(c.access_token),i.a=c.refresh_token,Mb(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}vm.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?_t(new k("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?Bx(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})};function Gl(i,u){this.a=i||null,this.b=u||null,En(this,{lastSignInTime:oa(u||null),creationTime:oa(i||null)})}function qx(i){return new Gl(i.a,i.b)}Gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function $x(i,u,c,p,g,w){En(this,{uid:i,displayName:p||null,photoURL:g||null,email:c||null,phoneNumber:w||null,providerId:u})}function Xn(i,u,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var p=Pe.SDK_VERSION?Cs(Pe.SDK_VERSION):null;this.a=new _r(this.l,_e(he),p),(this.u=i.emulatorConfig||null)&&Dl(this.a,this.u),this.h=new vm(this.a),Im(this,u[wr]),Vb(this.h,u),be(this,"refreshToken",this.h.a),Ub(this,c||{}),bn.call(this),this.P=!1,this.s&&bo()&&(this.b=um(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Hx(this),this.ba=x(this.ib,this);var g=this;this.za=null,this.Pa=function(w){g.xa(w.h)},this.qa=null,this.Ba=function(w){gm(g,w.c)},this.$=null,this.aa=[],this.Oa=function(w){Sa(g,w.f)},this.ja=null,this.S=new dm(this,c),be(this,"multiFactor",this.S)}N(Xn,bn),Xn.prototype.xa=function(i){this.za=i,Dw(this.a,i)};function gm(i,u){i.u=u,Dl(i.a,u),i.b&&(u=i.b,i.b=um(i.s,i.l,i.m,i.u),i.P&&(im(u,i),ql(i.b,i)))}Xn.prototype.la=function(){return this.za};function ym(i,u){i.qa&&zn(i.qa,"languageCodeChanged",i.Pa),(i.qa=u)&&ur(u,"languageCodeChanged",i.Pa)}function _m(i,u){i.$&&zn(i.$,"emulatorConfigChanged",i.Ba),(i.$=u)&&ur(u,"emulatorConfigChanged",i.Ba)}function Sa(i,u){i.aa=u,Lw(i.a,Pe.SDK_VERSION?Cs(Pe.SDK_VERSION,i.aa):null)}Xn.prototype.Ga=function(){return ce(this.aa)};function wm(i,u){i.ja&&zn(i.ja,"frameworkChanged",i.Oa),(i.ja=u)&&ur(u,"frameworkChanged",i.Oa)}Xn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function bm(i){try{return Pe.app(i.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function Hx(i){return new pm(function(){return i.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=i.h.c-Date.now()-3e5;return 0<u?u:0})}function jb(i){i.J||i.D.b||(i.D.start(),zn(i,"tokenChanged",i.ba),ur(i,"tokenChanged",i.ba))}function Em(i){zn(i,"tokenChanged",i.ba),i.D.stop()}function Im(i,u){i.Aa=u,be(i,"_lat",u)}function Kx(i,u){Q(i.W,function(c){return c==u})}function xo(i){for(var u=[],c=0;c<i.W.length;c++)u.push(i.W[c](i));return r0(u).then(function(){return i})}function Aa(i){i.b&&!i.P&&(i.P=!0,ql(i.b,i))}function Ub(i,u){En(i,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Gl(u.createdAt,u.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}be(Xn.prototype,"providerId","firebase");function Bb(){}function Tm(i){return Ce().then(function(){if(i.J)throw new k("app-deleted")})}function Sm(i){return Ie(i.providerData,function(u){return u.providerId})}function Am(i,u){u&&(qb(i,u.providerId),i.providerData.push(u))}function qb(i,u){Q(i.providerData,function(c){return c.providerId==u})}function Ci(i,u,c){(u!="uid"||c)&&i.hasOwnProperty(u)&&be(i,u,c)}function zl(i,u){i!=u&&(En(i,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?be(i,"metadata",qx(u.metadata)):be(i,"metadata",new Gl),K(u.providerData,function(c){Am(i,c)}),Ux(i.h,u.h),be(i,"refreshToken",i.h.a),Kl(i.S,u.S.b))}e=Xn.prototype,e.reload=function(){var i=this;return Ht(this,Tm(this).then(function(){return km(i).then(function(){return xo(i)}).then(Bb)}))};function km(i){return i.I().then(function(u){var c=i.isAnonymous;return Gx(i,u).then(function(){return c||Ci(i,"isAnonymous",!1),u})})}e.oc=function(i){return this.I(i).then(function(u){return new Lx(u)})},e.I=function(i){var u=this;return Ht(this,Tm(this).then(function(){return u.h.getToken(i)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=u.Aa&&(Im(u,c.accessToken),u.dispatchEvent(new Vs("tokenChanged"))),Ci(u,"refreshToken",c.refreshToken),c.accessToken}))};function Ur(i,u){u[wr]&&i.Aa!=u[wr]&&(Vb(i.h,u),i.dispatchEvent(new Vs("tokenChanged")),Im(i,u[wr]),Ci(i,"refreshToken",i.h.a))}function Gx(i,u){return $e(i.a,kR,{idToken:u}).then(x(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new k("internal-error");i=i[0],Ub(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var u=zx(i),c=0;c<u.length;c++)Am(this,u[c]);Ci(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Vs("userReloaded",{hd:i}))};function zx(i){return(i=i.providerUserInfo)&&i.length?Ie(i,function(u){return new $x(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(i){return Yd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var u=this,c=null;return Ht(this,i.c(this.a,this.uid).then(function(p){return Ur(u,p),c=ka(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function Wl(i,u){return km(i).then(function(){if(U(Sm(i),u))return xo(i).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(i){return Yd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var u=this,c=null;return Ht(this,Wl(this,i.providerId).then(function(){return u.I()}).then(function(p){return i.b(u.a,p)}).then(function(p){return c=ka(u,p,"link"),$b(u,p)}).then(function(){return c}))},e.Dc=function(i,u){var c=this;return Ht(this,Wl(this,"phone").then(function(){return cm(bm(c),i,u,x(c.rb,c))}))},e.Mc=function(i,u){var c=this;return Ht(this,Ce().then(function(){return cm(bm(c),i,u,x(c.ub,c))}),!0)};function ka(i,u,c){var p=mp(u);return u=ow(u),Vr({user:i,credential:p,additionalUserInfo:u,operationType:c})}function $b(i,u){return Ur(i,u),i.reload().then(function(){return i})}e.Cb=function(i){var u=this;return Ht(this,this.I().then(function(c){return u.a.Cb(c,i)}).then(function(c){return Ur(u,c),u.reload()}))},e.ed=function(i){var u=this;return Ht(this,this.I().then(function(c){return i.b(u.a,c)}).then(function(c){return Ur(u,c),u.reload()}))},e.Db=function(i){var u=this;return Ht(this,this.I().then(function(c){return u.a.Db(c,i)}).then(function(c){return Ur(u,c),u.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Tm(this);var u=this;return Ht(this,this.I().then(function(c){return u.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Ur(u,c),Ci(u,"displayName",c.displayName||null),Ci(u,"photoURL",c.photoUrl||null),K(u.providerData,function(p){p.providerId==="password"&&(be(p,"displayName",u.displayName),be(p,"photoURL",u.photoURL))}),xo(u)}).then(Bb))},e.cd=function(i){var u=this;return Ht(this,km(this).then(function(c){return U(Sm(u),i)?vR(u.a,c,[i]).then(function(p){var g={};return K(p.providerUserInfo||[],function(w){g[w.providerId]=!0}),K(Sm(u),function(w){g[w]||qb(u,w)}),g[ii.PROVIDER_ID]||be(u,"phoneNumber",null),xo(u)}):xo(u).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var i=this;return Ht(this,this.I().then(function(u){return $e(i.a,bR,{idToken:u})}).then(function(){i.dispatchEvent(new Vs("userDeleted"))})).then(function(){for(var u=0;u<i.N.length;u++)i.N[u].cancel("app-deleted");ym(i,null),_m(i,null),wm(i,null),i.N=[],i.J=!0,Em(i),be(i,"refreshToken",null),i.b&&im(i.b,i)})},e.Gb=function(i,u){return!!(i=="linkViaPopup"&&(this.g||null)==u&&this.f||i=="reauthViaPopup"&&(this.g||null)==u&&this.f||i=="linkViaRedirect"&&(this.ga||null)==u||i=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(i,u,c,p){i!="linkViaPopup"&&i!="reauthViaPopup"||p!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="linkViaPopup"&&u==(this.g||null)?x(this.Lb,this):i=="reauthViaPopup"&&u==(this.g||null)?x(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==u?x(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==u?x(this.Mb,this):null},e.Ec=function(i){var u=this;return Hb(this,"linkViaPopup",i,function(){return Wl(u,i.providerId).then(function(){return xo(u)})},!1)},e.Nc=function(i){return Hb(this,"reauthViaPopup",i,function(){return Ce()},!0)};function Hb(i,u,c,p,g){if(!bo())return _t(new k("operation-not-supported-in-this-environment"));if(i.i&&!g)return _t(i.i);var w=cp(c.providerId),E=Eo(i.uid+":::"),C=null;(!ra()||Gd())&&i.s&&c.isOAuthProvider&&(C=wa(i.s,i.l,i.m,u,c,null,E,Pe.SDK_VERSION||null,null,null,i.tenantId,i.u));var z=P0(C,w&&w.va,w&&w.ua);return p=p().then(function(){if(Gb(i),!g)return i.I().then(function(){})}).then(function(){return Tb(i.b,z,u,c,E,!!C,i.tenantId)}).then(function(){return new qe(function(te,Fe){i.na(u,null,new k("cancelled-popup-request"),i.g||null),i.f=te,i.C=Fe,i.g=E,i.c=Ab(i.b,i,u,z,E)})}).then(function(te){return z&&wo(z),te?Vr(te):null}).o(function(te){throw z&&wo(z),te}),Ht(i,p,g)}e.Fc=function(i){var u=this;return Kb(this,"linkViaRedirect",i,function(){return Wl(u,i.providerId)},!1)},e.Oc=function(i){return Kb(this,"reauthViaRedirect",i,function(){return Ce()},!0)};function Kb(i,u,c,p,g){if(!bo())return _t(new k("operation-not-supported-in-this-environment"));if(i.i&&!g)return _t(i.i);var w=null,E=Eo(i.uid+":::");return p=p().then(function(){if(Gb(i),!g)return i.I().then(function(){})}).then(function(){return i.ga=E,xo(i)}).then(function(C){return i.ha&&(C=i.ha,C=C.b.set(Cm,i.w(),C.a)),C}).then(function(){return Sb(i.b,u,c,E,i.tenantId)}).o(function(C){if(w=C,i.ha)return Wb(i.ha);throw w}).then(function(){if(w)throw w}),Ht(i,p,g)}function Gb(i){if(!i.b||!i.P)throw i.b&&!i.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(i,u,c,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(E){return Fp(g.a,{requestUri:i,postBody:p,sessionId:u,idToken:E})}).then(function(E){return w=ka(g,E,"link"),$b(g,E)}).then(function(){return w}),Ht(this,c)},e.Mb=function(i,u,c,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null,E=Ce().then(function(){return xs(Mp(g.a,{requestUri:i,sessionId:u,postBody:p,tenantId:c}),g.uid)}).then(function(C){return w=ka(g,C,"reauthenticate"),Ur(g,C),g.i=null,g.reload()}).then(function(){return w});return Ht(this,E,!0)},e.vb=function(i){var u=this,c=null;return Ht(this,this.I().then(function(p){return c=p,typeof i>"u"||Dr(i)?{}:ml(new pl(i))}).then(function(p){return u.a.vb(c,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Fb=function(i,u){var c=this,p=null;return Ht(this,this.I().then(function(g){return p=g,typeof u>"u"||Dr(u)?{}:ml(new pl(u))}).then(function(g){return c.a.Fb(p,i,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Ht(i,u,c){var p=Wx(i,u,c);return i.N.push(p),p.oa(function(){W(i.N,p)}),p.o(function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=Db(g.w(),bm(i),x(i.jc,i))),w||g})}e.jc=function(i){var u=null,c=this;return i=xs(Ce(i),c.uid).then(function(p){return u=ka(c,p,"reauthenticate"),Ur(c,p),c.i=null,c.reload()}).then(function(){return u}),Ht(this,i,!0)};function Wx(i,u,c){return i.i&&!c?(u.cancel(),_t(i.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Vs("userInvalidated")),i.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&tn(i,this.metadata.w()),K(this.providerData,function(u){i.providerData.push(_N(u))}),tn(i,this.S.w()),i};function zb(i){if(!i.apiKey)return null;var u={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[wr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var p=i.stsTokenManager.expirationTime;p&&(c.expiresIn=(p-Date.now())/1e3)}else return null;var g=new Xn(u,c,i);return i.providerData&&K(i.providerData,function(w){w&&Am(g,Vr(w))}),i.redirectEventId&&(g.ga=i.redirectEventId),g}function Xx(i,u,c,p){var g=new Xn(i,u);return c&&(g.ha=c),p&&Sa(g,p),g.reload().then(function(){return g})}function Yx(i,u,c,p){var g=i.h,w={};return w[wr]=g.b&&g.b.toString(),w.refreshToken=g.a,u=new Xn(u||{apiKey:i.l,authDomain:i.s,appName:i.m},w),c&&(u.ha=c),p&&Sa(u,p),zl(u,i),u}function Qx(i){this.a=i,this.b=Ta()}var Cm={name:"redirectUser",F:"session"};function Wb(i){return Ms(i.b,Cm,i.a)}function Jx(i,u){return i.b.get(Cm,i.a).then(function(c){return c&&u&&(c.authDomain=u),zb(c||{})})}function Om(i){this.a=i,this.b=Ta(),this.c=null,this.f=Zx(this),this.b.addListener(Br("local"),this.a,x(this.g,this))}Om.prototype.g=function(){var i=this,u=Br("local");js(this,function(){return Ce().then(function(){return i.c&&i.c.F!="local"?i.b.get(u,i.a):null}).then(function(c){if(c)return Nm(i,"local").then(function(){i.c=u})})})};function Nm(i,u){var c=[],p;for(p in Ls)Ls[p]!==u&&c.push(Ms(i.b,Br(Ls[p]),i.a));return c.push(Ms(i.b,Rm,i.a)),qO(c)}function Zx(i){var u=Br("local"),c=Br("session"),p=Br("none");return px(i.b,u,i.a).then(function(){return i.b.get(c,i.a)}).then(function(g){return g?c:i.b.get(p,i.a).then(function(w){return w?p:i.b.get(u,i.a).then(function(E){return E?u:i.b.get(Rm,i.a).then(function(C){return C?Br(C):u})})})}).then(function(g){return i.c=g,Nm(i,g.F)}).o(function(){i.c||(i.c=u)})}var Rm={name:"persistence",F:"session"};function Br(i){return{name:"authUser",F:i}}Om.prototype.yb=function(i){var u=null,c=this;return dx(i),js(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(p){return u=p,Nm(c,i)}).then(function(){if(c.c=Br(i),u)return c.b.set(c.c,u,c.a)}):Ce()})};function eP(i){return js(i,function(){return i.b.set(Rm,i.c.F,i.a)})}function Xb(i,u){return js(i,function(){return i.b.set(i.c,u.w(),i.a)})}function Yb(i){return js(i,function(){return Ms(i.b,i.c,i.a)})}function Qb(i,u,c){return js(i,function(){return i.b.get(i.c,i.a).then(function(p){return p&&u&&(p.authDomain=u),p&&c&&(p.emulatorConfig=c),zb(p||{})})})}function js(i,u){return i.f=i.f.then(u,u),i.f}function br(i){if(this.l=!1,be(this,"settings",new Rb),be(this,"app",i),ct(this).options&&ct(this).options.apiKey)i=Pe.SDK_VERSION?Cs(Pe.SDK_VERSION):null,this.a=new _r(ct(this).options&&ct(this).options.apiKey,_e(he),i);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Pe.INTERNAL.createSubscribe(x(this.zc,this)),this.W=void 0,this.ib=Pe.INTERNAL.createSubscribe(x(this.Ac,this)),Us(this,null),this.i=new Om(ct(this).options.apiKey+":"+ct(this).name),this.D=new Qx(ct(this).options.apiKey+":"+ct(this).name),this.$=kt(this,sP(this)),this.h=kt(this,uP(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.qa=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,rP(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,bn.call(this),nP(this),this.J=[],this.R=null}N(br,bn);function Jb(i){Pn.call(this,"languageCodeChanged"),this.h=i}N(Jb,Pn);function Zb(i){Pn.call(this,"emulatorConfigChanged"),this.c=i}N(Zb,Pn);function eE(i){Pn.call(this,"frameworkChanged"),this.f=i}N(eE,Pn),e=br.prototype,e.yb=function(i){return i=this.i.yb(i),kt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,Dw(this.a,this.aa),this.dispatchEvent(new Jb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,u){if(!this.R){if(!/^https?:\/\//.test(i))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,tP(u),this.R={url:i,ec:u},this.settings.jb=!0,Dl(this.a,this.R),this.dispatchEvent(new Zb(this.R))}};function tP(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&fl().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(i){this.J.push(i),Lw(this.a,Pe.SDK_VERSION?Cs(Pe.SDK_VERSION,this.J):null),this.dispatchEvent(new eE(this.J))},e.Ga=function(){return ce(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function nP(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var u=Dn(this.R.url);u=Vr({protocol:u.c,host:u.a,port:u.g,options:Vr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:je(this)&&je(this).w()}};function xm(i){return i.Oa||_t(new k("auth-domain-config-required"))}function rP(i){var u=ct(i).options.authDomain,c=ct(i).options.apiKey;u&&bo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=um(u,c,ct(i).name,i.R),ql(i.b,i),je(i)&&Aa(je(i)),i.m){Aa(i.m);var p=i.m;p.xa(i.la()),ym(p,i),p=i.m,Sa(p,i.J),wm(p,i),p=i.m,gm(p,i.R),_m(p,i),i.m=null}return i.b}}))}e.Gb=function(i,u){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(i,u,c,p){i=="signInViaPopup"&&this.g==p&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==u&&this.f?x(this.ic,this):null},e.ic=function(i,u,c,p){var g=this,w={requestUri:i,postBody:p,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Po(g,Lp(g.a,w))})},e.Xc=function(i){if(!bo())return _t(new k("operation-not-supported-in-this-environment"));var u=this,c=cp(i.providerId),p=Eo(),g=null;(!ra()||Gd())&&ct(this).options.authDomain&&i.isOAuthProvider&&(g=wa(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",i,null,p,Pe.SDK_VERSION||null,null,null,this.T(),this.R));var w=P0(g,c&&c.va,c&&c.ua);return c=xm(this).then(function(E){return Tb(E,w,"signInViaPopup",i,p,!!g,u.T())}).then(function(){return new qe(function(E,C){u.na("signInViaPopup",null,new k("cancelled-popup-request"),u.g),u.f=E,u.C=C,u.g=p,u.c=Ab(u.b,u,"signInViaPopup",w,p)})}).then(function(E){return w&&wo(w),E?Vr(E):null}).o(function(E){throw w&&wo(w),E}),kt(this,c)},e.Yc=function(i){if(!bo())return _t(new k("operation-not-supported-in-this-environment"));var u=this,c=xm(this).then(function(){return eP(u.i)}).then(function(){return Sb(u.b,"signInViaRedirect",i,void 0,u.T())});return kt(this,c)};function tE(i){if(!bo())return _t(new k("operation-not-supported-in-this-environment"));var u=xm(i).then(function(){return i.b.ra()}).then(function(c){return c?Vr(c):null});return kt(i,u)}e.ra=function(){var i=this;return tE(this).then(function(u){return i.b&&Hl(i.b.b),u}).o(function(u){throw i.b&&Hl(i.b.b),u})},e.dd=function(i){if(!i)return _t(new k("null-user"));if(this.S!=i.tenantId)return _t(new k("tenant-id-mismatch"));var u=this,c={};c.apiKey=ct(this).options.apiKey,c.authDomain=ct(this).options.authDomain,c.appName=ct(this).name;var p=Yx(i,c,u.D,u.Ga());return kt(this,this.h.then(function(){if(ct(u).options.apiKey!=i.l)return p.reload()}).then(function(){return je(u)&&i.uid==je(u).uid?(zl(je(u),i),u.da(i)):(Us(u,p),Aa(p),u.da(p))}).then(function(){Ca(u)}))};function iP(i,u){var c={};return c.apiKey=ct(i).options.apiKey,c.authDomain=ct(i).options.authDomain,c.appName=ct(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return Xx(c,u,i.D,i.Ga())}).then(function(p){return je(i)&&p.uid==je(i).uid?(zl(je(i),p),i.da(p)):(Us(i,p),Aa(p),i.da(p))}).then(function(){Ca(i)})}function Us(i,u){je(i)&&(Kx(je(i),i.Ba),zn(je(i),"tokenChanged",i.qa),zn(je(i),"userDeleted",i.za),zn(je(i),"userInvalidated",i.Aa),Em(je(i))),u&&(u.W.push(i.Ba),ur(u,"tokenChanged",i.qa),ur(u,"userDeleted",i.za),ur(u,"userInvalidated",i.Aa),0<i.u&&jb(u)),be(i,"currentUser",u),u&&(u.xa(i.la()),ym(u,i),Sa(u,i.J),wm(u,i),gm(u,i.R),_m(u,i))}e.Bb=function(){var i=this,u=this.h.then(function(){return i.b&&Hl(i.b.b),je(i)?(Us(i,null),Yb(i.i).then(function(){Ca(i)})):Ce()});return kt(this,u)};function oP(i){var u=Jx(i.D,ct(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),Wb(i.D)});return kt(i,u)}function sP(i){var u=ct(i).options.authDomain,c=oP(i).then(function(){return Qb(i.i,u,i.R)}).then(function(p){return p?(p.ha=i.D,i.m&&(i.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return Xb(i.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:Yb(i.i)})):null}).then(function(p){Us(i,p||null)});return kt(i,c)}function uP(i){return i.$.then(function(){return tE(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var u=i.i;u.b.addListener(Br("local"),u.a,i.ja)}})}e.Zc=function(){var i=this;return Qb(this.i,ct(this).options.authDomain).then(function(u){if(!i.l){var c;if(c=je(i)&&u){c=je(i).uid;var p=u.uid;c=c==null||c===""||p===void 0||p===null||p===""?!1:c==p}if(c)return zl(je(i),u),je(i).I();(je(i)||u)&&(Us(i,u),u&&(Aa(u),u.ha=i.D),i.b&&ql(i.b,i),Ca(i))}})},e.da=function(i){return Xb(this.i,i)},e.mc=function(){Ca(this),this.da(je(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Po(i,u){var c=null,p=null;return kt(i,u.then(function(g){return c=mp(g),p=ow(g),iP(i,g)},function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=Db(g.w(),i,x(i.kc,i))),w||g}).then(function(){return Vr({user:je(i),credential:c,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(i){var u=this;return this.h.then(function(){return Po(u,Ce(i))})},e.zc=function(i){var u=this;this.addAuthTokenListener(function(){i.next(je(u))})},e.Ac=function(i){var u=this;aP(this,function(){i.next(je(u))})},e.Ic=function(i,u,c){var p=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(je(p)):typeof i.next=="function"&&i.next(je(p))}),this.Pa(i,u,c)},e.Hc=function(i,u,c){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof i=="function"?i(je(p)):typeof i.next=="function"&&i.next(je(p))}),this.ib(i,u,c)},e.nc=function(i){var u=this,c=this.h.then(function(){return je(u)?je(u).I(i).then(function(p){return{accessToken:p}}):null});return kt(this,c)},e.Tc=function(i){var u=this;return this.h.then(function(){return Po(u,$e(u.a,qR,{token:i}))}).then(function(c){var p=c.user;return Ci(p,"isAnonymous",!1),u.da(p),c})},e.Uc=function(i,u){var c=this;return this.h.then(function(){return Po(c,$e(c.a,Hw,{email:i,password:u}))})},e.dc=function(i,u){var c=this;return this.h.then(function(){return Po(c,$e(c.a,_R,{email:i,password:u}))})},e.ab=function(i){var u=this;return this.h.then(function(){return Po(u,i.ka(u.a))})},e.Sc=function(i){return Yd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var u=je(i);if(u&&u.isAnonymous){var c=Vr({providerId:null,isNewUser:!1});return Vr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Po(i,i.a.Ab()).then(function(p){var g=p.user;return Ci(g,"isAnonymous",!0),i.da(g),p})})};function ct(i){return i.app}function je(i){return i.currentUser}e.getUid=function(){return je(this)&&je(this).uid||null};function Xl(i){return je(i)&&je(i)._lat||null}function Ca(i){if(i.ba){for(var u=0;u<i.s.length;u++)i.s[u]&&i.s[u](Xl(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),u=0;u<i.N.length;u++)i.N[u]&&i.N[u](Xl(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&je(this)&&jb(je(this))},e.Pc=function(i){var u=this;K(this.s,function(c){c==i&&u.u--}),0>this.u&&(this.u=0),this.u==0&&je(this)&&Em(je(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var u=this;this.s.push(i),kt(this,this.h.then(function(){u.l||U(u.s,i)&&i(Xl(u))}))},e.removeAuthTokenListener=function(i){Q(this.s,function(u){return u==i})};function aP(i,u){i.N.push(u),kt(i,i.h.then(function(){!i.l&&U(i.N,u)&&i.W!==i.getUid()&&(i.W=i.getUid(),u(Xl(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Br("local"),i.a,this.ja)),this.b&&(im(this.b,this),Hl(this.b.b)),Promise.resolve()};function kt(i,u){return i.P.push(u),u.oa(function(){W(i.P,u)}),u}e.hc=function(i){return kt(this,lR(this.a,i))},e.Bc=function(i){return!!pp(i)},e.xb=function(i,u){var c=this;return kt(this,Ce().then(function(){var p=new pl(u);if(!p.c)throw new k("argument-error",up+" must be true when sending sign in link to email");return ml(p)}).then(function(p){return c.a.xb(i,p)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(u){return u.data.email})},e.ob=function(i,u){return kt(this,this.a.ob(i,u).then(function(){}))},e.Sa=function(i){return kt(this,this.a.Sa(i).then(function(u){return new bN(u)}))},e.kb=function(i){return kt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,u){var c=this;return kt(this,Ce().then(function(){return typeof u>"u"||Dr(u)?{}:ml(new pl(u))}).then(function(p){return c.a.wb(i,p)}).then(function(){}))},e.Wc=function(i,u){return kt(this,cm(this,i,u,x(this.ab,this)))},e.Vc=function(i,u){var c=this;return kt(this,Ce().then(function(){var p=u||na(),g=gw(i,p);if(p=pp(p),!p)throw new k("argument-error","Invalid email link!");if(p.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(g)}))};function Oa(){}Oa.prototype.render=function(){},Oa.prototype.reset=function(){},Oa.prototype.getResponse=function(){},Oa.prototype.execute=function(){};function Bs(){this.a={},this.b=1e12}var Pm=null;Bs.prototype.render=function(i,u){return this.a[this.b.toString()]=new Yl(i,u),this.b++},Bs.prototype.reset=function(i){var u=Dm(this,i);i=nE(i),u&&i&&(u.delete(),delete this.a[i])},Bs.prototype.getResponse=function(i){return(i=Dm(this,i))?i.getResponse():null},Bs.prototype.execute=function(i){(i=Dm(this,i))&&i.execute()};function Dm(i,u){return(u=nE(u))&&i.a[u]||null}function nE(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function Yl(i,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Xu(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():ur(this.f,"click",this.i)}Yl.prototype.getResponse=function(){return Lm(this),this.b},Yl.prototype.execute=function(){Lm(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=mN();var u=i.c.callback,c=i.c["expired-callback"];if(u)try{u(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},Yl.prototype.delete=function(){Lm(this),this.g=!0,clearTimeout(this.a),this.a=null,zn(this.f,"click",this.i)};function Lm(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function Fm(){}be(Fm,"FACTOR_ID","phone");function Mm(){}Mm.prototype.g=function(){return Pm||(Pm=new Bs),Ce(Pm)},Mm.prototype.c=function(){};var Vm=null;function jm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cP=new Lr(Jc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),lP=new Si(3e4,6e4);jm.prototype.g=function(i){var u=this;return new qe(function(c,p){var g=setTimeout(function(){p(new k("network-request-failed"))},lP.get());if(!f.grecaptcha||i!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=i;var E=f.grecaptcha.render;f.grecaptcha.render=function(C,z){return C=E(C,z),u.b++,C},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),p(new k("internal-error"));delete f[u.a]};var w=wd(cP,{onload:u.a,hl:i||""});Ce(Cp(w)).o(function(){clearTimeout(g),p(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},jm.prototype.c=function(){this.b--};var Um=null;function Bm(i,u,c,p,g,w,E){if(be(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(Vm||(Vm=new Mm),E=Vm):(Um||(Um=new jm),E=Um),this.m=E,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[oE])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[fP]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Xu(u)||!this.i&&Xu(u).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new _r(i,w||null,g||null),this.u=p||function(){return null};var C=this;this.l=[];var z=this.a[rE];this.a[rE]=function(Fe){if(sE(C,Fe),typeof z=="function")z(Fe);else if(typeof z=="string"){var st=wt(z,f);typeof st=="function"&&st(Fe)}};var te=this.a[iE];this.a[iE]=function(){if(sE(C,null),typeof te=="function")te();else if(typeof te=="string"){var Fe=wt(te,f);typeof Fe=="function"&&Fe()}}}var rE="callback",iE="expired-callback",oE="sitekey",fP="size";function sE(i,u){for(var c=0;c<i.l.length;c++)try{i.l[c](u)}catch{}}function hP(i,u){Q(i.l,function(c){return c==u})}function qm(i,u){return i.h.push(u),u.oa(function(){W(i.h,u)}),u}e=Bm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=qm(this,Ce().then(function(){if(hl()&&!gr())return fl();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(u){return i.g=u,$e(i.s,PR,{})}).then(function(u){i.a[oE]=u.recaptchaSiteKey}).o(function(u){throw i.f=null,u}))},e.render=function(){Ql(this);var i=this;return qm(this,this.Ia().then(function(){if(i.c===null){var u=i.v;if(!i.i){var c=Xu(u);u=VO("DIV"),c.appendChild(u)}i.c=i.g.render(u,i.a)}return i.c}))},e.verify=function(){Ql(this);var i=this;return qm(this,this.render().then(function(u){return new qe(function(c){var p=i.g.getResponse(u);if(p)c(p);else{var g=function(w){w&&(hP(i,g),c(w))};i.l.push(g),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Ql(this),this.c!==null&&this.g.reset(this.c)};function Ql(i){if(i.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ql(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Xu(this.v);for(var u;u=i.firstChild;)i.removeChild(u)}};function $m(i,u,c){var p=!1;try{this.b=c||Pe.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var g=this,w=null;try{w=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Pe.SDK_VERSION?Cs(Pe.SDK_VERSION,w):null,Bm.call(this,c,i,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},w,_e(he),p)}N($m,Bm);function uE(i,u,c,p){e:{c=Array.prototype.slice.call(c);for(var g=0,w=!1,E=0;E<u.length;E++)if(u[E].optional)w=!0;else{if(w)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(w=u.length,c.length<g||w<c.length)p="Expected "+(g==w?g==1?"1 argument":g+" arguments":g+"-"+w+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(w=u[g].optional&&c[g]===void 0,!u[g].M(c[g])&&!w){if(u=u[g],0>g||g>=aE.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=aE[g],p=(p?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new k("argument-error",i+" failed: "+p)}var aE="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function we(i,u){return{name:i||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function Hm(i,u){return{name:i||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Mt(i,u){return{name:i||"",K:"a valid object",optional:!!u,M:S}}function qs(i,u){return{name:i||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function qr(i,u){return{name:i||"",K:"null",optional:!!u,M:function(c){return c===null}}}function dP(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function pP(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof br)}}}function mP(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Pe.app.App)}}}function Oi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!i||u.providerId===i;return!(!u.ka||!c)}}}function cE(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function $s(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Km(i,u){return S(i)&&typeof i.type=="string"&&i.type===u&&typeof i.Ha=="function"}function lE(i){return S(i)&&typeof i.uid=="string"}function Jl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Rt(i,u,c,p){return{name:c||"",K:i.K+" or "+u.K,optional:!!p,M:function(g){return i.M(g)||u.M(g)}}}function It(i,u){for(var c in u){var p=u[c].name;i[p]=hE(p,i[c],u[c].j)}}function fE(i,u){for(var c in u){var p=u[c].name;p!==c&&Object.defineProperty(i,p,{get:V(function(g){return this[g]},c),set:V(function(g,w,E,C){uE(g,[E],[C],!0),this[w]=C},p,c,u[c].lb),enumerable:!0})}}function xt(i,u,c,p){i[u]=hE(u,c,p)}function hE(i,u,c){function p(){var E=Array.prototype.slice.call(arguments);return uE(g,c,E),u.apply(this,E)}if(!c)return u;var g=vP(i),w;for(w in u)p[w]=u[w];for(w in u.prototype)p.prototype[w]=u.prototype[w];return p}function vP(i){return i=i.split("."),i[i.length-1]}It(br.prototype,{kb:{name:"applyActionCode",j:[we("code")]},Sa:{name:"checkActionCode",j:[we("code")]},ob:{name:"confirmPasswordReset",j:[we("code"),we("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[we("email"),we("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[we("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[we("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Rt(Mt(),qs(),"nextOrObserver"),qs("opt_error",!0),qs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Rt(Mt(),qs(),"nextOrObserver"),qs("opt_error",!0),qs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[we("email"),Rt(Mt("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[we("email"),Mt("actionCodeSettings")]},yb:{name:"setPersistence",j:[we("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Oi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Oi()]},Tc:{name:"signInWithCustomToken",j:[we("token")]},Uc:{name:"signInWithEmailAndPassword",j:[we("email"),we("password")]},Vc:{name:"signInWithEmailLink",j:[we("email"),we("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[we("phoneNumber"),Jl()]},Xc:{name:"signInWithPopup",j:[$s()]},Yc:{name:"signInWithRedirect",j:[$s()]},dd:{name:"updateCurrentUser",j:[Rt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(u){return!!(u&&u instanceof Xn)}}}(),qr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[we(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[we("url"),Mt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[we("code")]}}),fE(br.prototype,{lc:{name:"languageCode",lb:Rt(we(),qr(),"languageCode")},ti:{name:"tenantId",lb:Rt(we(),qr(),"tenantId")}}),br.Persistence=Ls,br.Persistence.LOCAL="local",br.Persistence.SESSION="session",br.Persistence.NONE="none",It(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Oi()]},rb:{name:"linkWithCredential",j:[Oi()]},Dc:{name:"linkWithPhoneNumber",j:[we("phoneNumber"),Jl()]},Ec:{name:"linkWithPopup",j:[$s()]},Fc:{name:"linkWithRedirect",j:[$s()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Oi()]},ub:{name:"reauthenticateWithCredential",j:[Oi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[we("phoneNumber"),Jl()]},Nc:{name:"reauthenticateWithPopup",j:[$s()]},Oc:{name:"reauthenticateWithRedirect",j:[$s()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Rt(Mt("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[we(null,!0)]},cd:{name:"unlink",j:[we("provider")]},Cb:{name:"updateEmail",j:[we("email")]},Db:{name:"updatePassword",j:[we("password")]},ed:{name:"updatePhoneNumber",j:[Oi("phone")]},Eb:{name:"updateProfile",j:[Mt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[we("email"),Rt(Mt("opt_actionCodeSettings",!0),qr(null,!0),"opt_actionCodeSettings",!0)]}}),It(Bs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),It(Oa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),It(qe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),fE(Rb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Hm("appVerificationDisabledForTesting")}}),It(am.prototype,{confirm:{name:"confirm",j:[we("verificationCode")]}}),xt(Rs,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var u,c=[jN,UN,BN,VN],p=0;p<c.length;p++)if(u=c[p](i))return u;return null},[Rt(we(),Mt(),"json")]),xt(cr,"credential",function(i,u){return new Ai(i,u)},[we("email"),we("password")]),It(Ai.prototype,{w:{name:"toJSON",j:[we(null,!0)]}}),It(So.prototype,{Ca:{name:"addScope",j:[we("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),xt(So,"credential",dw,[Rt(we(),Mt(),"token")]),xt(cr,"credentialWithLink",gw,[we("email"),we("emailLink")]),It(Ao.prototype,{Ca:{name:"addScope",j:[we("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),xt(Ao,"credential",pw,[Rt(we(),Mt(),"token")]),It(ko.prototype,{Ca:{name:"addScope",j:[we("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),xt(ko,"credential",mw,[Rt(we(),Rt(Mt(),qr()),"idToken"),Rt(we(),qr(),"accessToken",!0)]),It(Ps.prototype,{Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),xt(Ps,"credential",vw,[Rt(we(),Mt(),"token"),we("secret",!0)]),It(Wn.prototype,{Ca:{name:"addScope",j:[we("scope")]},credential:{name:"credential",j:[Rt(we(),Rt(Mt(),qr()),"optionsOrIdToken"),Rt(we(),qr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),It(ri.prototype,{w:{name:"toJSON",j:[we(null,!0)]}}),It(Io.prototype,{w:{name:"toJSON",j:[we(null,!0)]}}),xt(ii,"credential",yw,[we("verificationId"),we("verificationCode")]),It(ii.prototype,{gb:{name:"verifyPhoneNumber",j:[Rt(we(),function(i,u){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Km(c.session,ca)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Km(c.session,wl)&&lE(c.multiFactorHint):c.session&&c.multiFactorUid?Km(c.session,wl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Jl()]}}),It(ki.prototype,{w:{name:"toJSON",j:[we(null,!0)]}}),It(k.prototype,{toJSON:{name:"toJSON",j:[we(null,!0)]}}),It(fa.prototype,{toJSON:{name:"toJSON",j:[we(null,!0)]}}),It(yp.prototype,{toJSON:{name:"toJSON",j:[we(null,!0)]}}),It(fm.prototype,{toJSON:{name:"toJSON",j:[we(null,!0)]}}),It(lm.prototype,{Rc:{name:"resolveSignIn",j:[cE()]}}),It(dm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[cE(),we("displayName",!0)]},bd:{name:"unenroll",j:[Rt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:lE},we(),"multiFactorInfoIdentifier")]}}),It($m.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xt(sp,"parseLink",X0,[we("link")]),xt(Fm,"assertion",function(i){return new Fb(i)},[Oi("phone")]),function(){if(typeof Pe<"u"&&Pe.INTERNAL&&Pe.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:op,VERIFY_AND_CHANGE_EMAIL:ua,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:br,AuthCredential:Rs,Error:k};xt(i,"EmailAuthProvider",cr,[]),xt(i,"FacebookAuthProvider",So,[]),xt(i,"GithubAuthProvider",Ao,[]),xt(i,"GoogleAuthProvider",ko,[]),xt(i,"TwitterAuthProvider",Ps,[]),xt(i,"OAuthProvider",Wn,[we("providerId")]),xt(i,"SAMLAuthProvider",hw,[we("providerId")]),xt(i,"PhoneAuthProvider",ii,[pP()]),xt(i,"RecaptchaVerifier",$m,[Rt(we(),dP(),"recaptchaContainer"),Mt("recaptchaParameters",!0),mP()]),xt(i,"ActionCodeURL",sp,[]),xt(i,"PhoneMultiFactorGenerator",Fm,[]),Pe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new br(u)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),Pe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:x(u.getUid,u),getToken:x(u.nc,u),addAuthTokenListener:x(u.cc,u),removeAuthTokenListener:x(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Pe.registerVersion("@firebase/auth","0.16.8"),Pe.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $v=function(e,t){return $v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},$v(e,t)};function ZF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$v(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function A1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var eM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye,ry=ry||{},Me=eM||self;function Bf(){}function Hv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Oc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function tM(e){return Object.prototype.hasOwnProperty.call(e,nv)&&e[nv]||(e[nv]=++nM)}var nv="closure_uid_"+(1e9*Math.random()>>>0),nM=0;function rM(e,t,n){return e.call.apply(e.bind,arguments)}function iM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function cn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cn=rM:cn=iM,cn.apply(null,arguments)}function uf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function hn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(r,a)}}function uo(){this.s=this.s,this.o=this.o}var oM=0;uo.prototype.s=!1;uo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),oM!=0)&&tM(this)};uo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var k1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},C1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function sM(e){e:{for(var t=QM,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function eI(e){return Array.prototype.concat.apply([],arguments)}function iy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function qf(e){return/^[\s\xa0]*$/.test(e)}var tI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return e.indexOf(t)!=-1}function rv(e,t){return e<t?-1:e>t?1:0}var Cn;e:{var nI=Me.navigator;if(nI){var rI=nI.userAgent;if(rI){Cn=rI;break e}}Cn=""}function oy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function O1(e){var t={};for(var n in e)t[n]=e[n];return t}var iI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N1(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<iI.length;s++)n=iI[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sy(e){return sy[" "](e),e}sy[" "]=Bf;function uM(e){var t=lM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var aM=kn(Cn,"Opera"),du=kn(Cn,"Trident")||kn(Cn,"MSIE"),R1=kn(Cn,"Edge"),Kv=R1||du,x1=kn(Cn,"Gecko")&&!(kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge"))&&!(kn(Cn,"Trident")||kn(Cn,"MSIE"))&&!kn(Cn,"Edge"),cM=kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge");function P1(){var e=Me.document;return e?e.documentMode:void 0}var $f;e:{var iv="",ov=function(){var e=Cn;if(x1)return/rv:([^\);]+)(\)|;)/.exec(e);if(R1)return/Edge\/([\d\.]+)/.exec(e);if(du)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(cM)return/WebKit\/(\S+)/.exec(e);if(aM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ov&&(iv=ov?ov[1]:""),du){var sv=P1();if(sv!=null&&sv>parseFloat(iv)){$f=String(sv);break e}}$f=iv}var lM={};function fM(){return uM(function(){for(var e=0,t=tI(String($f)).split("."),n=tI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=rv(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||rv(s[2].length==0,a[2].length==0)||rv(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var Gv;if(Me.document&&du){var oI=P1();Gv=oI||parseInt($f,10)||void 0}else Gv=void 0;var hM=Gv,dM=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Me.addEventListener("test",Bf,t),Me.removeEventListener("test",Bf,t)}catch{}return e}();function yn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};function ac(e,t){if(yn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(x1){e:{try{sy(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:pM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ac.Z.h.call(this)}}hn(ac,yn);var pM={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nc="closure_listenable_"+(1e6*Math.random()|0),mM=0;function vM(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++mM,this.ca=this.fa=!1}function xh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ph(e){this.src=e,this.g={},this.h=0}Ph.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Wv(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new vM(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function zv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=k1(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(xh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Wv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var uy="closure_lm_"+(1e6*Math.random()|0),uv={};function D1(e,t,n,r,o){if(r&&r.once)return F1(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)D1(e,t[s],n,r,o);return null}return n=ly(n),e&&e[Nc]?e.N(t,n,Oc(r)?!!r.capture:!!r,o):L1(e,t,n,!1,r,o)}function L1(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var a=Oc(o)?!!o.capture:!!o,l=cy(e);if(l||(e[uy]=l=new Ph(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=gM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)dM||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(V1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gM(){function e(n){return t.call(e.src,e.listener,n)}var t=yM;return e}function F1(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)F1(e,t[s],n,r,o);return null}return n=ly(n),e&&e[Nc]?e.O(t,n,Oc(r)?!!r.capture:!!r,o):L1(e,t,n,!0,r,o)}function M1(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)M1(e,t[s],n,r,o);else r=Oc(r)?!!r.capture:!!r,n=ly(n),e&&e[Nc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Wv(s,n,r,o),-1<n&&(xh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=cy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wv(t,n,r,o)),(n=-1<e?t[e]:null)&&ay(n))}function ay(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Nc])zv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(V1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=cy(t))?(zv(n,e),n.h==0&&(n.src=null,t[uy]=null)):xh(e)}}}function V1(e){return e in uv?uv[e]:uv[e]="on"+e}function yM(e,t){if(e.ca)e=!0;else{t=new ac(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ay(e),e=n.call(r,t)}return e}function cy(e){return e=e[uy],e instanceof Ph?e:null}var av="__closure_events_fn_"+(1e9*Math.random()>>>0);function ly(e){return typeof e=="function"?e:(e[av]||(e[av]=function(t){return e.handleEvent(t)}),e[av])}function Zt(){uo.call(this),this.i=new Ph(this),this.P=this,this.I=null}hn(Zt,uo);Zt.prototype[Nc]=!0;Zt.prototype.removeEventListener=function(e,t,n,r){M1(this,e,t,n,r)};function ln(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new yn(t,e);else if(t instanceof yn)t.target=t.target||e;else{var o=t;t=new yn(r,e),N1(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=af(a,r,!0,t)&&o}if(a=t.g=e,o=af(a,r,!0,t)&&o,o=af(a,r,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=af(a,r,!1,t)&&o}Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)xh(n[r]);delete e.g[t],e.h--}}this.I=null};Zt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Zt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function af(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&zv(e.i,a),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var fy=Me.JSON.stringify;function _M(){var e=U1,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=j1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),j1=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new bM},function(e){return e.reset()}),bM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function EM(e){Me.setTimeout(function(){throw e},0)}function hy(e,t){Xv||IM(),Yv||(Xv(),Yv=!0),U1.add(e,t)}var Xv;function IM(){var e=Me.Promise.resolve(void 0);Xv=function(){e.then(TM)}}var Yv=!1,U1=new wM;function TM(){for(var e;e=_M();){try{e.h.call(e.g)}catch(n){EM(n)}var t=j1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Yv=!1}function Dh(e,t){Zt.call(this),this.h=e||1,this.g=t||Me,this.j=cn(this.kb,this),this.l=Date.now()}hn(Dh,Zt);ye=Dh.prototype;ye.da=!1;ye.S=null;ye.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ln(this,"tick"),this.da&&(dy(this),this.start()))}};ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ye.M=function(){Dh.Z.M.call(this),dy(this),delete this.g};function py(e,t,n){if(typeof e=="function")n&&(e=cn(e,n));else if(e&&typeof e.handleEvent=="function")e=cn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Me.setTimeout(e,t||0)}function B1(e){e.g=py(function(){e.g=null,e.i&&(e.i=!1,B1(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var SM=function(e){ZF(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:B1(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(uo);function cc(e){uo.call(this),this.h=e,this.g={}}hn(cc,uo);var sI=[];function q1(e,t,n,r){Array.isArray(n)||(n&&(sI[0]=n.toString()),n=sI);for(var o=0;o<n.length;o++){var s=D1(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function $1(e){oy(e.g,function(t,n){this.g.hasOwnProperty(n)&&ay(t)},e),e.g={}}cc.prototype.M=function(){cc.Z.M.call(this),$1(this)};cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lh(){this.g=!0}Lh.prototype.Aa=function(){this.g=!1};function AM(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var v=d[0];d=d[1];var h=v.split("_");a=2<=h.length&&h[1]=="type"?a+(v+"="+d+"&"):a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function kM(e,t,n,r,o,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Zs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+OM(e,n)+(r?" "+r:"")})}function CM(e,t){e.info(function(){return"TIMEOUT: "+t})}Lh.prototype.info=function(){};function OM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return fy(n)}catch{return t}}var ds={},uI=null;function Fh(){return uI=uI||new Zt}ds.Ma="serverreachability";function H1(e){yn.call(this,ds.Ma,e)}hn(H1,yn);function lc(e){var t=Fh();ln(t,new H1(t))}ds.STAT_EVENT="statevent";function K1(e,t){yn.call(this,ds.STAT_EVENT,e),this.stat=t}hn(K1,yn);function Nn(e){var t=Fh();ln(t,new K1(t,e))}ds.Na="timingevent";function G1(e,t){yn.call(this,ds.Na,e),this.size=t}hn(G1,yn);function Rc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){e()},t)}var Mh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},z1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function my(){}my.prototype.h=null;function aI(e){return e.h||(e.h=e.i())}function W1(){}var xc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vy(){yn.call(this,"d")}hn(vy,yn);function gy(){yn.call(this,"c")}hn(gy,yn);var Qv;function Vh(){}hn(Vh,my);Vh.prototype.g=function(){return new XMLHttpRequest};Vh.prototype.i=function(){return{}};Qv=new Vh;function Pc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new cc(this),this.P=NM,e=Kv?125:void 0,this.W=new Dh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new X1}function X1(){this.i=null,this.g="",this.h=!1}var NM=45e3,Jv={},Hf={};ye=Pc.prototype;ye.setTimeout=function(e){this.P=e};function Zv(e,t,n){e.K=1,e.v=Uh(vi(t)),e.s=n,e.U=!0,Y1(e,null)}function Y1(e,t){e.F=Date.now(),Dc(e),e.A=vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rA(n.h,"t",r),e.C=0,n=e.l.H,e.h=new X1,e.g=IA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new SM(cn(e.Ia,e,e.g),e.O)),q1(e.V,e.g,"readystatechange",e.gb),t=e.H?O1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),lc(),AM(e.j,e.u,e.A,e.m,e.X,e.s)}ye.gb=function(e){e=e.target;var t=this.L;t&&ci(e)==3?t.l():this.Ia(e)};ye.Ia=function(e){try{if(e==this.g)e:{var t=ci(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Kv||this.g&&(this.h.h||this.g.ga()||hI(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?lc(3):lc(2)),jh(this);var o=this.g.ba();this.N=o;t:if(Q1(this)){var s=hI(this.g);e="";var a=s.length,l=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Go(this),qa(this);var f="";break t}this.h.i=new Me.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,kM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,v=this.g;if((d=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qf(d)){var h=d;break t}}h=null}if(o=h)Zs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,eg(this,o);else{this.i=!1,this.o=3,Nn(12),Go(this),qa(this);break e}}this.U?(J1(this,t,f),Kv&&this.i&&t==3&&(q1(this.V,this.W,"tick",this.fb),this.W.start())):(Zs(this.j,this.m,f,null),eg(this,f)),t==4&&Go(this),this.i&&!this.I&&(t==4?_A(this.l,this):(this.i=!1,Dc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),Go(this),qa(this)}}}catch{}finally{}};function Q1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function J1(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=RM(e,n),o==Hf){t==4&&(e.o=4,Nn(14),r=!1),Zs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Jv){e.o=4,Nn(15),Zs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Zs(e.j,e.m,o,null),eg(e,o);Q1(e)&&o!=Hf&&o!=Jv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Nn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ay(t),t.L=!0,Nn(11))):(Zs(e.j,e.m,n,"[Invalid Chunked Response]"),Go(e),qa(e))}ye.fb=function(){if(this.g){var e=ci(this.g),t=this.g.ga();this.C<t.length&&(jh(this),J1(this,e,t),this.i&&e!=4&&Dc(this))}};function RM(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Hf:(n=Number(t.substring(n,r)),isNaN(n)?Jv:(r+=1,r+n>t.length?Hf:(t=t.substr(r,n),e.C=r+n,t)))}ye.cancel=function(){this.I=!0,Go(this)};function Dc(e){e.Y=Date.now()+e.P,Z1(e,e.P)}function Z1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Rc(cn(e.eb,e),t)}function jh(e){e.B&&(Me.clearTimeout(e.B),e.B=null)}ye.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(CM(this.j,this.A),this.K!=2&&(lc(),Nn(17)),Go(this),this.o=2,qa(this)):Z1(this,this.Y-e)};function qa(e){e.l.G==0||e.I||_A(e.l,e)}function Go(e){jh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,dy(e.W),$1(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function eg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||tg(n.i,e))){if(n.I=e.N,!e.J&&tg(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Wf(n),$h(n);else break e;Sy(n),Nn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Rc(cn(n.ab,n),6e3));if(1>=sA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else zo(n,11)}else if((e.J||n.g==e)&&Wf(n),!qf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var h=r.i;!h.g&&(kn(v,"spdy")||kn(v,"quic")||kn(v,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(wy(h,h.h),h.h=null))}if(r.D){var m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Et(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=EA(r,r.H?r.la:null,r.W),y.J){uA(r.i,y);var _=y,b=r.K;b&&_.setTimeout(b),_.B&&(jh(_),Dc(_)),r.g=y}else gA(r);0<n.l.length&&Hh(n)}else s[0]!="stop"&&s[0]!="close"||zo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?zo(n,7):Ty(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}lc(4)}catch{}}function xM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Hv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function yy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Hv(e)||typeof e=="string")C1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Hv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=xM(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function ju(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ju)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ye=ju.prototype;ye.R=function(){_y(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ye.T=function(){return _y(this),this.g.concat()};function _y(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];is(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],is(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}ye.get=function(e,t){return is(this.h,e)?this.h[e]:t};ye.set=function(e,t){is(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ye.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function is(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var eA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function PM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function os(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof os){this.g=t!==void 0?t:e.g,Kf(this,e.j),this.s=e.s,Gf(this,e.i),zf(this,e.m),this.l=e.l,t=e.h;var n=new fc;n.i=t.i,t.g&&(n.g=new ju(t.g),n.h=t.h),cI(this,n),this.o=e.o}else e&&(n=String(e).match(eA))?(this.g=!!t,Kf(this,n[1]||"",!0),this.s=$a(n[2]||""),Gf(this,n[3]||"",!0),zf(this,n[4]),this.l=$a(n[5]||"",!0),cI(this,n[6]||"",!0),this.o=$a(n[7]||"")):(this.g=!!t,this.h=new fc(null,this.g))}os.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ma(t,lI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ma(t,lI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Ma(n,n.charAt(0)=="/"?VM:MM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ma(n,UM)),e.join("")};function vi(e){return new os(e)}function Kf(e,t,n){e.j=n?$a(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gf(e,t,n){e.i=n?$a(t,!0):t}function zf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cI(e,t,n){t instanceof fc?(e.h=t,BM(e.h,e.g)):(n||(t=Ma(t,jM)),e.h=new fc(t,e.g))}function Et(e,t,n){e.h.set(t,n)}function Uh(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function DM(e){return e instanceof os?vi(e):new os(e,void 0)}function LM(e,t,n,r){var o=new os(null,void 0);return e&&Kf(o,e),t&&Gf(o,t),n&&zf(o,n),r&&(o.l=r),o}function $a(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ma(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,FM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function FM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var lI=/[#\/\?@]/g,MM=/[#\?:]/g,VM=/[#\?]/g,jM=/[#\?@]/g,UM=/#/g;function fc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ao(e){e.g||(e.g=new ju,e.h=0,e.i&&PM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ye=fc.prototype;ye.add=function(e,t){ao(this),this.i=null,e=Uu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function tA(e,t){ao(e),t=Uu(e,t),is(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,is(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&_y(e)))}function nA(e,t){return ao(e),t=Uu(e,t),is(e.g.h,t)}ye.forEach=function(e,t){ao(this),this.g.forEach(function(n,r){C1(n,function(o){e.call(t,o,r,this)},this)},this)};ye.T=function(){ao(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};ye.R=function(e){ao(this);var t=[];if(typeof e=="string")nA(this,e)&&(t=eI(t,this.g.get(Uu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=eI(t,e[n])}return t};ye.set=function(e,t){return ao(this),this.i=null,e=Uu(this,e),nA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ye.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function rA(e,t,n){tA(e,t),0<n.length&&(e.i=null,e.g.set(Uu(e,t),iy(n)),e.h+=n.length)}ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=o;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Uu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function BM(e,t){t&&!e.j&&(ao(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(tA(this,r),rA(this,o,n))},e)),e.j=t}var qM=function(){function e(t,n){this.h=t,this.g=n}return e}();function iA(e){this.l=e||$M,Me.PerformanceNavigationTiming?(e=Me.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Me.g&&Me.g.Ea&&Me.g.Ea()&&Me.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $M=10;function oA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function sA(e){return e.h?1:e.g?e.g.size:0}function tg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function wy(e,t){e.g?e.g.add(t):e.h=t}function uA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}iA.prototype.cancel=function(){var e,t;if(this.i=aA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=A1(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function aA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=A1(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return iy(e.i)}function by(){}by.prototype.stringify=function(e){return Me.JSON.stringify(e,void 0)};by.prototype.parse=function(e){return Me.JSON.parse(e,void 0)};function HM(){this.g=new by}function KM(e,t,n){var r=n||"";try{yy(e,function(o,s){var a=o;Oc(o)&&(a=fy(o)),t.push(r+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function GM(e,t){var n=new Lh;if(Me.Image){var r=new Image;r.onload=uf(cf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=uf(cf,n,r,"TestLoadImage: error",!1,t),r.onabort=uf(cf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=uf(cf,n,r,"TestLoadImage: timeout",!1,t),Me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function cf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Lc(e){this.l=e.$b||null,this.j=e.ib||!1}hn(Lc,my);Lc.prototype.g=function(){return new Bh(this.l,this.j)};Lc.prototype.i=function(e){return function(){return e}}({});function Bh(e,t){Zt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ey,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(Bh,Zt);var Ey=0;ye=Bh.prototype;ye.open=function(e,t){if(this.readyState!=Ey)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hc(this)};ye.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Me).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=Ey};ye.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hc(this)),this.g&&(this.readyState=3,hc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function cA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ye.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fc(this):hc(this),this.readyState==3&&cA(this)}};ye.Ua=function(e){this.g&&(this.response=this.responseText=e,Fc(this))};ye.Ta=function(e){this.g&&(this.response=e,Fc(this))};ye.ha=function(){this.g&&Fc(this)};function Fc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hc(e)}ye.setRequestHeader=function(e,t){this.v.append(e,t)};ye.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ye.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function hc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Bh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var zM=Me.JSON.parse;function qt(e){Zt.call(this),this.headers=new ju,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lA,this.K=this.L=!1}hn(qt,Zt);var lA="",WM=/^https?$/i,XM=["POST","PUT"];ye=qt.prototype;ye.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qv.g(),this.C=this.u?aI(this.u):aI(Qv),this.g.onreadystatechange=cn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){fI(this,s);return}e=n||"";var o=new ju(this.headers);r&&yy(r,function(s,a){o.set(a,s)}),r=sM(o.T()),n=Me.FormData&&e instanceof Me.FormData,!(0<=k1(XM,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dA(this),0<this.B&&((this.K=YM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.pa,this)):this.A=py(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fI(this,s)}};function YM(e){return du&&fM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function QM(e){return e.toLowerCase()=="content-type"}ye.pa=function(){typeof ry<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))};function fI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fA(e),qh(e)}function fA(e){e.D||(e.D=!0,ln(e,"complete"),ln(e,"error"))}ye.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ln(this,"complete"),ln(this,"abort"),qh(this))};ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qh(this,!0)),qt.Z.M.call(this)};ye.Fa=function(){this.s||(this.F||this.v||this.l?hA(this):this.cb())};ye.cb=function(){hA(this)};function hA(e){if(e.h&&typeof ry<"u"&&(!e.C[1]||ci(e)!=4||e.ba()!=2)){if(e.v&&ci(e)==4)py(e.Fa,0,e);else if(ln(e,"readystatechange"),ci(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(eA)[1]||null;if(!s&&Me.self&&Me.self.location){var a=Me.self.location.protocol;s=a.substr(0,a.length-1)}o=!WM.test(s?s.toLowerCase():"")}r=o}if(r)ln(e,"complete"),ln(e,"success");else{e.m=6;try{var l=2<ci(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",fA(e)}}finally{qh(e)}}}}function qh(e,t){if(e.g){dA(e);var n=e.g,r=e.C[0]?Bf:null;e.g=null,e.C=null,t||ln(e,"ready");try{n.onreadystatechange=r}catch{}}}function dA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Me.clearTimeout(e.A),e.A=null)}function ci(e){return e.g?e.g.readyState:0}ye.ba=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}};ye.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ye.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),zM(t)}};function hI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case lA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ye.Da=function(){return this.m};ye.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function JM(e){var t="";return oy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Iy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Et(e,t,n))}function xa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function pA(e){this.za=0,this.l=[],this.h=new Lh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xa("baseRetryDelayMs",5e3,e),this.$a=xa("retryDelaySeedMs",1e4,e),this.Ya=xa("forwardChannelMaxRetries",2,e),this.ra=xa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new iA(e&&e.concurrentRequestLimit),this.Ca=new HM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ye=pA.prototype;ye.ma=8;ye.G=1;function Ty(e){if(mA(e),e.G==3){var t=e.V++,n=vi(e.F);Et(n,"SID",e.J),Et(n,"RID",t),Et(n,"TYPE","terminate"),Mc(e,n),t=new Pc(e,e.h,t,void 0),t.K=2,t.v=Uh(vi(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon&&(n=Me.navigator.sendBeacon(t.v.toString(),"")),!n&&Me.Image&&(new Image().src=t.v,n=!0),n||(t.g=IA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Dc(t)}bA(e)}ye.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function $h(e){e.g&&(Ay(e),e.g.cancel(),e.g=null)}function mA(e){$h(e),e.u&&(Me.clearTimeout(e.u),e.u=null),Wf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Me.clearTimeout(e.m),e.m=null)}function cv(e,t){e.l.push(new qM(e.Za++,t)),e.G==3&&Hh(e)}function Hh(e){oA(e.i)||e.m||(e.m=!0,hy(e.Ha,e),e.C=0)}function ZM(e,t){return sA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Rc(cn(e.Ha,e,t),wA(e,e.C)),e.C++,!0)}ye.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Pc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=O1(n),N1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=vA(this,t,r),o=vi(this.F),Et(o,"RID",e),Et(o,"CVER",22),this.D&&Et(o,"X-HTTP-Session-Id",this.D),Mc(this,o),this.o&&n&&Iy(o,this.o,n),wy(this.i,t),this.Ra&&Et(o,"TYPE","init"),this.ja?(Et(o,"$req",r),Et(o,"SID","null"),t.$=!0,Zv(t,o,null)):Zv(t,o,r),this.G=2}}else this.G==3&&(e?dI(this,e):this.l.length==0||oA(this.i)||dI(this))};function dI(e,t){var n;t?n=t.m:n=e.V++;var r=vi(e.F);Et(r,"SID",e.J),Et(r,"RID",n),Et(r,"AID",e.U),Mc(e,r),e.o&&e.s&&Iy(r,e.o,e.s),n=new Pc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),wy(e.i,n),Zv(n,r,t)}function Mc(e,t){e.j&&yy({},function(n,r){Et(t,r,n)})}function vA(e,t,n){n=Math.min(e.l.length,n);var r=e.j?cn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,v=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{KM(v,a,"req"+d+"_")}catch{r&&r(v)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function gA(e){e.g||e.u||(e.Y=1,hy(e.Ga,e),e.A=0)}function Sy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Rc(cn(e.Ga,e),wA(e,e.A)),e.A++,!0)}ye.Ga=function(){if(this.u=null,yA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Rc(cn(this.bb,this),e)}};ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nn(10),$h(this),yA(this))};function Ay(e){e.B!=null&&(Me.clearTimeout(e.B),e.B=null)}function yA(e){e.g=new Pc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=vi(e.oa);Et(t,"RID","rpc"),Et(t,"SID",e.J),Et(t,"CI",e.N?"0":"1"),Et(t,"AID",e.U),Mc(e,t),Et(t,"TYPE","xmlhttp"),e.o&&e.s&&Iy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Uh(vi(t)),n.s=null,n.U=!0,Y1(n,e)}ye.ab=function(){this.v!=null&&(this.v=null,$h(this),Sy(this),Nn(19))};function Wf(e){e.v!=null&&(Me.clearTimeout(e.v),e.v=null)}function _A(e,t){var n=null;if(e.g==t){Wf(e),Ay(e),e.g=null;var r=2}else if(tg(e.i,t))n=t.D,uA(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Fh(),ln(r,new G1(r,n)),Hh(e)}else gA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&ZM(e,t)||r==2&&Sy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:zo(e,5);break;case 4:zo(e,10);break;case 3:zo(e,6);break;default:zo(e,2)}}}function wA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=cn(e.jb,e);n||(n=new os("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||Kf(n,"https"),Uh(n)),GM(n.toString(),r)}else Nn(2);e.G=0,e.j&&e.j.va(t),bA(e),mA(e)}ye.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nn(2)):(this.h.info("Failed to ping google.com"),Nn(1))};function bA(e){e.G=0,e.I=-1,e.j&&((aA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,iy(e.l),e.l.length=0),e.j.ua())}function EA(e,t,n){var r=DM(n);if(r.i!="")t&&Gf(r,t+"."+r.i),zf(r,r.m);else{var o=Me.location;r=LM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&oy(e.aa,function(s,a){Et(r,a,s)}),t=e.D,n=e.sa,t&&n&&Et(r,t,n),Et(r,"VER",e.ma),Mc(e,r),r}function IA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new qt(new Lc({ib:!0})):new qt(e.qa),t.L=e.H,t}function TA(){}ye=TA.prototype;ye.xa=function(){};ye.wa=function(){};ye.va=function(){};ye.ua=function(){};ye.Oa=function(){};function Xf(){if(du&&!(10<=Number(hM)))throw Error("Environmental error: no available transport.")}Xf.prototype.g=function(e,t){return new or(e,t)};function or(e,t){Zt.call(this),this.g=new pA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!qf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Bu(this)}hn(or,Zt);or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),hy(cn(e.hb,e,t))),Nn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=EA(e,null,e.W),Hh(e)};or.prototype.close=function(){Ty(this.g)};or.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,cv(this.g,t)}else this.v?(t={},t.__data__=fy(e),cv(this.g,t)):cv(this.g,e)};or.prototype.M=function(){this.g.j=null,delete this.j,Ty(this.g),delete this.g,or.Z.M.call(this)};function SA(e){vy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}hn(SA,vy);function AA(){gy.call(this),this.status=1}hn(AA,gy);function Bu(e){this.g=e}hn(Bu,TA);Bu.prototype.xa=function(){ln(this.g,"a")};Bu.prototype.wa=function(e){ln(this.g,new SA(e))};Bu.prototype.va=function(e){ln(this.g,new AA)};Bu.prototype.ua=function(){ln(this.g,"b")};Xf.prototype.createWebChannel=Xf.prototype.g;or.prototype.send=or.prototype.u;or.prototype.open=or.prototype.m;or.prototype.close=or.prototype.close;Mh.NO_ERROR=0;Mh.TIMEOUT=8;Mh.HTTP_ERROR=6;z1.COMPLETE="complete";W1.EventType=xc;xc.OPEN="a";xc.CLOSE="b";xc.ERROR="c";xc.MESSAGE="d";Zt.prototype.listen=Zt.prototype.N;qt.prototype.listenOnce=qt.prototype.O;qt.prototype.getLastError=qt.prototype.La;qt.prototype.getLastErrorCode=qt.prototype.Da;qt.prototype.getStatus=qt.prototype.ba;qt.prototype.getResponseJson=qt.prototype.Qa;qt.prototype.getResponseText=qt.prototype.ga;qt.prototype.send=qt.prototype.ea;var eV=function(){return new Xf},tV=function(){return Fh()},lv=Mh,nV=z1,rV=ds,pI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iV=Lc,lf=W1,oV=qt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();nr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Oe(t,e),t}(Error),Cr=new E1("@firebase/firestore");function ng(){return Cr.logLevel}function ae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=tt.DEBUG){var r=t.map(ky);Cr.debug.apply(Cr,bt(["Firestore (8.10.1): "+e],r))}}function Bt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=tt.ERROR){var r=t.map(ky);Cr.error.apply(Cr,bt(["Firestore (8.10.1): "+e],r))}}function Yf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=tt.WARN){var r=t.map(ky);Cr.warn.apply(Cr,bt(["Firestore (8.10.1): "+e],r))}}function ky(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Bt(t),new Error(t)}function De(e,t){e||Se()}function pe(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=sV(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function He(e,t){return e<t?-1:e>t?1:0}function pu(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function CA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?He(this.nanoseconds,t.nanoseconds):He(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Be=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Un(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ps(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function OA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Se(),r===void 0?r=t.length-n:r>t.length-n&&Se(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),rt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(NA),uV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return uV.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,a=function(){if(o.length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(NA),mu=function(){function e(t){this.fields=t,t.sort(xr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return pu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),qn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return He(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();qn.EMPTY_BYTE_STRING=new qn("");var aV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(e){if(De(!!e),typeof e=="string"){var t=0,n=aV.exec(e);if(De(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:jt(e.seconds),nanos:jt(e.nanos)}}function jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function vu(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RA(e){var t=e.mapValue.fields.__previous_value__;return Cy(t)?RA(t):t}function dc(e){var t=io(e.mapValue.fields.__local_write_time__.timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(e){return e==null}function Qf(e){return e===0&&1/e==-1/0}function xA(e){return typeof e=="number"&&Number.isInteger(e)&&!Qf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(rt.fromString(t))},e.fromName=function(t){return new e(rt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&rt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return rt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new rt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cy(e)?4:10:Se()}function Jr(e,t){var n=ss(e);if(n!==ss(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dc(e).isEqual(dc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=io(r.timestampValue),a=io(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return vu(r.bytesValue).isEqual(vu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return jt(r.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(r.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return jt(r.integerValue)===jt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=jt(r.doubleValue),a=jt(o.doubleValue);return s===a?Qf(s)===Qf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return pu(e.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:return function(r,o){var s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(mI(s)!==mI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Jr(s[l],a[l])))return!1;return!0}(e,t);default:return Se()}}function pc(e,t){return(e.values||[]).find(function(n){return Jr(n,t)})!==void 0}function gu(e,t){var n=ss(e),r=ss(t);if(n!==r)return He(n,r);switch(n){case 0:return 0;case 1:return He(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=jt(o.integerValue||o.doubleValue),l=jt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return vI(e.timestampValue,t.timestampValue);case 4:return vI(dc(e),dc(t));case 5:return He(e.stringValue,t.stringValue);case 6:return function(o,s){var a=vu(o),l=vu(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var d=He(a[f],l[f]);if(d!==0)return d}return He(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=He(jt(o.latitude),jt(s.latitude));return a!==0?a:He(jt(o.longitude),jt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var d=gu(a[f],l[f]);if(d)return d}return He(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var v=0;v<l.length&&v<d.length;++v){var h=He(l[v],d[v]);if(h!==0)return h;var m=gu(a[l[v]],f[d[v]]);if(m!==0)return m}return He(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Se()}}function vI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return He(e,t);var n=io(e),r=io(t),o=He(n.seconds,r.seconds);return o!==0?o:He(n.nanos,r.nanos)}function Oy(e){return rg(e)}function rg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=io(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ae.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:o+=",",o+=rg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+rg(r.fields[f])}return o+"}"}(e.mapValue):Se();var t,n}function Jf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ig(e){return!!e&&"integerValue"in e}function Ny(e){return!!e&&"arrayValue"in e}function gI(e){return!!e&&"nullValue"in e}function yI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cf(e){return!!e&&"mapValue"in e}function Ha(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ps(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Ha(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ha(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Cf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ha(n)},e.prototype.setAll=function(t){var n=this,r=xr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Ha(l):s.push(f.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Jr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];Cf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){ps(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Ha(this.value))},e}();function PA(e){var t=[];return ps(e.fields,function(n,r){var o=new xr([n]);if(Cf(r)){var s=PA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new mu(t)}var _n=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Be.min(),Zn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Zn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Zn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),cV=function(e,t,n,r,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e,t,n,r,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new cV(e,t,n,r,o,s,a)}function Vc(e){var t=pe(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+Oy(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),ms(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=eh(t.startAt)),t.endAt&&(n+="|ub:",n+=eh(t.endAt)),t.h=n}return t.h}function Kh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Jr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bI(e.startAt,t.startAt)&&bI(e.endAt,t.endAt)}function Zf(e){return Ae.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var rr=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Oe(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new lV(n,r,o):r==="array-contains"?new dV(n,o):r==="in"?new pV(n,o):r==="not-in"?new mV(n,o):r==="array-contains-any"?new vV(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new fV(n,o):new hV(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(gu(r,this.value)):r!==null&&ss(this.value)===ss(r)&&this.m(gu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Se()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),lV=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ae.fromName(o.referenceValue),s}return Oe(t,e),t.prototype.matches=function(n){var r=Ae.comparator(n.key,this.key);return this.m(r)},t}(rr),fV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=DA("in",r),o}return Oe(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr),hV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=DA("not-in",r),o}return Oe(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr);function DA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ae.fromName(r.referenceValue)})}var dV=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Oe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Ny(r)&&pc(r.arrayValue,this.value)},t}(rr),pV=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Oe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&pc(this.value.arrayValue,r)},t}(rr),mV=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Oe(t,e),t.prototype.matches=function(n){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!pc(this.value.arrayValue,r)},t}(rr),vV=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Oe(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!Ny(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return pc(r.value.arrayValue,s)})},t}(rr),mc=function(e,t){this.position=e,this.before=t};function eh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Oy(t)}).join(",")}var ou=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function gV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wI(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(r=s.field.isKeyField()?Ae.comparator(Ae.fromName(a.referenceValue),n.key):gu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function bI(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i=function(e,t,n,r,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function LA(e,t,n,r,o,s,a,l){return new _i(e,t,n,r,o,s,a,l)}function jc(e){return new _i(e)}function Of(e){return!ms(e.limit)&&e.limitType==="F"}function th(e){return!ms(e.limit)&&e.limitType==="L"}function Ry(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Py(e){return e.collectionGroup!==null}function yu(e){var t=pe(e);if(t.p===null){t.p=[];var n=xy(t),r=Ry(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new ou(n)),t.p.push(new ou(xr.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ou(xr.keyField(),f))}}}return t.p}function Zr(e){var t=pe(e);if(!t.T)if(t.limitType==="F")t.T=_I(t.path,t.collectionGroup,yu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=yu(t);r<o.length;r++){var s=o[r],a=s.dir==="desc"?"asc":"desc";n.push(new ou(s.field,a))}var l=t.endAt?new mc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new mc(t.startAt.position,!t.startAt.before):null;t.T=_I(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function FA(e,t,n){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uc(e,t){return Kh(Zr(e),Zr(t))&&e.limitType===t.limitType}function MA(e){return Vc(Zr(e))+"|lt:"+e.limitType}function og(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+Oy(o.value);var o}).join(", ")+"]"),ms(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+eh(t.startAt)),t.endAt&&(n+=", endAt: "+eh(t.endAt)),"Target("+n+")"}(Zr(e))+"; limitType="+e.limitType+")"}function Bc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ae.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!wI(n.startAt,yu(n),r))&&(!n.endAt||!wI(n.endAt,yu(n),r))}(e,t)}function VA(e){return function(t,n){for(var r=!1,o=0,s=yu(e);o<s.length;o++){var a=s[o],l=yV(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function yV(e,t,n){var r=e.field.isKeyField()?Ae.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?gu(l,f):Se()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(t)?"-0":t}}function UA(e){return{integerValue:""+e}}function BA(e,t){return xA(t)?UA(t):jA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(){this._=void 0};function _V(e,t,n){return e instanceof _u?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof us?$A(e,t):e instanceof as?HA(e,t):function(r,o){var s=qA(r,o),a=EI(s)+EI(r.A);return ig(s)&&ig(r.A)?UA(a):jA(r.R,a)}(e,t)}function wV(e,t,n){return e instanceof us?$A(e,t):e instanceof as?HA(e,t):n}function qA(e,t){return e instanceof wu?ig(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var _u=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t}(Gh),us=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Oe(t,e),t}(Gh);function $A(e,t){for(var n=KA(t),r=function(a){n.some(function(l){return Jr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var as=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Oe(t,e),t}(Gh);function HA(e,t){for(var n=KA(t),r=function(a){n=n.filter(function(l){return!Jr(l,a)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var wu=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Oe(t,e),t}(Gh);function EI(e){return jt(e.integerValue||e.doubleValue)}function KA(e){return Ny(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=function(e,t){this.field=e,this.transform=t},bV=function(e,t){this.version=e,this.transformResults=t},gn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Nf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var zh=function(){};function EV(e,t,n){e instanceof $c?function(r,o,s){var a=r.value.clone(),l=SI(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof co?function(r,o,s){if(Nf(r.precondition,o)){var a=SI(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(GA(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function sg(e,t,n){e instanceof $c?function(r,o,s){if(Nf(r.precondition,o)){var a=r.value.clone(),l=AI(r.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(TI(o),a).setHasLocalMutations()}}(e,t,n):e instanceof co?function(r,o,s){if(Nf(r.precondition,o)){var a=AI(r.fieldTransforms,s,o),l=o.data;l.setAll(GA(r)),l.setAll(a),o.convertToFoundDocument(TI(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){Nf(r.precondition,o)&&o.convertToNoDocument(Be.min())}(e,t)}function IV(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],a=t.data.field(s.field),l=qA(s.transform,a||null);l!=null&&(n==null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function II(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&pu(n,r,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof us&&d instanceof us||f instanceof as&&d instanceof as?pu(f.elements,d.elements,Jr):f instanceof wu&&d instanceof wu?Jr(f.A,d.A):f instanceof _u&&d instanceof _u}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function TI(e){return e.isFoundDocument()?e.version:Be.min()}var $c=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return Oe(t,e),t}(zh),co=function(e){function t(n,r,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return Oe(t,e),t}(zh);function GA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function SI(e,t,n){var r=new Map;De(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);r.set(s.field,wV(a,l,n[o]))}return r}function AI(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);r.set(a.field,_V(l,f,t))}return r}var Vt,Xe,Hc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Oe(t,e),t}(zh),Dy=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Oe(t,e),t}(zh),TV=function(e){this.count=e};function zA(e){switch(e){case B.OK:return Se();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return Se()}}function WA(e){if(e===void 0)return Bt("GRPC error has no .code"),B.UNKNOWN;switch(e){case Vt.OK:return B.OK;case Vt.CANCELLED:return B.CANCELLED;case Vt.UNKNOWN:return B.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return B.INTERNAL;case Vt.UNAVAILABLE:return B.UNAVAILABLE;case Vt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Vt.NOT_FOUND:return B.NOT_FOUND;case Vt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Vt.ABORTED:return B.ABORTED;case Vt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Vt.DATA_LOSS:return B.DATA_LOSS;default:return Se()}}(Xe=Vt||(Vt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=function(){function e(t,n){this.comparator=t,this.root=n||$i.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$i.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$i.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new ff(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new ff(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ff(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new ff(this.root,t,this.comparator,!0)},e}(),ff=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),$i=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();var t=this.left.check();if(t!==this.right.check())throw Se();return t+(this.isRed()?0:1)},e}();$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Se()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new $i(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){function e(t){this.comparator=t,this.data=new wn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new kI(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new kI(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),kI=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),SV=new wn(Ae.comparator);function Or(){return SV}var AV=new wn(Ae.comparator);function ug(){return AV}var kV=new wn(Ae.comparator);function CV(){return kV}var OV=new Yt(Ae.comparator);function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=OV,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var NV=new Yt(He);function Wh(){return NV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ly=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Fy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Be.min(),r,Wh(),Or(),mt())},e}(),Fy=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(qn.EMPTY_BYTE_STRING,n,mt(),mt(),mt())},e}(),Rf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},XA=function(e,t){this.targetId=e,this.V=t},YA=function(e,t,n,r){n===void 0&&(n=qn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},CI=function(){function e(){this.S=0,this.D=NI(),this.C=qn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=mt(),n=mt(),r=mt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Se()}}),new Fy(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=NI()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),RV=function(){function e(t){this.W=t,this.G=new Map,this.H=Or(),this.J=OI(),this.Y=new Yt(He)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:Se()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Zf(s))if(r===0){var a=new Ae(s.path);this.tt(n,a,_n.newNoDocument(a,Be.min()))}else De(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Zf(f.target)){var d=new Ae(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,_n.newNoDocument(d,t))}a.$&&(r.set(l,a.M()),a.L())}});var o=mt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var v=n.ot(d);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new Ly(t,r,this.Y,this.H,o);return this.H=Or(),this.J=OI(),this.Y=new Yt(He),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new CI,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Yt(He),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new CI),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function OI(){return new wn(Ae.comparator)}function NI(){return new wn(Ae.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xV={asc:"ASCENDING",desc:"DESCENDING"},PV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DV=function(e,t){this.databaseId=e,this.I=t};function vc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function QA(e,t){return e.I?t.toBase64():t.toUint8Array()}function LV(e,t){return vc(e,t.toTimestamp())}function Rn(e){return De(!!e),Be.fromTimestamp(function(t){var n=io(t);return new Un(n.seconds,n.nanos)}(e))}function My(e,t){return function(n){return new rt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function JA(e){var t=rt.fromString(e);return De(ok(t)),t}function gc(e,t){return My(e.databaseId,t.path)}function fi(e,t){var n=JA(t);if(n.get(1)!==e.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ae(ek(n))}function ag(e,t){return My(e.databaseId,t)}function ZA(e){var t=JA(e);return t.length===4?rt.emptyPath():ek(t)}function yc(e){return new rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ek(e){return De(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function RI(e,t,n){return{name:gc(e,t),fields:n.value.mapValue.fields}}function FV(e,t,n){var r=fi(e,t.name),o=Rn(t.updateTime),s=new Zn({mapValue:{fields:t.fields}}),a=_n.newFoundDocument(r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function nh(e,t){var n;if(t instanceof $c)n={update:RI(e,t.key,t.value)};else if(t instanceof Hc)n={delete:gc(e,t.key)};else if(t instanceof co)n={update:RI(e,t.key,t.data),updateMask:BV(t.fieldMask)};else{if(!(t instanceof Dy))return Se();n={verify:gc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var a=s.transform;if(a instanceof _u)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof us)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof as)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Se()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:LV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se()}(e,t.precondition)),n}function xI(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?gn.updateTime(Rn(d.updateTime)):d.exists!==void 0?gn.exists(d.exists):gn.none()}(t.currentDocument):gn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(v,h){var m=null;if("setToServerValue"in h)De(h.setToServerValue==="REQUEST_TIME"),m=new _u;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new us(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new as(_)}else"increment"in h?m=new wu(v,h.increment):Se();var b=xr.fromServerFormat(h.fieldPath);return new qc(b,m)}(e,d)}):[];if(t.update){t.update.name;var o=fi(e,t.update.name),s=new Zn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var v=d.fieldPaths||[];return new mu(v.map(function(h){return xr.fromServerFormat(h)}))}(t.updateMask);return new co(o,s,a,n,r)}return new $c(o,s,n,r)}if(t.delete){var l=fi(e,t.delete);return new Hc(l,n)}if(t.verify){var f=fi(e,t.verify);return new Dy(f,n)}return Se()}function tk(e,t){return{documents:[ag(e,t.path)]}}function nk(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ag(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ag(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(v){if(v.op==="=="){if(yI(v.value))return{unaryFilter:{field:Ks(v.field),op:"IS_NAN"}};if(gI(v.value))return{unaryFilter:{field:Ks(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(yI(v.value))return{unaryFilter:{field:Ks(v.field),op:"IS_NOT_NAN"}};if(gI(v.value))return{unaryFilter:{field:Ks(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(v.field),op:VV(v.op),value:v.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Ks(d.field),direction:MV(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||ms(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=PI(t.startAt)),t.endAt&&(n.structuredQuery.endAt=PI(t.endAt)),n}function rk(e){var t=ZA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){De(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=ik(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new ou(eu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return ms(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var d=null;n.startAt&&(d=DI(n.startAt));var v=null;return n.endAt&&(v=DI(n.endAt)),LA(t,o,l,a,f,"F",d,v)}function ik(e){return e?e.unaryFilter!==void 0?[UV(e)]:e.fieldFilter!==void 0?[jV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return ik(t)}).reduce(function(t,n){return t.concat(n)}):Se():[]}function PI(e){return{before:e.before,values:e.position}}function DI(e){var t=!!e.before,n=e.values||[];return new mc(n,t)}function MV(e){return xV[e]}function VV(e){return PV[e]}function Ks(e){return{fieldPath:e.canonicalString()}}function eu(e){return xr.fromServerFormat(e.fieldPath)}function jV(e){return rr.create(eu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Se()}}(e.fieldFilter.op),e.fieldFilter.value)}function UV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=eu(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=eu(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=eu(e.unaryFilter.field);return rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=eu(e.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Se()}}function BV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function ok(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=LI(t)),t=qV(e.get(n),t);return LI(t)}function qV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function LI(e){return e+""}function li(e){var t=e.length;if(De(t>=2),t===2)return De(e.charAt(0)===""&&e.charAt(1)===""),rt.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Se(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:Se()}s=a+2}return new rt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $V=function(e,t){this.seconds=e,this.nanoseconds=t},Qn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Qn.store="owner",Qn.key="owner";var Qi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Qi.store="mutationQueues",Qi.keyPath="userId";var vt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};vt.store="mutations",vt.keyPath="batchId",vt.userMutationsIndex="userMutationsIndex",vt.userMutationsKeyPath=["userId","batchId"];var pn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Nr(n)]},e.key=function(t,n,r){return[t,Nr(n),r]},e}();pn.store="documentMutations",pn.PLACEHOLDER=new pn;var HV=function(e,t){this.path=e,this.readTime=t},KV=function(e,t){this.path=e,this.version=t},Ct=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Ct.store="remoteDocuments",Ct.readTimeIndex="readTimeIndex",Ct.readTimeIndexPath="readTime",Ct.collectionReadTimeIndex="collectionReadTimeIndex",Ct.collectionReadTimeIndexPath=["parentPath","readTime"];var zr=function(e){this.byteSize=e};zr.store="remoteDocumentGlobal",zr.key="remoteDocumentGlobalKey";var Mn=function(e,t,n,r,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Mn.store="targets",Mn.keyPath="targetId",Mn.queryTargetsIndexName="queryTargetsIndex",Mn.queryTargetsKeyPath=["canonicalId","targetId"];var an=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};an.store="targetDocuments",an.keyPath=["targetId","path"],an.documentTargetsIndex="documentTargetsIndex",an.documentTargetsKeyPath=["path","targetId"];var Jn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Jn.key="targetGlobalKey",Jn.store="targetGlobal";var Jo=function(e,t){this.collectionId=e,this.parent=t};Jo.store="collectionParents",Jo.keyPath=["collectionId","parent"];var hi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};hi.store="clientMetadata",hi.keyPath="clientId";var bu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};bu.store="bundles",bu.keyPath="bundleId";var Eu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Eu.store="namedQueries",Eu.keyPath="name";var GV=bt(bt([],bt(bt([],bt(bt([],bt(bt([],[Qi.store,vt.store,pn.store,Ct.store,Mn.store,Qn.store,Jn.store,an.store]),[hi.store])),[zr.store])),[Jo.store])),[bu.store,Eu.store]),sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uk=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),$n=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},se=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(o,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return r(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,a){o.push(n.call(r,s,a))}),this.waitFor(o)},e}(),ak=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new $n,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Ka(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=Vy(o.target.error);r.ft.reject(new Ka(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Ka(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ae("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new WV(n)},e}(),Iu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(rs())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ae("SimpleDb","Removing database:",t),Ho(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=rs(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return J(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ae("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){a(new Ka(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new re(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Ka(t,d))},l.onupgradeneeded=function(f){ae("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,l.transaction,f.oldVersion,r.version).next(function(){ae("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return Z(this,void 0,void 0,function(){var s,a,l,f,d;return J(this,function(v){switch(v.label){case 0:s=n==="readonly",a=0,l=function(){var h,m,y,_,b;return J(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),h=ak.open(f.db,t,s?"readonly":"readwrite",r),m=o(h).catch(function(I){return h.abort(I),se.reject(I)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(S.sent(),m),y)];case 4:return _=S.sent(),b=_.name!=="FirebaseError"&&a<3,ae("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),f.close(),b?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,l()];case 2:if(typeof(d=v.sent())=="object")return[2,d.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),zV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ho(this.Pt.delete())},e}(),Ka=function(e){function t(n,r){var o=this;return(o=e.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Oe(t,e),t}(re);function vs(e){return e.name==="IndexedDbTransactionError"}var WV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ae("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ae("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ho(r)},e.prototype.add=function(t){return ae("SimpleDb","ADD",this.store.name,t,t),Ho(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ho(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ae("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ae("SimpleDb","DELETE",this.store.name,t),Ho(this.store.delete(t))},e.prototype.count=function(){return ae("SimpleDb","COUNT",this.store.name),Ho(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ae("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new se(function(r,o){n.onerror=function(s){var a=Vy(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new se(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new zV(l),d=n(l.primaryKey,l.value,f);if(d instanceof se){var v=d.catch(function(h){return f.done(),se.reject(h)});r.push(v)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return se.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ho(e){return new se(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=Vy(r.target.error);n(o)}})}var FI=!1;function Vy(e){var t=Iu._t(rs());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new re("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return FI||(FI=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MI=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Oe(t,e),t}(uk);function Hn(e,t){var n=pe(e);return Iu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&EV(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&sg(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&sg(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Be.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},mt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&pu(this.mutations,t.mutations,function(n,r){return II(n,r)})&&pu(this.baseMutations,t.baseMutations,function(n,r){return II(n,r)})},e}(),XV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){De(t.mutations.length===r.length);for(var o=CV(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,o)},e}(),Xh=function(){function e(t,n,r,o,s,a,l){s===void 0&&(s=Be.min()),a===void 0&&(a=Be.min()),l===void 0&&(l=qn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),ck=function(e){this.Lt=e};function cg(e,t){if(t.document)return FV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ae.fromSegments(t.noDocument.path),r=Su(t.noDocument.readTime),o=_n.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ae.fromSegments(t.unknownDocument.path);return r=Su(t.unknownDocument.version),_n.newUnknownDocument(s,r)}return Se()}function VI(e,t,n){var r=Uy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:gc(h,m.key),fields:m.data.value.mapValue.fields,updateTime:vc(h,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ct(null,null,s,a,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=Tu(t.version);return a=t.hasCommittedMutations,new Ct(null,new HV(l,f),null,a,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),v=Tu(t.version);return new Ct(new KV(d,v),null,null,!0,r,o)}return Se()}function Uy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function lk(e){var t=new Un(e[0],e[1]);return Be.fromTimestamp(t)}function Tu(e){var t=e.toTimestamp();return new $V(t.seconds,t.nanoseconds)}function Su(e){var t=new Un(e.seconds,e.nanoseconds);return Be.fromTimestamp(t)}function Ys(e,t){for(var n=(t.baseMutations||[]).map(function(f){return xI(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(f){return xI(e.Lt,f)}),l=Un.fromMillis(t.localWriteTimeMs);return new jy(t.batchId,l,n,a)}function Va(e){var t,n,r=Su(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Su(e.lastLimboFreeSnapshotVersion):Be.min();return e.query.documents!==void 0?(De((n=e.query).documents.length===1),t=Zr(jc(ZA(n.documents[0])))):t=function(s){return Zr(rk(s))}(e.query),new Xh(t,e.targetId,0,e.lastListenSequenceNumber,r,o,qn.fromBase64String(e.resumeToken))}function fk(e,t){var n,r=Tu(t.snapshotVersion),o=Tu(t.lastLimboFreeSnapshotVersion);n=Zf(t.target)?tk(e.Lt,t.target):nk(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Mn(t.targetId,Vc(t.target),r,s,t.sequenceNumber,o,n)}function hk(e){var t=rk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?FA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return jI(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Su(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return jI(t).put({bundleId:(r=n).id,createTime:Tu(Rn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return UI(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:hk(o.bundledQuery),readTime:Su(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return UI(t).put(function(r){return{name:r.name,readTime:Tu(Rn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function jI(e){return Hn(e,bu.store)}function UI(e){return Hn(e,Eu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QV=function(){function e(){this.Bt=new By}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),se.resolve()},e.prototype.getCollectionParents=function(t,n){return se.resolve(this.Bt.getEntries(n))},e}(),By=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Yt(rt.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Yt(rt.comparator)).toArray()},e}(),JV=function(){function e(){this.qt=new By}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:o,parent:Nr(s)};return BI(t).put(a)}return se.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[CA(n),""],!1,!0);return BI(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;r.push(li(f.parent))}return r})},e}();function BI(e){return Hn(e,Jo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e,t,n){var r=e.store(vt.store),o=e.store(pn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:a},function(_,b,S){return l++,S.delete()});s.push(f.next(function(){De(l===1)}));for(var d=[],v=0,h=n.mutations;v<h.length;v++){var m=h[v],y=pn.key(t,m.key.path,n.batchId);s.push(o.delete(y)),d.push(m.key)}return se.waitFor(s).next(function(){return d})}function rh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Se();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(41943040,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);var ZV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return De(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).$t({index:vt.userMutationsIndex,range:r},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,a=Qs(t),l=Di(t);return l.add({}).next(function(f){De(typeof f=="number");for(var d=new jy(f,n,r,o),v=function(I,R,F){var q=F.baseMutations.map(function(x){return nh(I.Lt,x)}),P=F.mutations.map(function(x){return nh(I.Lt,x)});return new vt(R,F.batchId,F.localWriteTime.toMillis(),q,P)}(s.R,s.userId,d),h=[],m=new Yt(function(I,R){return He(I.canonicalString(),R.canonicalString())}),y=0,_=o;y<_.length;y++){var b=_[y],S=pn.key(s.userId,b.key.path,f);m=m.add(b.key.path.popLast()),h.push(l.put(v)),h.push(a.put(S,pn.PLACEHOLDER))}return m.forEach(function(I){h.push(s.Ut.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),se.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Di(t).get(n).next(function(o){return o?(De(o.userId===r.userId),Ys(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?se.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Di(t).$t({index:vt.userMutationsIndex,range:s},function(l,f,d){f.userId===r.userId&&(De(f.batchId>=o),a=Ys(r.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Di(t).$t({index:vt.userMutationsIndex,range:n,reverse:!0},function(o,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).Nt(vt.userMutationsIndex,r).next(function(o){return o.map(function(s){return Ys(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=pn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Qs(t).$t({range:s},function(l,f,d){var v=l[0],h=l[1],m=l[2],y=li(h);if(v===r.userId&&n.path.isEqual(y))return Di(t).get(m).next(function(_){if(!_)throw Se();De(_.userId===r.userId),a.push(Ys(r.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Yt(He),s=[];return n.forEach(function(a){var l=pn.prefixForPath(r.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Qs(t).$t({range:f},function(v,h,m){var y=v[0],_=v[1],b=v[2],S=li(_);y===r.userId&&a.path.isEqual(S)?o=o.add(b):m.done()});s.push(d)}),se.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,a=pn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Yt(He);return Qs(t).$t({range:l},function(d,v,h){var m=d[0],y=d[1],_=d[2],b=li(y);m===r.userId&&o.isPrefixOf(b)?b.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(a){s.push(Di(t).get(a).next(function(l){if(l===null)throw Se();De(l.userId===r.userId),o.push(Ys(r.R,l))}))}),se.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return dk(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),se.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return se.resolve();var o=IDBKeyRange.lowerBound(pn.prefixForUser(n.userId)),s=[];return Qs(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=li(a[1]);s.push(d)}else f.done()}).next(function(){De(s.length===0)})})},e.prototype.containsKey=function(t,n){return pk(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return mk(t).get(this.userId).next(function(r){return r||new Qi(n.userId,-1,"")})},e}();function pk(e,t,n){var r=pn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Qs(e).$t({range:s,Ft:!0},function(l,f,d){var v=l[0],h=l[1];l[2],v===t&&h===o&&(a=!0),d.done()}).next(function(){return a})}function Di(e){return Hn(e,vt.store)}function Qs(e){return Hn(e,pn.store)}function mk(e){return Hn(e,Qi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ih=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),ej=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new ih(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Be.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Gs(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return De(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return Gs(t).$t(function(l,f){var d=Va(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return se.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Gs(t).$t(function(r,o){var s=Va(o);n(s)})},e.prototype.Xt=function(t){return $I(t).get(Jn.key).next(function(n){return De(n!==null),n})},e.prototype.Zt=function(t,n){return $I(t).put(Jn.key,n)},e.prototype.te=function(t,n){return Gs(t).put(fk(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Vc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Gs(t).$t({range:o,index:Mn.queryTargetsIndexName},function(a,l,f){var d=Va(l);Kh(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],a=Hi(t);return n.forEach(function(l){var f=Nr(l.path);s.push(a.put(new an(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),se.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Hi(t);return se.forEach(n,function(a){var l=Nr(a.path);return se.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Hi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Hi(t),s=mt();return o.$t({range:r,Ft:!0},function(a,l,f){var d=li(a[1]),v=new Ae(d);s=s.add(v)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Nr(n.path),o=IDBKeyRange.bound([r],[CA(r)],!1,!0),s=0;return Hi(t).$t({index:an.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Gs(t).get(n).next(function(r){return r?Va(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(e){return Hn(e,Mn.store)}function $I(e){return Hn(e,Jn.store)}function Hi(e){return Hn(e,an.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(e){return Z(this,void 0,void 0,function(){return J(this,function(t){if(e.code!==B.FAILED_PRECONDITION||e.message!==sk)throw e;return ae("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],a=He(n,o);return a===0?He(r,s):a}var tj=function(){function e(t){this.ne=t,this.buffer=new Yt(HI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();HI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),nj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ae("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return Z(n,void 0,void 0,function(){var o;return J(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return vs(o=s.sent())?(ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,gs(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),rj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return se.resolve(nr.o);var o=new tj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(qI)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),qI):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,a,l,f,d,v=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>v.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+m),o=v.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),v.nthSequenceNumber(t,o)}).next(function(m){return r=m,l=Date.now(),v.removeTargets(t,r,n)}).next(function(m){return s=m,f=Date.now(),v.removeOrphanedDocuments(t,r)}).next(function(m){return d=Date.now(),ng()<=tt.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-h)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),ij=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new rj(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return hf(t,r)},e.prototype.removeReference=function(t,n,r){return hf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return hf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return mk(r).Ot(function(a){return pk(r,a,o).next(function(l){return l&&(s=!0),se.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=r._e(t,l).next(function(v){if(!v)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Hi(t).delete([0,Nr(l.path)])})});s.push(d)}}).next(function(){return se.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return hf(t,n)},e.prototype.we=function(t,n){var r,o=Hi(t),s=nr.o;return o.$t({index:an.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,v=l.sequenceNumber;f===0?(s!==nr.o&&n(new Ae(li(r)),s),s=v,r=d):s=nr.o}).next(function(){s!==nr.o&&n(new Ae(li(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function hf(e,t){return Hi(e).put(function(n,r){return new an(0,Nr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){ps(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return OA(this.inner)},e}(),vk=function(){function e(){this.changes=new qu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Be.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:_n.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?se.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),oj=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Bi(t).put(df(n),r)},e.prototype.removeEntry=function(t,n){var r=Bi(t),o=df(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Bi(t).get(df(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Bi(t).get(df(n)).next(function(o){return{document:r.ye(n,o),size:rh(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Or();return this.pe(t,n,function(s,a){var l=r.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Or(),s=new wn(Ae.comparator);return this.pe(t,n,function(a,l){var f=r.ye(a,l);o=o.insert(a,f),s=s.insert(a,rh(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return se.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Bi(t).$t({range:o},function(l,f,d){for(var v=Ae.fromSegments(l);a&&Ae.comparator(a,v)<0;)r(a,null),a=s.getNext();a&&a.isEqual(v)&&(r(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Or(),a=n.path.length+1,l={};if(r.isEqual(Be.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),v=Uy(r);l.range=IDBKeyRange.lowerBound([d,v],!0),l.index=Ct.collectionReadTimeIndex}return Bi(t).$t(l,function(h,m,y){if(h.length===a){var _=cg(o.R,m);n.path.isPrefixOf(_.key.path)?Bc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new sj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return KI(t).get(zr.key).next(function(n){return De(!!n),n})},e.prototype.me=function(t,n){return KI(t).put(zr.key,n)},e.prototype.ye=function(t,n){if(n){var r=cg(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Be.min()))return r}return _n.newInvalidDocument(t)},e}(),sj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new qu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return Oe(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,a=new Yt(function(l,f){return He(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=r.Ae.get(l);if(f.document.isValidDocument()){var v=VI(r.Ie.R,f.document,r.getReadTime(l));a=a.add(l.path.popLast());var h=rh(v);s+=h-d,o.push(r.Ie.addEntry(n,l,v))}else if(s-=d,r.trackRemovals){var m=VI(r.Ie.R,_n.newNoDocument(l,Be.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,m))}else o.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),se.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(vk);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e){return Hn(e,zr.store)}function Bi(e){return Hn(e,Ct.store)}function df(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;De(r<o&&r>=0&&o<=11);var a=new ak("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Qn.store)}(t),function(f){f.createObjectStore(Qi.store,{keyPath:Qi.keyPath}),f.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(pn.store)}(t),GI(t),function(f){f.createObjectStore(Ct.store)}(t));var l=se.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(an.store),f.deleteObjectStore(Mn.store),f.deleteObjectStore(Jn.store)}(t),GI(t)),l=l.next(function(){return function(f){var d=f.store(Jn.store),v=new Jn(0,0,Be.min().toTimestamp(),0);return d.put(Jn.key,v)}(a)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,d){return d.store(vt.store).Nt().next(function(v){f.deleteObjectStore(vt.store),f.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0});var h=d.store(vt.store),m=v.map(function(y){return h.put(y)});return se.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(hi.store,{keyPath:hi.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(zr.store)}(t),s.be(a)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Ct.store);d.createIndex(Ct.readTimeIndex,Ct.readTimeIndexPath,{unique:!1}),d.createIndex(Ct.collectionReadTimeIndex,Ct.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(bu.store,{keyPath:bu.keyPath})})(t),function(f){f.createObjectStore(Eu.store,{keyPath:Eu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Ct.store).$t(function(r,o){n+=rh(o)}).next(function(){var r=new zr(n);return t.store(zr.store).put(zr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Qi.store),o=t.store(vt.store);return r.Nt().next(function(s){return se.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(vt.userMutationsIndex,l).next(function(f){return se.forEach(f,function(d){De(d.userId===a.userId);var v=Ys(n.R,d);return dk(t,a.userId,v).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(an.store),r=t.store(Ct.store);return t.store(Jn.store).get(Jn.key).next(function(o){var s=[];return r.$t(function(a,l){var f=new rt(a),d=function(v){return[0,Nr(v)]}(f);s.push(n.get(d).next(function(v){return v?se.resolve():function(h){return n.put(new an(0,Nr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return se.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Jo.store,{keyPath:Jo.keyPath});var r=n.store(Jo.store),o=new By,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return r.put({collectionId:l,parent:Nr(f)})}};return n.store(Ct.store).$t({Ft:!0},function(a,l){var f=new rt(a);return s(f.popLast())}).next(function(){return n.store(pn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=li(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Mn.store);return r.$t(function(o,s){var a=Va(s),l=fk(n.R,a);return r.put(l)})},e}();function GI(e){e.createObjectStore(an.store,{keyPath:an.keyPath}).createIndex(an.documentTargetsIndex,an.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Mn.store,{keyPath:Mn.keyPath}).createIndex(Mn.queryTargetsIndexName,Mn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Jn.store)}var fv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aj=function(){function e(t,n,r,o,s,a,l,f,d,v){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=d,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new re(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ij(this,o),this.Le=n+"main",this.R=new ck(f),this.Be=new Iu(this.Le,11,new uj(this.R)),this.qe=new ej(this.referenceDelegate,this.R),this.Ut=new JV,this.Ue=function(h,m){return new oj(h,m)}(this.R,this.Ut),this.Ke=new YV,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,v===!1&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new re(B.FAILED_PRECONDITION,fv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new nr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return Z(n,void 0,void 0,function(){return J(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return Z(n,void 0,void 0,function(){return J(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return pf(n).put(new hi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(vs(n))return ae("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Pa(t).get(Qn.key).next(function(r){return se.resolve(n.tn(r))})},e.prototype.en=function(t){return pf(t).delete(this.clientId)},e.prototype.nn=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s=this;return J(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Hn(l,hi.store);return f.Nt().next(function(d){var v=s.rn(d,18e5),h=d.filter(function(m){return v.indexOf(m)===-1});return se.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?se.resolve(!0):Pa(t).get(Qn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new re(B.FAILED_PRECONDITION,fv);return!1}}return!(!n.networkEnabled||!n.inForeground)||pf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ae("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return Z(this,void 0,void 0,function(){var t=this;return J(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qn.store,hi.store],function(r){var o=new MI(r,nr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return pf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return ZV.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ae("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,GV,function(l){return s=new MI(l,o.Ne?o.Ne.next():nr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Bt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new re(B.FAILED_PRECONDITION,sk);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Pa(t).get(Qn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new re(B.FAILED_PRECONDITION,fv)})},e.prototype.Ze=function(t){var n=new Qn(this.clientId,this.allowTabSynchronization,Date.now());return Pa(t).put(Qn.key,n)},e.yt=function(){return Iu.yt()},e.prototype.Xe=function(t){var n=this,r=Pa(t);return r.get(Qn.key).next(function(o){return n.tn(o)?(ae("IndexedDbPersistence","Releasing primary lease."),r.delete(Qn.key)):se.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Bt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),mF()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ae("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Bt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Bt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Pa(e){return Hn(e,Qn.store)}function pf(e){return Hn(e,hi.store)}function qy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gk=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):Py(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ae(n)).next(function(r){var o=ug();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,a=ug();return this.Ut.getCollectionParents(t,s).next(function(l){return se.forEach(l,function(f){var d=function(v,h){return new _i(h,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(v){v.forEach(function(h,m){a=a.insert(h,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,v=s;d<v.length;d++)for(var h=v[d],m=0,y=h.mutations;m<y.length;m++){var _=y[m],b=_.key,S=o.get(b);S==null&&(S=_n.newInvalidDocument(b),o=o.insert(b,S)),sg(_,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(b))}})}).next(function(){return o.forEach(function(l,f){Bc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=mt(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var d=f[l];d instanceof co&&r.get(d.key)===null&&(o=o.add(d.key))}var v=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(v=v.insert(m,y))}),v})},e}(),cj=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=mt(),o=mt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),yk=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Be.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(Of(n)||th(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(ng()<=tt.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),og(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new Yt(VA(t));return n.forEach(function(o,s){Bc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return ng()<=tt.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",og(n)),this.Sn.getDocumentsMatchingQuery(t,n,Be.min())},e}(),lj=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new wn(He),this.Fn=new qu(function(s){return Vc(s)},Kh),this.$n=Be.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new gk(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t,n,r){return new lj(e,t,n,r)}function wk(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s;return J(this,function(a){switch(a.label){case 0:return n=pe(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new gk(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var v=[],h=[],m=mt(),y=0,_=f;y<_.length;y++){var b=_[y];v.push(b.batchId);for(var S=0,I=b.mutations;S<I.length;S++){var R=I[S];m=m.add(R.key)}}for(var F=0,q=d;F<q.length;F++){var P=q[F];h.push(P.batchId);for(var x=0,V=P.mutations;x<V.length;x++){var N=V[x];m=m.add(N.key)}}return o.pn(l,m).next(function(M){return{Ln:M,removedBatchIds:v,addedBatchIds:h}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function fj(e,t){var n=pe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var v=f.batch,h=v.keys(),m=se.resolve();return h.forEach(function(y){m=m.next(function(){return d.getEntry(l,y)}).next(function(_){var b=f.docVersions.get(y);De(b!==null),_.version.compareTo(b)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,v)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function bk(e){var t=pe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function hj(e,t){var n=pe(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(v,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,v.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,v.addedDocuments,h)}));var y=v.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(b,S,I){return De(S.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,_,v)&&l.push(n.qe.updateTargetData(s,_))}}});var f=Or();if(t.documentUpdates.forEach(function(v,h){t.resolvedLimboDocuments.has(v)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,v))}),l.push(dj(s,a,t.documentUpdates,r,void 0).next(function(v){f=v})),!r.isEqual(Be.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(v){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(d)}return se.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function dj(e,t,n,r,o){var s=mt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Or();return n.forEach(function(f,d){var v=a.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(Be.min())?(t.removeEntry(f,h),l=l.insert(f,d)):!v.isValidDocument()||d.version.compareTo(v.version)>0||d.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(d,h),l=l.insert(f,d)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",d.version)}),l})}function pj(e,t){var n=pe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function oh(e,t){var n=pe(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,se.resolve(o)):n.qe.allocateTargetId(r).next(function(a){return o=new Xh(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Au(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return J(this,function(l){switch(l.label){case 0:r=pe(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!vs(a=l.sent()))throw a;return ae("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function sh(e,t,n){var r=pe(e),o=Be.min(),s=mt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var v=pe(l),h=v.Fn.get(d);return h!==void 0?se.resolve(v.kn.get(h)):v.qe.getTargetData(f,d)}(r,a,Zr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?o:Be.min(),n?s:mt())}).next(function(l){return{documents:l,Bn:s}})})}function Ek(e,t){var n=pe(e),r=pe(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function Ik(e){var t=pe(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var a=pe(r),l=Or(),f=Uy(s),d=Bi(o),v=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Ct.readTimeIndex,range:v},function(h,m){var y=cg(a.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:lk(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function mj(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){return[2,(t=pe(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Bi(o),a=Be.min();return s.$t({index:Ct.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=lk(f.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vj=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return se.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Rn(r.createTime)}),se.resolve()},e.prototype.getNamedQuery=function(t,n){return se.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:hk(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),se.resolve()},e}(),$y=function(){function e(){this.Wn=new Yt(Jt.Gn),this.zn=new Yt(Jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Jt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Jt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ae(new rt([])),o=new Jt(r,t),s=new Jt(r,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ae(new rt([])),r=new Jt(n,t),o=new Jt(n,t+1),s=mt();return this.zn.forEachInRange([r,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Jt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ae.comparator(t.key,n.key)||He(t.ns,n.ns)},e.Hn=function(t,n){return He(t.ns,n.ns)||Ae.comparator(t.key,n.key)},e}(),gj=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Yt(Jt.Gn)}return e.prototype.checkEmpty=function(t){return se.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new jy(s,n,r,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Jt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return se.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return se.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return se.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return se.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return se.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);a.push(f)}),se.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Yt(He);return n.forEach(function(s){var a=new Jt(s,0),l=new Jt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),se.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ae.isDocumentKey(s)||(s=s.child(""));var a=new Jt(new Ae(s),0),l=new Yt(He);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),se.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;De(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return se.forEach(n.mutations,function(s){var a=new Jt(s.key,n.batchId);return o=o.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Jt(n,0),o=this.rs.firstAfterOrEqual(r);return se.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,se.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),yj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new wn(Ae.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return se.resolve(r?r.document.clone():_n.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Or();return n.forEach(function(s){var a=r.docs.get(s);o=o.insert(s,a?a.document.clone():_n.newInvalidDocument(s))}),se.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Or(),s=new Ae(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,v=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||Bc(n,v)&&(o=o.insert(v.key,v.clone()))}return se.resolve(o)},e.prototype.fs=function(t,n){return se.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new _j(this)},e.prototype.getSize=function(t){return se.resolve(this.size)},e}(),_j=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Oe(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),se.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(vk),wj=function(){function e(t){this.persistence=t,this.ds=new qu(function(n){return Vc(n)},Kh),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ws=0,this._s=new $y,this.targetCount=0,this.ys=ih.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),se.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return se.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return se.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),se.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),se.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new ih(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,se.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),se.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,se.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),se.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return se.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return se.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),se.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),se.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),se.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return se.resolve(r)},e.prototype.containsKey=function(t,n){return se.resolve(this._s.containsKey(n))},e}(),bj=function(){function e(t,n){var r=this;this.gs={},this.Ne=new nr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new wj(this),this.Ut=new QV,this.Ue=function(o,s){return new yj(o,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new ck(n),this.Ke=new vj(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new gj(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ae("MemoryPersistence","Starting transaction:",t);var s=new Ej(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return se.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Ej=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Oe(t,e),t}(uk),Ij=function(){function e(t){this.persistence=t,this.As=new $y,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Se()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),se.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),se.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),se.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.vs,function(o){var s=Ae.fromPath(o);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return se.or([function(){return se.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),sn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e,t){return"firestore_clients_"+e+"_"+t}function WI(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function hv(e,t){return"firestore_targets_"+e+"_"+t}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");var XI=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new re(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(Bt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),dv=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new re(o.error.code,o.error.message)),s?new e(t,o.state,r):(Bt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),YI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Wh(),a=0;o&&a<r.activeTargetIds.length;++a)o=xA(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return o?new e(t,s):(Bt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Tj=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Bt("SharedClientState","Failed to parse online state: "+t),null)},e}(),lg=function(){function e(){this.activeTargetIds=Wh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),pv=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new wn(He),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=zI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new lg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s,a,l,f,d,v,h,m=this;return J(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(zI(this.persistenceKey,o)))&&(a=YI.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,v=this.$s;d<v.length;d++)h=v[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(hv(this.persistenceKey,t));if(r){var o=dv.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(hv(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ae("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ae("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ae("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ae("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Z(n,void 0,void 0,function(){var o,s,a,l,f,d;return J(this,function(v){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var m=nr.o;if(h!=null)try{var y=JSON.parse(h);De(typeof y=="number"),m=y}catch(_){Bt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==nr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new XI(this.currentUser,t,n,r),s=WI(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=WI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=hv(this.persistenceKey,t),s=new dv(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return YI.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return XI.Vs(new sn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return dv.Vs(o,n)},e.prototype.js=function(t){return Tj.Vs(t)},e.prototype.ii=function(t){return Z(this,void 0,void 0,function(){return J(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ae("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Wh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),Tk=function(){function e(){this.li=new lg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new lg,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Sj=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),QI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),Aj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},kj=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),Cj=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Oe(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(a,l){var f=new oV;f.listenOnce(nV.COMPLETE,function(){try{switch(f.getLastErrorCode()){case lv.NO_ERROR:var v=f.getResponseJson();ae("Connection","XHR received:",JSON.stringify(v)),a(v);break;case lv.TIMEOUT:ae("Connection",'RPC "'+n+'" timed out'),l(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case lv.HTTP_ERROR:var h=f.getStatus();if(ae("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var b=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(b)>=0?b:B.UNKNOWN}(m.status);l(new re(y,m.message))}else l(new re(B.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new re(B.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ae("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=eV(),a=tV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new iV({})),this.ki(l.initMessageHeaders,r),aF()||fF()||hF()||dF()||pF()||lF()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ae("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),v=!1,h=!1,m=new kj({Ei:function(_){h?ae("Connection","Not sending because WebChannel is closed:",_):(v||(ae("Connection","Opening WebChannel transport."),d.open(),v=!0),ae("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),y=function(_,b,S){_.listen(b,function(I){try{S(I)}catch(R){setTimeout(function(){throw R},0)}})};return y(d,lf.EventType.OPEN,function(){h||ae("Connection","WebChannel transport opened.")}),y(d,lf.EventType.CLOSE,function(){h||(h=!0,ae("Connection","WebChannel transport closed"),m.Vi())}),y(d,lf.EventType.ERROR,function(_){h||(h=!0,Yf("Connection","WebChannel transport errored:",_),m.Vi(new re(B.UNAVAILABLE,"The operation could not be completed")))}),y(d,lf.EventType.MESSAGE,function(_){var b;if(!h){var S=_.data[0];De(!!S);var I=S,R=I.error||((b=I[0])===null||b===void 0?void 0:b.error);if(R){ae("Connection","WebChannel received error:",R);var F=R.status,q=function(x){var V=Vt[x];if(V!==void 0)return WA(V)}(F),P=R.message;q===void 0&&(q=B.INTERNAL,P="Unknown error status: "+F+" with message "+R.message),h=!0,m.Vi(new re(q,P)),d.close()}else ae("Connection","WebChannel received:",S),m.Si(S)}}),y(a,rV.STAT_EVENT,function(_){_.stat===pI.PROXY?ae("Connection","Detected buffering proxy"):_.stat===pI.NOPROXY&&ae("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ae("RestConnection","Sending: ",s,r);var a={};return this.ki(a,o),this.Fi(t,s,a,r).then(function(l){return ae("RestConnection","Received: ",l),l},function(l){throw Yf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=Aj[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(){return typeof window<"u"?window:null}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e){return new DV(e,!0)}var Hy=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ae("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Ak=function(){function e(t,n,r,o,s,a){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Hy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return Z(this,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===B.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new re(B.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Z(t,void 0,void 0,function(){return J(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ae("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Oj=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,a)||this).R=s,l}return Oe(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Se()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],v=function(S,I){return S.I?(De(I===void 0||typeof I=="string"),qn.fromBase64String(I||"")):(De(I===void 0||I instanceof Uint8Array),qn.fromUint8Array(I||new Uint8Array))}(s,a.targetChange.resumeToken),h=(m=a.targetChange.cause)&&function(S){var I=S.code===void 0?B.UNKNOWN:WA(S.code);return new re(I,S.message||"")}(m);l=new YA(f,d,v,h||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=fi(s,f.document.name),v=Rn(f.document.updateTime);var m=new Zn({mapValue:{fields:f.document.fields}}),y=(h=_n.newFoundDocument(d,v,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new Rf(y,_,h.key,h)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=fi(s,f.document),v=f.readTime?Rn(f.readTime):Be.min(),m=_n.newNoDocument(d,v),h=f.removedTargetIds||[],l=new Rf([],h,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=fi(s,f.document),v=f.removedTargetIds||[],l=new Rf([],v,d,null);else{if(!("filter"in a))return Se();a.filter;var b=a.filter;b.targetId,f=b.count||0,d=new TV(f),v=b.targetId,l=new XA(v,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Be.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?Rn(a.readTime):Be.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=yc(this.R),r.addTarget=function(s,a){var l,f=a.target;return(l=Zf(f)?{documents:tk(s,f)}:{query:nk(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=QA(s,a.resumeToken):a.snapshotVersion.compareTo(Be.min())>0&&(l.readTime=vc(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Se()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=yc(this.R),r.removeTarget=n,this.cr(r)},t}(Ak),Nj=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,a)||this).R=s,l.gr=!1,l}return Oe(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(De(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(De(a!==void 0),s.map(function(l){return function(f,d){var v=f.updateTime?Rn(f.updateTime):Rn(d);return v.isEqual(Be.min())&&(v=Rn(d)),new bV(v,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Rn(n.commitTime);return this.listener.Tr(o,r)}return De(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=yc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return nh(r.R,s)})};this.cr(o)},t}(Ak),Rj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Oe(t,e),t.prototype.br=function(){if(this.Rr)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new re(B.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new re(B.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),xj=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Bt(n),this.Vr=!1):ae("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Pj=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return Z(s,void 0,void 0,function(){return J(this,function(l){switch(l.label){case 0:return lo(this)?(ae("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return Z(this,void 0,void 0,function(){var d;return J(this,function(v){switch(v.label){case 0:return(d=pe(f)).Or.add(4),[4,$u(d)];case 1:return v.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Kc(d)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new xj(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(e){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:if(!lo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function $u(e){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Qh(e,t){var n=pe(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),zy(n)?Gy(n):Ku(n).er()&&Ky(n,t))}function _c(e,t){var n=pe(e),r=Ku(n);n.$r.delete(t),r.er()&&kk(n,t),n.$r.size===0&&(r.er()?r.ir():lo(n)&&n.Br.set("Unknown"))}function Ky(e,t){e.qr.U(t.targetId),Ku(e).mr(t)}function kk(e,t){e.qr.U(t),Ku(e).yr(t)}function Gy(e){e.qr=new RV({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ku(e).start(),e.Br.Sr()}function zy(e){return lo(e)&&!Ku(e).tr()&&e.$r.size>0}function lo(e){return pe(e).Or.size===0}function Ck(e){e.qr=void 0}function Dj(e){return Z(this,void 0,void 0,function(){return J(this,function(t){return e.$r.forEach(function(n,r){Ky(e,n)}),[2]})})}function Lj(e,t){return Z(this,void 0,void 0,function(){return J(this,function(n){return Ck(e),zy(e)?(e.Br.Nr(t),Gy(e)):e.Br.set("Unknown"),[2]})})}function Fj(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s;return J(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof YA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return Z(this,void 0,void 0,function(){var d,v,h,m;return J(this,function(y){switch(y.label){case 0:d=f.cause,v=0,h=f.targetIds,y.label=1;case 1:return v<h.length?(m=h[v],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ae("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,uh(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Rf?e.qr.X(t):t instanceof XA?e.qr.rt(t):e.qr.et(t),n.isEqual(Be.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,bk(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(v,h){if(v.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(v.resumeToken,f))}}),d.targetMismatches.forEach(function(v){var h=l.$r.get(v);if(h){l.$r.set(v,h.withResumeToken(qn.EMPTY_BYTE_STRING,h.snapshotVersion)),kk(l,v);var m=new Xh(h.target,v,1,h.sequenceNumber);Ky(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ae("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,uh(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function uh(e,t,n){return Z(this,void 0,void 0,function(){var r=this;return J(this,function(o){switch(o.label){case 0:if(!vs(t))throw t;return e.Or.add(1),[4,$u(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return bk(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return J(this,function(s){switch(s.label){case 0:return ae("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Kc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function Ok(e,t){return t().catch(function(n){return uh(e,n,t)})}function Hu(e){return Z(this,void 0,void 0,function(){var t,n,r,o,s;return J(this,function(a){switch(a.label){case 0:t=pe(e),n=oo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return lo(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,pj(t.localStore,r)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var d=oo(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,uh(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Nk(t)&&Rk(t),[2]}})})}function Nk(e){return lo(e)&&!oo(e).tr()&&e.Fr.length>0}function Rk(e){oo(e).start()}function Mj(e){return Z(this,void 0,void 0,function(){return J(this,function(t){return oo(e).Ar(),[2]})})}function Vj(e){return Z(this,void 0,void 0,function(){var t,n,r,o;return J(this,function(s){for(t=oo(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function jj(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=XV.from(r,t,n),[4,Ok(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Hu(e)];case 2:return s.sent(),[2]}})})}function Uj(e,t){return Z(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return t&&oo(e).pr?[4,function(r,o){return Z(this,void 0,void 0,function(){var s,a;return J(this,function(l){switch(l.label){case 0:return zA(a=o.code)&&a!==B.ABORTED?(s=r.Fr.shift(),oo(r).sr(),[4,Ok(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Hu(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Nk(e)&&Rk(e),[2]}})})}function fg(e,t){return Z(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return n=pe(e),t?(n.Or.delete(2),[4,Kc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,$u(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ku(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=pe(n);return s.br(),new Oj(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:Dj.bind(null,e),Ri:Lj.bind(null,e),_r:Fj.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),zy(e)?Gy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Ck(e),r.label=3;case 3:return[2]}})})})),e.Ur}function oo(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=pe(n);return s.br(),new Nj(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:Mj.bind(null,e),Ri:Uj.bind(null,e),Ir:Vj.bind(null,e),Tr:jj.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Hu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ae("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var Bj=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,o,s){var a=new e(t,n,Date.now()+r,o,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Gu(e,t){if(Bt("AsyncQueue",t+": "+e),vs(e))return new re(B.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xk=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ae.comparator(n.key,r.key)}:function(n,r){return Ae.comparator(n.key,r.key)},this.keyedMap=ug(),this.sortedSet=new wn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),JI=function(){function e(){this.Qr=new wn(Ae.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Se():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),ah=function(){function e(t,n,r,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,xk.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),qj=function(){this.Wr=void 0,this.listeners=[]},$j=function(){this.queries=new qu(function(e){return MA(e)},Uc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a,l,f;return J(this,function(d){switch(d.label){case 0:if(n=pe(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new qj),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Gu(l,"Initialization of query '"+og(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Yy(n),[2]}})})}function Xy(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a;return J(this,function(l){return n=pe(e),r=t.query,o=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Hj(e,t){for(var n=pe(e),r=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,v=f.listeners;d<v.length;d++)v[d].Hr(a)&&(r=!0);f.Wr=a}}r&&Yy(n)}function Kj(e,t,n){var r=pe(e),o=r.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function Yy(e){e.Gr.forEach(function(t){t.next()})}var Qy=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new ah(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=ah.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pk=function(e){this.key=e},Dk=function(e){this.key=e},Lk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=mt(),this.mutatedKeys=mt(),this.lo=VA(t),this.fo=new xk(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new JI,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=Of(this.query)&&s.size===this.query.limit?s.last():null,v=th(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),b=Bc(r.query,y)?y:null,S=!!_&&r.mutatedKeys.has(_.key),I=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),R=!1;_&&b?_.data.isEqual(b.data)?S!==I&&(o.track({type:3,doc:b}),R=!0):r.yo(_,b)||(o.track({type:2,doc:b}),R=!0,(d&&r.lo(b,d)>0||v&&r.lo(b,v)<0)&&(f=!0)):!_&&b?(o.track({type:0,doc:b}),R=!0):_&&!b&&(o.track({type:1,doc:_}),R=!0,(d||v)&&(f=!0)),R&&(b?(l=l.add(b),a=I?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Of(this.query)||th(this.query))for(;l.size>this.query.limit;){var h=Of(this.query)?l.last():l.first();l=l.delete(h.key),a=a.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(v,h){return function(m,y){var _=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return _(m)-_(y)}(v.type,h.type)||o.lo(v.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new ah(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new JI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=mt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new Dk(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new Pk(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=mt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return ah.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),Gj=function(e,t,n){this.query=e,this.targetId=t,this.view=n},zj=function(e){this.key=e,this.bo=!1},Wj=function(){function e(t,n,r,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new qu(function(l){return MA(l)},Uc),this.Vo=new Map,this.So=new Set,this.Do=new wn(Ae.comparator),this.Co=new Map,this.No=new $y,this.xo={},this.ko=new Map,this.Fo=ih.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function Xj(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a,l;return J(this,function(f){switch(f.label){case 0:return n=n_(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,oh(n.localStore,Zr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Jy(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Qh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Jy(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,a,l,f,d;return J(this,function(v){switch(v.label){case 0:return e.Oo=function(h,m,y){return function(_,b,S,I){return Z(this,void 0,void 0,function(){var R,F,q;return J(this,function(P){switch(P.label){case 0:return R=b.view._o(S),R.Nn?[4,sh(_.localStore,b.query,!1).then(function(x){var V=x.documents;return b.view._o(V,R)})]:[3,2];case 1:R=P.sent(),P.label=2;case 2:return F=I&&I.targetChanges.get(b.targetId),q=b.view.applyChanges(R,_.isPrimaryClient,F),[2,(hg(_,b.targetId,q.To),q.snapshot)]}})})}(e,h,m,y)},[4,sh(e.localStore,t,!0)];case 1:return o=v.sent(),s=new Lk(t,o.Bn),a=s._o(o.documents),l=Fy.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),hg(e,n,f.To),d=new Gj(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function Yj(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:return n=pe(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(a){return!Uc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Au(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),_c(n.remoteStore,r.targetId),ku(n,r.targetId)}).catch(gs)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ku(n,r.targetId),[4,Au(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Qj(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return J(this,function(l){switch(l.label){case 0:r=r_(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var v,h=pe(f),m=Un.now(),y=d.reduce(function(_,b){return _.add(b.key)},mt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(b){v=b;for(var S=[],I=0,R=d;I<R.length;I++){var F=R[I],q=IV(F,v.get(F.key));q!=null&&S.push(new co(F.key,q,PA(q.value.mapValue),gn.exists(!0)))}return h._n.addMutationBatch(_,m,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(v),{batchId:_.batchId,changes:v}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,v){var h=f.xo[f.currentUser.toKey()];h||(h=new wn(He)),h=h.insert(d,v),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,fo(r,o.changes)];case 3:return l.sent(),[4,Hu(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Gu(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Fk(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:n=pe(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hj(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(De(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?De(l.bo):s.removedDocuments.size>0&&(De(l.bo),l.bo=!1))}),[4,fo(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,gs(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ZI(e,t,n){var r=pe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=pe(s);l.onlineState=a;var f=!1;l.queries.forEach(function(d,v){for(var h=0,m=v.listeners;h<m.length;h++)m[h].zr(a)&&(f=!0)}),f&&Yy(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Jj(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a,l,f;return J(this,function(d){switch(d.label){case 0:return(r=pe(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(a=(a=new wn(Ae.comparator)).insert(s,_n.newNoDocument(s,Be.min())),l=mt().add(s),f=new Ly(Be.min(),new Map,new Yt(He),a,l),[4,Fk(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),t_(r),[3,4];case 2:return[4,Au(r.localStore,t,!1).then(function(){return ku(r,t,n)}).catch(gs)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function Zj(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:n=pe(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,fj(n.localStore,t)];case 2:return o=s.sent(),e_(n,r,null),Zy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,fo(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,gs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function eU(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:r=pe(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=pe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var v;return f._n.lookupMutationBatch(d,l).next(function(h){return De(h!==null),v=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,v)})})}(r.localStore,t)];case 2:return o=s.sent(),e_(r,t,n),Zy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,fo(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,gs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function tU(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a;return J(this,function(l){switch(l.label){case 0:lo((n=pe(e)).remoteStore)||ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=pe(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return d._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),a=Gu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Zy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function e_(e,t,n){var r=pe(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function ku(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||Mk(e,a)})}function Mk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(_c(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),t_(e))}function hg(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof Pk?(e.No.addReference(s.key,t),nU(e,s)):s instanceof Dk?(ae("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Mk(e,s.key)):Se()}}function nU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ae("SyncEngine","New document in limbo: "+n),e.So.add(r),t_(e))}function t_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ae(rt.fromString(t)),r=e.Fo.next();e.Co.set(r,new zj(n)),e.Do=e.Do.insert(n,r),Qh(e.remoteStore,new Xh(Zr(jc(n.path)),r,2,nr.o))}}function fo(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return J(this,function(l){switch(l.label){case 0:return r=pe(e),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){a.push(r.Oo(d,t,n).then(function(v){if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,v.fromCache?"not-current":"current"),o.push(v);var h=cj.Pn(d.targetId,v);s.push(h)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,d){return Z(this,void 0,void 0,function(){var v,h,m,y,_,b,S,I,R;return J(this,function(F){switch(F.label){case 0:v=pe(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return se.forEach(d,function(P){return se.forEach(P.bn,function(x){return v.persistence.referenceDelegate.addReference(q,P.targetId,x)}).next(function(){return se.forEach(P.vn,function(x){return v.persistence.referenceDelegate.removeReference(q,P.targetId,x)})})})})];case 2:return F.sent(),[3,4];case 3:if(!vs(h=F.sent()))throw h;return ae("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=d;m<y.length;m++)_=y[m],b=_.targetId,_.fromCache||(S=v.kn.get(b),I=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(I),v.kn=v.kn.insert(b,R));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function rU(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:return(n=pe(e)).currentUser.isEqual(t)?[3,3]:(ae("SyncEngine","User change. New user:",t.toKey()),[4,wk(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new re(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,fo(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function iU(e,t){var n=pe(e),r=n.Co.get(t);if(r&&r.bo)return mt().add(r.key);var o=mt(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function oU(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:return[4,sh((n=pe(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&hg(n,t.targetId,o.To),o)]}})})}function sU(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){return[2,Ik((t=pe(e)).localStore).then(function(r){return fo(t,r)})]})})}function uU(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s;return J(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=pe(l),v=pe(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return v.jt(h,f).next(function(m){return m?d.Mn.pn(h,m):se.resolve(null)})})}((o=pe(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Hu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(e_(o,t,r||null),Zy(o,t),function(l,f){pe(pe(l)._n).Gt(f)}(o.localStore,t)):Se(),a.label=4;case 4:return[4,fo(o,s)];case 5:return a.sent(),[3,7];case 6:ae("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function aU(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a,l,f,d;return J(this,function(v){switch(v.label){case 0:return n_(n=pe(e)),r_(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,eT(n,r.toArray())]);case 1:return o=v.sent(),n.$o=!0,[4,fg(n.remoteStore,!0)];case 2:for(v.sent(),s=0,a=o;s<a.length;s++)l=a[s],Qh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):d=d.then(function(){return ku(n,m),Au(n.localStore,m,!0)}),_c(n.remoteStore,m)}),[4,d]);case 4:return v.sent(),[4,eT(n,f)];case 5:return v.sent(),function(h){var m=pe(h);m.Co.forEach(function(y,_){_c(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new wn(Ae.comparator)}(n),n.$o=!1,[4,fg(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function eT(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a,l,f,d,v,h,m,y,_,b,S;return J(this,function(I){switch(I.label){case 0:r=pe(e),o=[],s=[],a=0,l=t,I.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(v=r.Vo.get(f))&&v.length!==0?[4,oh(r.localStore,Zr(v[0]))]:[3,7]):[3,13];case 2:d=I.sent(),h=0,m=v,I.label=3;case 3:return h<m.length?(y=m[h],_=r.Po.get(y),[4,oU(r,_)]):[3,6];case 4:(b=I.sent()).snapshot&&s.push(b.snapshot),I.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ek(r.localStore,f)];case 8:return S=I.sent(),[4,oh(r.localStore,S)];case 9:return d=I.sent(),[4,Jy(r,Vk(S),f,!1)];case 10:I.sent(),I.label=11;case 11:o.push(d),I.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function Vk(e){return LA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function cU(e){var t=pe(e);return pe(pe(t.localStore).persistence).fn()}function lU(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,a;return J(this,function(l){switch(l.label){case 0:return(o=pe(e)).$o?(ae("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ik(o.localStore)];case 3:return s=l.sent(),a=Ly.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,fo(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Au(o.localStore,t,!0)];case 6:return l.sent(),ku(o,t,r),[3,8];case 7:Se(),l.label=8;case 8:return[2]}})})}function fU(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a,l,f,d,v,h,m;return J(this,function(y){switch(y.label){case 0:if(!(r=n_(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(a=s[o],r.Vo.has(a)?(ae("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ek(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,oh(r.localStore,l)];case 3:return f=y.sent(),[4,Jy(r,Vk(l),f.targetId,!1)];case 4:y.sent(),Qh(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:d=function(_){return J(this,function(b){switch(b.label){case 0:return r.Vo.has(_)?[4,Au(r.localStore,_,!1).then(function(){_c(r.remoteStore,_),ku(r,_)}).catch(gs)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},v=0,h=n,y.label=7;case 7:return v<h.length?(m=h[v],[5,d(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function n_(e){var t=pe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jj.bind(null,t),t.vo._r=Hj.bind(null,t.eventManager),t.vo.Mo=Kj.bind(null,t.eventManager),t}function r_(e){var t=pe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eU.bind(null,t),t}var jk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return Z(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return this.R=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return _k(this.persistence,new yk,t.initialUser,this.R)},e.prototype.qo=function(t){return new bj(Ij.bs,this.R)},e.prototype.Bo=function(t){return new Tk},e.prototype.terminate=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Uk=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Oe(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r=this;return J(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,mj(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,r_(this.Qo.syncEngine)];case 4:return o.sent(),[4,Hu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return _k(this.persistence,new yk,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new nj(r,n.asyncQueue)},t.prototype.qo=function(n){var r=qy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new aj(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,Sk(),xf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Tk},t}(jk),hU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Oe(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r,o=this;return J(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof pv?(this.sharedClientState.syncEngine={ui:uU.bind(null,r),ai:lU.bind(null,r),hi:fU.bind(null,r),fn:cU.bind(null,r),ci:sU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return Z(o,void 0,void 0,function(){return J(this,function(l){switch(l.label){case 0:return[4,aU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Sk();if(!pv.yt(r))throw new re(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=qy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new pv(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(Uk),dg=function(){function e(){}return e.prototype.initialize=function(t,n){return Z(this,void 0,void 0,function(){var r=this;return J(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return ZI(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=rU.bind(null,this.syncEngine),[4,fg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new $j},e.prototype.createDatastore=function(t){var n,r=Yh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new Cj(n));return function(s,a,l){return new Rj(s,a,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,a,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return ZI(l.syncEngine,f,0)},a=QI.yt()?new QI:new Sj,new Pj(n,r,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,a,l,f,d){var v=new Wj(r,o,s,a,l,f);return d&&(v.$o=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return Z(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return n=pe(t),ae("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,$u(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),dU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return J(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new re(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return Z(this,void 0,void 0,function(){var l,f,d,v,h,m;return J(this,function(y){switch(y.label){case 0:return l=pe(s),f=yc(l.R)+"/documents",d={documents:a.map(function(_){return gc(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return v=y.sent(),h=new Map,v.forEach(function(_){var b=function(S,I){return"found"in I?function(R,F){De(!!F.found),F.found.name,F.found.updateTime;var q=fi(R,F.found.name),P=Rn(F.found.updateTime),x=new Zn({mapValue:{fields:F.found.fields}});return _n.newFoundDocument(q,P,x)}(S,I):"missing"in I?function(R,F){De(!!F.missing),De(!!F.readTime);var q=fi(R,F.missing),P=Rn(F.readTime);return _n.newNoDocument(q,P)}(S,I):Se()}(l.R,_);h.set(b.key.toString(),b)}),m=[],[2,(a.forEach(function(_){var b=h.get(_.toString());De(!!b),m.push(b)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Hc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return Z(this,void 0,void 0,function(){var t,n=this;return J(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=Ae.fromPath(s);n.mutations.push(new Dy(a,n.precondition(a)))}),[4,function(o,s){return Z(this,void 0,void 0,function(){var a,l,f;return J(this,function(d){switch(d.label){case 0:return a=pe(o),l=yc(a.R)+"/documents",f={writes:s.map(function(v){return nh(a.R,v)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Se();n=Be.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new re(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?gn.updateTime(n):gn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Be.min()))throw new re(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),pU=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new Hy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Z(t,void 0,void 0,function(){var n,r,o=this;return J(this,function(s){return n=new dU(this.datastore),(r=this.sc(n))&&r.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!ms(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!zA(n)}return!1},e}(),mU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sn.UNAUTHENTICATED,this.clientId=kA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return Z(o,void 0,void 0,function(){return J(this,function(a){switch(a.label){case 0:return ae("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return Z(this,void 0,void 0,function(){return J(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Z(t,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Gu(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(e,t){return Z(this,void 0,void 0,function(){var n,r,o=this;return J(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return Z(o,void 0,void 0,function(){return J(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,wk(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function qk(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,i_(e)];case 1:return n=o.sent(),ae("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return Z(this,void 0,void 0,function(){var f,d;return J(this,function(v){switch(v.label){case 0:return(f=pe(a)).asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials"),d=lo(f),f.Or.add(3),[4,$u(f)];case 1:return v.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return v.sent(),f.Or.delete(3),[4,Kc(f)];case 3:return v.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function i_(e){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ae("FirestoreClient","Using default OfflineComponentProvider"),[4,Bk(e,new jk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Zh(e){return Z(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ae("FirestoreClient","Using default OnlineComponentProvider"),[4,qk(e,new dg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function tT(e){return i_(e).then(function(t){return t.persistence})}function $k(e){return i_(e).then(function(t){return t.localStore})}function nT(e){return Zh(e).then(function(t){return t.remoteStore})}function Hk(e){return Zh(e).then(function(t){return t.syncEngine})}function Cu(e){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:return[4,Zh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Xj.bind(null,t.syncEngine),n.onUnlisten=Yj.bind(null,t.syncEngine),n)]}})})}function rT(e,t,n){var r=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(a){switch(a.label){case 0:return s=function(l,f,d,v,h){var m=new Jh({next:function(_){f.enqueueAndForget(function(){return Xy(l,y)});var b=_.docs.has(d);!b&&_.fromCache?h.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&v&&v.source==="server"?h.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Qy(jc(d.path),m,{includeMetadataChanges:!0,so:!0});return Wy(l,y)},[4,Cu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function iT(e,t,n){var r=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(a){switch(a.label){case 0:return s=function(l,f,d,v,h){var m=new Jh({next:function(_){f.enqueueAndForget(function(){return Xy(l,y)}),_.fromCache&&v.source==="server"?h.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Qy(d,m,{includeMetadataChanges:!0,so:!0});return Wy(l,y)},[4,Cu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var vU=function(e,t,n,r,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},ch=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),oT=new Map,Kk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},sT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(sn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),gU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),yU=function(){function e(t){var n=this;this.currentUser=sn.UNAUTHENTICATED,this.oc=new $n,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ae("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ae("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ae("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(De(typeof o.accessToken=="string"),new Kk(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return J(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return De(t===null||typeof t=="string"),new sn(t)},e}(),_U=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=sn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),wU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new _U(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(sn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(e,t,n){if(!n)throw new re(B.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function s_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new re(B.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Gk(e,t,n,r){if(t===!0&&r===!0)throw new re(B.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function uT(e){if(!Ae.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function aT(e){if(Ae.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ed(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Se()}function ot(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ed(e);throw new re(B.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function cT(e,t){if(t<=0)throw new re(B.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lT=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Gk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),wc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1,t instanceof ch?(this._databaseId=t,this._credentials=new sT):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(r.options.projectId)}(t),this._credentials=new yU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new sT;switch(n.type){case"gapi":var r=n.client;return De(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new wU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new re(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=oT.get(t))&&(ae("ComponentProvider","Removing Datastore"),oT.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Tt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ji(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ir=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ji=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,jc(o))||this)._path=o,s.type="collection",s}return Oe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Tt(this.firestore,null,new Ae(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=dt(e),o_("collection","path",t),e instanceof wc)return aT(n=rt.fromString.apply(rt,bt([t],r))),new Ji(e,null,n);if(!(e instanceof Tt||e instanceof Ji))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aT(n=rt.fromString.apply(rt,bt([e.path],r)).child(rt.fromString(t))),new Ji(e.firestore,null,n)}function Pf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=dt(e),arguments.length===1&&(t=kA.u()),o_("doc","path",t),e instanceof wc)return uT(n=rt.fromString.apply(rt,bt([t],r))),new Tt(e,null,new Ae(n));if(!(e instanceof Tt||e instanceof Ji))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uT(n=e._path.child(rt.fromString.apply(rt,bt([t],r)))),new Tt(e.firestore,e instanceof Ji?e.converter:null,new Ae(n))}function Wk(e,t){return e=dt(e),t=dt(t),(e instanceof Tt||e instanceof Ji)&&(t instanceof Tt||t instanceof Ji)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xk(e,t){return e=dt(e),t=dt(t),e instanceof ir&&t instanceof ir&&e.firestore===t.firestore&&Uc(e._query,t._query)&&e.converter===t.converter}var bU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Hy(this,"async_queue_retry"),this.Ic=function(){var r=xf();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=xf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new $n;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return Z(this,void 0,void 0,function(){var t,n=this;return J(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!vs(t=r.sent()))throw t;return ae("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=Bj.createAndSchedule(this,t,n,r,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Se()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Ou(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var EU=-1,zt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new bU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Oe(t,e),t.prototype._terminate=function(){return this._firestoreClient||Yk(this),this._firestoreClient.terminate()},t}(wc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(e){return e._firestoreClient||Yk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yk(e){var t,n=e._freezeSettings(),r=function(o,s,a,l){return new vU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mU(e._credentials,e._queue,r)}function fT(e,t,n){var r=this,o=new $n;return e.asyncQueue.enqueue(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Bk(e,n)];case 1:return a.sent(),[4,qk(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===B.FAILED_PRECONDITION||l.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function hT(e){if(e._initialized||e._terminated)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),cs=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(qn.fromBase64String(t))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(qn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ys=function(e){this._methodName=e},td=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return He(this._lat,t._lat)||He(this._long,t._long)},e}(),IU=/^__.*__$/,TU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new co(t,this.data,this.fieldMask,n,this.fieldTransforms):new $c(t,this.data,n,this.fieldTransforms)},e}(),Qk=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new co(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}var Zk=function(){function e(t,n,r,o,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return lh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Jk(this.Nc)&&IU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),SU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Yh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new Zk({Nc:t,methodName:n,qc:r,path:xr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function _s(e){var t=e._freezeSettings(),n=Yh(e._databaseId);return new SU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nd(e,t,n,r,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);l_("Data must be an object, but it was:",a,r);var l,f,d=nC(r,a);if(s.merge)l=new mu(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var v=[],h=0,m=s.mergeFields;h<m.length;h++){var y=pg(t,m[h],n);if(!a.contains(y))throw new re(B.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");iC(v,y)||v.push(y)}l=new mu(v),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new TU(new Zn(d),l,f)}var u_=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ys);function eC(e,t,n){return new Zk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var AU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype._toFieldTransform=function(n){return new qc(n.path,new _u)},t.prototype.isEqual=function(n){return n instanceof t},t}(ys),kU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Oe(t,e),t.prototype._toFieldTransform=function(n){var r=eC(this,n,!0),o=this.Kc.map(function(a){return ws(a,r)}),s=new us(o);return new qc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ys),CU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Oe(t,e),t.prototype._toFieldTransform=function(n){var r=eC(this,n,!0),o=this.Kc.map(function(a){return ws(a,r)}),s=new as(o);return new qc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ys),OU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Oe(t,e),t.prototype._toFieldTransform=function(n){var r=new wu(n.R,BA(n.R,this.Qc));return new qc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(ys);function a_(e,t,n,r){var o=e.Uc(1,t,n);l_("Data must be an object, but it was:",o,r);var s=[],a=Zn.empty();ps(r,function(f,d){var v=f_(t,f,n);d=dt(d);var h=o.Oc(v);if(d instanceof u_)s.push(v);else{var m=ws(d,h);m!=null&&(s.push(v),a.set(v,m))}});var l=new mu(s);return new Qk(a,l,o.fieldTransforms)}function c_(e,t,n,r,o,s){var a=e.Uc(1,t,n),l=[pg(t,r,n)],f=[o];if(s.length%2!=0)throw new re(B.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(pg(t,s[d])),f.push(s[d+1]);for(var v=[],h=Zn.empty(),m=l.length-1;m>=0;--m)if(!iC(v,l[m])){var y=l[m],_=f[m];_=dt(_);var b=a.Oc(y);if(_ instanceof u_)v.push(y);else{var S=ws(_,b);S!=null&&(v.push(y),h.set(y,S))}}var I=new mu(v);return new Qk(h,I,a.fieldTransforms)}function tC(e,t,n,r){return r===void 0&&(r=!1),ws(n,e.Uc(r?4:3,t))}function ws(e,t){if(rC(e=dt(e)))return l_("Unsupported field value:",t,e),nC(e,t);if(e instanceof ys)return function(n,r){if(!Jk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=ws(l[a],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BA(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Un.fromDate(n);return{timestampValue:vc(r.R,o)}}if(n instanceof Un)return o=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:vc(r.R,o)};if(n instanceof td)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cs)return{bytesValue:QA(r.R,n._byteString)};if(n instanceof Tt){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:My(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+ed(n))}(e,t)}function nC(e,t){var n={};return OA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ps(e,function(r,o){var s=ws(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof td||e instanceof cs||e instanceof Tt||e instanceof ys)}function l_(e,t,n){if(!rC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=ed(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function pg(e,t,n){if((t=dt(t))instanceof Wr)return t._internalPath;if(typeof t=="string")return f_(e,t);throw lh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var NU=new RegExp("[~\\*/\\[\\]]");function f_(e,t,n){if(t.search(NU)>=0)throw lh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Wr.bind.apply(Wr,bt([void 0],t.split("."))))()._internalPath}catch{throw lh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function lh(e,t,n,r,o){var s=r&&!r.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+r),a&&(f+=" in document "+o),f+=")"),new re(B.INVALID_ARGUMENT,(l+=". ")+e+f)}function iC(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new RU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(fh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),RU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(bc);function fh(e,t){return typeof t=="string"?f_(e,t):t instanceof Wr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),di=function(e){function t(n,r,o,s,a,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Oe(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(fh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(bc),Ga=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(di),Ki=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ga(r._firestore,r._userDataWriter,o.key,o,new Wo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ga(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Wo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ga(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Wo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,v=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(v=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:xU(l.type),doc:f,oldIndex:d,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function xU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function oC(e,t){return e instanceof di&&t instanceof di?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ki&&t instanceof Ki&&e._firestore===t._firestore&&Xk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(e){if(th(e)&&e.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gc=function(){};function Li(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var PU=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Oe(t,e),t.prototype._apply=function(n){var r=_s(n.firestore),o=function(s,a,l,f,d,v,h){var m;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new re(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){gT(h,v);for(var y=[],_=0,b=h;_<b.length;_++){var S=b[_];y.push(vT(f,s,S))}m={arrayValue:{values:y}}}else m=vT(f,s,h)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||gT(h,v),m=tC(l,"where",h,v==="in"||v==="not-in");var I=rr.create(d,v,m);return function(R,F){if(F.g()){var q=xy(R);if(q!==null&&!q.isEqual(F.field))throw new re(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+F.field.toString()+"'");var P=Ry(R);P!==null&&aC(R,F.field,P)}var x=function(V,N){for(var M=0,k=V.filters;M<k.length;M++){var Te=k[M];if(N.indexOf(Te.op)>=0)return Te.op}return null}(R,function(V){switch(V){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(x!==null)throw x===F.op?new re(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new re(B.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+x.toString()+"' filters.")}(s,I),I}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ir(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new _i(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Gc),DU=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Oe(t,e),t.prototype._apply=function(n){var r=function(o,s,a){if(o.startAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new ou(s,a);return function(f,d){if(Ry(f)===null){var v=xy(f);v!==null&&aC(f,v,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new ir(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new _i(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Gc),dT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Oe(t,e),t.prototype._apply=function(n){return new ir(n.firestore,n.converter,FA(n._query,this.Hc,this.Jc))},t}(Gc),pT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Oe(t,e),t.prototype._apply=function(n){var r=uC(n,this.type,this.Yc,this.Xc);return new ir(n.firestore,n.converter,function(o,s){return new _i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Gc),mT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Oe(t,e),t.prototype._apply=function(n){var r=uC(n,this.type,this.Yc,this.Xc);return new ir(n.firestore,n.converter,function(o,s){return new _i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Gc);function uC(e,t,n,r){if(n[0]=dt(n[0]),n[0]instanceof bc)return function(s,a,l,f,d){if(!f)throw new re(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var v=[],h=0,m=yu(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())v.push(Jf(a,f.key));else{var _=f.data.field(y.field);if(Cy(_))throw new re(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var b=y.field.canonicalString();throw new re(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}v.push(_)}}return new mc(v,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=_s(e.firestore);return function(s,a,l,f,d,v){var h=s.explicitOrderBy;if(d.length>h.length)throw new re(B.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<d.length;y++){var _=d[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new re(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!Py(s)&&_.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var b=s.path.child(rt.fromString(_));if(!Ae.isDocumentKey(b))throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var S=new Ae(b);m.push(Jf(a,S))}else{var I=tC(l,f,_);m.push(I)}}return new mc(m,v)}(e._query,e.firestore._databaseId,o,t,n,r)}function vT(e,t,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Py(t)&&n.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(rt.fromString(n));if(!Ae.isDocumentKey(r))throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Jf(e,new Ae(r))}if(n instanceof Tt)return Jf(e,n._key);throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ed(n)+".")}function gT(e,t){if(!Array.isArray(e)||e.length===0)throw new re(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new re(B.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function aC(e,t,n){if(!n.isEqual(t))throw new re(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h_=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(vu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Se()}},e.prototype.convertObject=function(t,n){var r=this,o={};return ps(t.fields,function(s,a){o[s]=r.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new td(jt(t.latitude),jt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=RA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=io(t);return new Un(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=rt.fromString(t);De(ok(r));var o=new ch(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return o.isEqual(n)||Bt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var LU=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Oe(t,e),t.prototype.convertBytes=function(n){return new cs(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},t}(h_),FU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_s(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Gi(t,this._firestore),s=rd(o.converter,n,r),a=nd(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(a.toMutation(o._key,gn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Gi(t,this._firestore);return a=typeof(n=dt(n))=="string"||n instanceof Wr?c_(this._dataReader,"WriteBatch.update",l._key,n,r,o):a_(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,gn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Gi(t,this._firestore);return this._mutations=this._mutations.concat(new Hc(n._key,gn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new re(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e,t){if((e=dt(e)).firestore!==t)throw new re(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zo=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Oe(t,e),t.prototype.convertBytes=function(n){return new cs(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},t}(h_);function yT(e,t,n){e=ot(e,Tt);var r=ot(e.firestore,zt),o=rd(e.converter,t,n);return zc(r,[nd(_s(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,gn.none())])}function _T(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=ot(e,Tt);var s=ot(e.firestore,zt),a=_s(s);return zc(s,[(typeof(t=dt(t))=="string"||t instanceof Wr?c_(a,"updateDoc",e._key,t,n,r):a_(a,"updateDoc",e._key,t)).toMutation(e._key,gn.exists(!0))])}function cC(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=dt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ou(o[l])||(a=o[l],l++);var f,d,v,h={includeMetadataChanges:a.includeMetadataChanges};if(Ou(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Tt)d=ot(e.firestore,zt),v=jc(e._key.path),f={next:function(b){o[l]&&o[l](mg(d,e,b))},error:o[l+1],complete:o[l+2]};else{var y=ot(e,ir);d=ot(y.firestore,zt),v=y._query;var _=new Zo(d);f={next:function(b){o[l]&&o[l](new Ki(d,_,y,b))},error:o[l+1],complete:o[l+2]},sC(e._query)}return function(b,S,I,R){var F=this,q=new Jh(R),P=new Qy(S,q,I);return b.asyncQueue.enqueueAndForget(function(){return Z(F,void 0,void 0,function(){var x;return J(this,function(V){switch(V.label){case 0:return x=Wy,[4,Cu(b)];case 1:return[2,x.apply(void 0,[V.sent(),P])]}})})}),function(){q.Wo(),b.asyncQueue.enqueueAndForget(function(){return Z(F,void 0,void 0,function(){var x;return J(this,function(V){switch(V.label){case 0:return x=Xy,[4,Cu(b)];case 1:return[2,x.apply(void 0,[V.sent(),P])]}})})})}}(mn(d),v,h,f)}function zc(e,t){return function(n,r){var o=this,s=new $n;return n.asyncQueue.enqueueAndForget(function(){return Z(o,void 0,void 0,function(){var a;return J(this,function(l){switch(l.label){case 0:return a=Qj,[4,Hk(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(mn(e),t)}function mg(e,t,n){var r=n.docs.get(t._key),o=new Zo(e);return new di(e,o,t._key,r,new Wo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Oe(t,e),t.prototype.get=function(n){var r=this,o=Gi(n,this._firestore),s=new Zo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new di(r._firestore,s,o._key,a._document,new Wo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=_s(t)}return e.prototype.get=function(t){var n=this,r=Gi(t,this._firestore),o=new LU(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Se();var a=s[0];if(a.isFoundDocument())return new bc(n._firestore,o,a.key,a,r.converter);if(a.isNoDocument())return new bc(n._firestore,o,r._key,null,r.converter);throw Se()})},e.prototype.set=function(t,n,r){var o=Gi(t,this._firestore),s=rd(o.converter,n,r),a=nd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Gi(t,this._firestore);return a=typeof(n=dt(n))=="string"||n instanceof Wr?c_(this._dataReader,"Transaction.update",l._key,n,r,o):a_(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Gi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){if(typeof Uint8Array>"u")throw new re(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bT(){if(typeof atob>"u")throw new re(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lC=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return bT(),new e(cs.fromBase64String(t))},e.fromUint8Array=function(t){return wT(),new e(cs.fromUint8Array(t))},e.prototype.toBase64=function(){return bT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return wT(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),VU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){hT(r=ot(r,zt));var s=mn(r),a=r._freezeSettings(),l=new dg;return fT(s,l,new Uk(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){hT(n=ot(n,zt));var r=mn(n),o=n._freezeSettings(),s=new dg;return fT(r,s,new hU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new re(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new $n;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return Z(r,void 0,void 0,function(){var s;return J(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return Z(this,void 0,void 0,function(){var f;return J(this,function(d){switch(d.label){case 0:return Iu.yt()?(f=l+"main",[4,Iu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(qy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),fC=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof ch||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Yf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,a,l){var f;l===void 0&&(l={});var d=(o=ot(o,wc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Yf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+a,ssl:!1})),l.mockUserToken){var v,h;if(typeof l.mockUserToken=="string")v=l.mockUserToken,h=sn.MOCK_USER;else{v=y1(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new sn(m)}o._credentials=new gU(new Kk(v,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return[4,tT(t)];case 1:return r=s.sent(),[4,nT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=pe(a);return l.Or.delete(0),Kc(l)}(o))]}})})})}(mn(ot(this._delegate,zt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return J(this,function(s){switch(s.label){case 0:return[4,tT(t)];case 1:return r=s.sent(),[4,nT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return Z(this,void 0,void 0,function(){var l;return J(this,function(f){switch(f.label){case 0:return(l=pe(a)).Or.add(0),[4,$u(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(mn(ot(this._delegate,zt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&Gk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new $n;return t.asyncQueue.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){var o;return J(this,function(s){switch(s.label){case 0:return o=tU,[4,Hk(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(mn(ot(this._delegate,zt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var a=this,l=new Jh(s);return o.asyncQueue.enqueueAndForget(function(){return Z(a,void 0,void 0,function(){var f;return J(this,function(d){switch(d.label){case 0:return f=function(v,h){pe(v).Gr.add(h),h.next()},[4,Cu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return Z(a,void 0,void 0,function(){var f;return J(this,function(d){switch(d.label){case 0:return f=function(v,h){pe(v).Gr.delete(h)},[4,Cu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(mn(n=ot(n,zt)),Ou(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new hh(this,zk(this._delegate,t))}catch(n){throw Sn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new es(this,Pf(this._delegate,t))}catch(n){throw Sn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new sd(this,function(n,r){if(n=ot(n,wc),o_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new re(B.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ir(n,null,function(o){return new _i(rt.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Sn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,a){var l=this,f=new $n;return s.asyncQueue.enqueueAndForget(function(){return Z(l,void 0,void 0,function(){var d;return J(this,function(v){switch(v.label){case 0:return[4,function(h){return Zh(h).then(function(m){return m.datastore})}(s)];case 1:return d=v.sent(),new pU(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(mn(r),function(s){return o(new MU(r,s))})}(this._delegate,function(r){return t(new hC(n,r))})},e.prototype.batch=function(){var t=this;return mn(this._delegate),new dC(new FU(this._delegate,function(n){return zc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new re(B.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new re(B.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),id=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Oe(t,e),t.prototype.convertBytes=function(n){return new lC(new cs(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return es.eu(r,this.firestore,null)},t}(h_);function jU(e){var t;t=e,Cr.setLogLevel(t)}var hC=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new id(t)}return e.prototype.get=function(t){var n=this,r=Xo(t);return this._delegate.get(r).then(function(o){return new Ec(n._firestore,new di(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Xo(t);return r?(s_("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Xo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Xo(t);return this._delegate.delete(n),this},e}(),dC=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Xo(t);return r?(s_("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Xo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Xo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),od=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Ga(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ic(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new id(t),n),o.set(n,s)),s},e}();od.su=new WeakMap;var es=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new id(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new re(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Tt(n._delegate,r,new Ae(t)))},e.eu=function(t,n,r){return new e(n,new Tt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new hh(this.firestore,zk(this._delegate,t))}catch(n){throw Sn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=dt(t))instanceof Tt&&Wk(this._delegate,t)},e.prototype.set=function(t,n){n=s_("DocumentReference.set",n);try{return n?yT(this._delegate,t,n):yT(this._delegate,t)}catch(r){throw Sn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?_T(this._delegate,t):_T.apply(void 0,bt([this._delegate,t,n],r))}catch(s){throw Sn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zc(ot((t=this._delegate).firestore,zt),[new Hc(t._key,gn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=pC(n),s=mC(n,function(a){return new Ec(t.firestore,new di(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return cC(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ot(r,Tt);var o=ot(r.firestore,zt),s=mn(o),a=new Zo(o);return function(l,f){var d=this,v=new $n;return l.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return J(this,function(m){switch(m.label){case 0:return h=function(y,_,b){return Z(this,void 0,void 0,function(){var S,I;return J(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,function(F,q){var P=pe(F);return P.persistence.runTransaction("read document","readonly",function(x){return P.Mn.mn(x,q)})}(y,_)];case 1:return(I=R.sent()).isFoundDocument()?b.resolve(I):I.isNoDocument()?b.resolve(null):b.reject(new re(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=R.sent(),I=Gu(S,"Failed to get document '"+_+" from cache"),b.reject(I),[3,3];case 3:return[2]}})})},[4,$k(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,r._key).then(function(l){return new di(o,a,r._key,l,new Wo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ot(r,Tt);var o=ot(r.firestore,zt);return rT(mn(o),r._key,{source:"server"}).then(function(s){return mg(o,r,s)})}(this._delegate):function(r){r=ot(r,Tt);var o=ot(r.firestore,zt);return rT(mn(o),r._key).then(function(s){return mg(o,r,s)})}(this._delegate)).then(function(r){return new Ec(n.firestore,new di(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(od.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Sn(e,t,n){return e.message=e.message.replace(t,n),e}function pC(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Ou(r))return r}return{}}function mC(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Ou(e[0])?e[0]:Ou(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Ec=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new es(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return oC(this._delegate,t._delegate)},e}(),Ic=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ec),sd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new id(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Li(this._delegate,function(o,s,a){var l=s,f=fh("where",o);return new PU(f,l,a)}(t,n,r)))}catch(o){throw Sn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Li(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,a=fh("orderBy",r);return new DU(a,s)}(t,n)))}catch(r){throw Sn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Li(this._delegate,function(n){return cT("limit",n),new dT("limit",n,"F")}(t)))}catch(n){throw Sn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Li(this._delegate,function(n){return cT("limitToLast",n),new dT("limitToLast",n,"L")}(t)))}catch(n){throw Sn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new pT("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Sn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new pT("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Sn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new mT("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Sn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new mT("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Sn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Xk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ot(r,ir);var o=ot(r.firestore,zt),s=mn(o),a=new Zo(o);return function(l,f){var d=this,v=new $n;return l.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return J(this,function(m){switch(m.label){case 0:return h=function(y,_,b){return Z(this,void 0,void 0,function(){var S,I,R,F,q;return J(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,sh(y,_,!0)];case 1:return q=P.sent(),S=new Lk(_,q.Bn),I=S._o(q.documents),R=S.applyChanges(I,!1),b.resolve(R.snapshot),[3,3];case 2:return F=P.sent(),q=Gu(F,"Failed to execute query '"+_+" against cache"),b.reject(q),[3,3];case 3:return[2]}})})},[4,$k(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,r._query).then(function(l){return new Ki(o,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ot(r,ir);var o=ot(r.firestore,zt),s=mn(o),a=new Zo(o);return iT(s,r._query,{source:"server"}).then(function(l){return new Ki(o,a,r,l)})}(this._delegate):function(r){r=ot(r,ir);var o=ot(r.firestore,zt),s=mn(o),a=new Zo(o);return sC(r._query),iT(s,r._query).then(function(l){return new Ki(o,a,r,l)})}(this._delegate)).then(function(r){return new vg(n.firestore,new Ki(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=pC(n),s=mC(n,function(a){return new vg(t.firestore,new Ki(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return cC(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(od.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),UU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ic(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),vg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new sd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ic(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new UU(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Ic(r._firestore,o))})},e.prototype.isEqual=function(t){return oC(this._delegate,t._delegate)},e}(),hh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Oe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new es(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new es(this.firestore,n===void 0?Pf(this._delegate):Pf(this._delegate,n))}catch(r){throw Sn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var a=ot(o.firestore,zt),l=Pf(o),f=rd(o.converter,s);return zc(a,[nd(_s(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,gn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new es(r.firestore,o)})},t.prototype.isEqual=function(n){return Wk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(od.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(sd);function Xo(e){return ot(e,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Wr.bind.apply(Wr,bt([void 0],t)))}return e.documentId=function(){return new e(xr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=dt(t))instanceof Wr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),qU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new AU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new u_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new kU("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new CU("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new OU("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),$U={Firestore:fC,GeoPoint:td,Timestamp:Un,Blob:lC,Transaction:hC,WriteBatch:dC,DocumentReference:es,DocumentSnapshot:Ec,Query:sd,QueryDocumentSnapshot:Ic,QuerySnapshot:vg,CollectionReference:hh,FieldPath:BU,FieldValue:qU,setLogLevel:jU,CACHE_SIZE_UNLIMITED:EU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(e){(function(t,n){t.INTERNAL.registerComponent(new Cc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},$U)))})(e,function(t,n){return new fC(t,new zt(t,n),new VU)}),e.registerVersion("@firebase/firestore","2.4.1")}HU(Pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vC="firebasestorage.googleapis.com",gC="storageBucket",KU=2*60*1e3,GU=10*60*1e3,$t=function(e){Oe(t,e);function t(n,r){var o=e.call(this,mv(n),"Firebase Storage: "+r+" ("+mv(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return mv(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(w1);function mv(e){return"storage/"+e}function d_(){var e="An unknown error occurred, please check the error payload for server response.";return new $t("unknown",e)}function zU(e){return new $t("object-not-found","Object '"+e+"' does not exist.")}function WU(e){return new $t("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XU(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t("unauthenticated",e)}function YU(){return new $t("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function QU(e){return new $t("unauthorized","User does not have permission to access '"+e+"'.")}function JU(){return new $t("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function yC(){return new $t("canceled","User canceled the upload/download.")}function ZU(e){return new $t("invalid-url","Invalid URL '"+e+"'.")}function e2(e){return new $t("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function t2(){return new $t("no-default-bucket","No default bucket found. Did you set the '"+gC+"' property when initializing the app?")}function _C(){return new $t("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function n2(){return new $t("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function r2(){return new $t("no-download-url","The given file does not have any download URLs.")}function su(e){return new $t("invalid-argument",e)}function wC(){return new $t("app-deleted","The Firebase app was deleted.")}function bC(e){return new $t("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function za(e,t){return new $t("invalid-format","String does not match format '"+e+"': "+t)}function mf(e){throw new $t("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},vv=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function EC(e,t){switch(e){case hr.RAW:return new vv(IC(t));case hr.BASE64:case hr.BASE64URL:return new vv(TC(e,t));case hr.DATA_URL:return new vv(s2(t),u2(t))}throw d_()}function IC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function o2(e){var t;try{t=decodeURIComponent(e)}catch{throw za(hr.DATA_URL,"Malformed data URL.")}return IC(t)}function TC(e,t){switch(e){case hr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw za(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case hr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw za(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=i2(t)}catch{throw za(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var SC=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw za(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=a2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function s2(e){var t=new SC(e);return t.base64?TC(hr.BASE64,t.rest):o2(t.rest)}function u2(e){var t=new SC(e);return t.contentType}function a2(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c2={STATE_CHANGED:"state_changed"},An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gv(e){switch(e){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;case"error":return An.ERROR;default:return An.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ts||(ts={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l2=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ts.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ts.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ts.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw mf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw mf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw mf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw mf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function f2(){return new l2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h2=function(){function e(){}return e.prototype.createConnection=function(){return f2()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw e2(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(M){M.path_=decodeURIComponent(M.path)}for(var v="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+v+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},b=n===vC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",I=new RegExp("^https?://"+b+"/"+o+"/"+S,"i"),R={bucket:1,path:2},F=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:d},{regex:I,indices:R,postModify:d}],q=0;q<F.length;q++){var P=F[q],x=P.regex.exec(t);if(x){var V=x[P.indices.bucket],N=x[P.indices.path];N||(N=""),r=new e(V,N),P.postModify(r);break}}if(r==null)throw ZU(t);return r},e}(),d2=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(e,t,n){var r=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];f||(f=!0,t.apply(null,_))}function v(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var b=[],S=1;S<arguments.length;S++)b[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,bt([null,_],b));return}var I=l()||s;if(I){d.call.apply(d,bt([null,_],b));return}r<64&&(r*=2);var R;a===1?(a=2,R=0):R=(r+Math.random())*1e3,v(R)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),v(0)):_||(a=1)))}return v(0),setTimeout(function(){s=!0,y(!0)},n),y}function m2(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(e){return e!==void 0}function g2(e){return typeof e=="function"}function y2(e){return typeof e=="object"&&!Array.isArray(e)}function ud(e){return typeof e=="string"||e instanceof String}function ET(e){return p_()&&e instanceof Blob}function p_(){return typeof Blob<"u"}function gg(e,t,n,r){if(r<t)throw su("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw su("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function AC(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _2=function(){function e(t,n,r,o,s,a,l,f,d,v,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=v,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new vf(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,v=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,v)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===ts.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var v=a.getErrorCode()===ts.ABORT;o(!1,new vf(!1,null,v));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new vf(h,a))})}function r(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());v2(d)?a(d):a()}catch(h){l(h)}else if(f!==null){var v=d_();v.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,v)):l(v)}else if(s.canceled){var v=t.appDelete_?wC():yC();l(v)}else{var v=JU();l(v)}}this.canceled_?r(!1,new vf(!1,null,!0)):this.backoffId_=p2(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&m2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),vf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function w2(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function b2(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function E2(e,t){t&&(e["X-Firebase-GMPID"]=t)}function I2(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function T2(e,t,n,r,o,s){var a=AC(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return E2(f,t),w2(f,n),b2(f,s),I2(f,r),new _2(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function A2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=S2();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(p_())return new Blob(e);throw new $t("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function k2(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_=function(){function e(t,n){var r=0,o="";ET(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(ET(this.data_)){var r=this.data_,o=k2(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(p_()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(A2.apply(null,r))}else{var o=t.map(function(f){return ud(f)?EC(hr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(e){var t;try{t=JSON.parse(e)}catch{return null}return y2(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function O2(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function kC(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(e,t){return t}var In=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||N2}return e}(),gf=null;function R2(e){return!ud(e)||e.length<2?e:kC(e)}function ad(){if(gf)return gf;var e=[];e.push(new In("bucket")),e.push(new In("generation")),e.push(new In("metageneration")),e.push(new In("name","fullPath",!0));function t(s,a){return R2(a)}var n=new In("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var o=new In("size");return o.xform=r,e.push(o),e.push(new In("timeCreated")),e.push(new In("updated")),e.push(new In("md5Hash",null,!0)),e.push(new In("cacheControl",null,!0)),e.push(new In("contentDisposition",null,!0)),e.push(new In("contentEncoding",null,!0)),e.push(new In("contentLanguage",null,!0)),e.push(new In("contentType",null,!0)),e.push(new In("metadata","customMetadata",!0)),gf=e,gf}function x2(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new dr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function P2(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return x2(r,e),r}function CC(e,t,n){var r=v_(t);if(r===null)return null;var o=r;return P2(e,o,n)}function D2(e,t,n){var r=v_(t);if(r===null||!ud(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,v=e.fullPath,h="/b/"+s(d)+"/o/"+s(v),m=ho(h,n),y=AC({alt:"media",token:f});return m+y});return l[0]}function g_(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IT="prefixes",TT="items";function L2(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[IT])for(var o=0,s=n[IT];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new dr(t,l));r.prefixes.push(f)}if(n[TT])for(var d=0,v=n[TT];d<v.length;d++){var h=v[d],f=e._makeStorageReference(new dr(t,h.name));r.items.push(f)}return r}function F2(e,t,n){var r=v_(n);if(r===null)return null;var o=r;return L2(e,t,o)}var wi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){if(!e)throw d_()}function cd(e,t){function n(r,o){var s=CC(e,o,t);return Xr(s!==null),s}return n}function M2(e,t){function n(r,o){var s=F2(e,t,o);return Xr(s!==null),s}return n}function V2(e,t){function n(r,o){var s=CC(e,o,t);return Xr(s!==null),D2(s,o,e.host)}return n}function zu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=YU():o=XU():n.getStatus()===402?o=WU(e.bucket):n.getStatus()===403?o=QU(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function ld(e){var t=zu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=zU(e.path)),s.serverResponse=o.serverResponse,s}return n}function OC(e,t,n){var r=t.fullServerUrl(),o=ho(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new wi(o,s,cd(e,n),a);return l.errorHandler=ld(t),l}function j2(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=ho(a,e.host),f="GET",d=e.maxOperationRetryTime,v=new wi(l,f,M2(e,t.bucket),d);return v.urlParams=s,v.errorHandler=zu(t),v}function U2(e,t,n){var r=t.fullServerUrl(),o=ho(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new wi(o,s,V2(e,n),a);return l.errorHandler=ld(t),l}function B2(e,t,n,r){var o=t.fullServerUrl(),s=ho(o,e.host),a="PATCH",l=g_(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,v=new wi(s,a,cd(e,r),d);return v.headers=f,v.body=l,v.errorHandler=ld(t),v}function q2(e,t){var n=t.fullServerUrl(),r=ho(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,d){}var l=new wi(r,o,a,s);return l.successCodes=[200,204],l.errorHandler=ld(t),l}function $2(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function NC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=$2(null,t)),r}function H2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var F="",q=0;q<2;q++)F=F+Math.random().toString().slice(2);return F}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=NC(t,r,o),v=g_(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=m_.getBlob(h,r,m);if(y===null)throw _C();var _={name:d.fullPath},b=ho(s,e.host),S="POST",I=e.maxUploadRetryTime,R=new wi(b,S,cd(e,n),I);return R.urlParams=_,R.headers=a,R.body=y.uploadData(),R.errorHandler=zu(t),R}var dh=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function y_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Xr(!1)}var r=t||["active"];return Xr(!!n&&r.indexOf(n)!==-1),n}function K2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a=NC(t,r,o),l={name:a.fullPath},f=ho(s,e.host),d="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=g_(a,n),m=e.maxUploadRetryTime;function y(b){y_(b);var S;try{S=b.getResponseHeader("X-Goog-Upload-URL")}catch{Xr(!1)}return Xr(ud(S)),S}var _=new wi(f,d,y,m);return _.urlParams=l,_.headers=v,_.body=h,_.errorHandler=zu(t),_}function G2(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var v=y_(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xr(!1)}h||Xr(!1);var m=Number(h);return Xr(!isNaN(m)),new dh(m,r.size(),v==="final")}var a="POST",l=e.maxUploadRetryTime,f=new wi(n,a,s,l);return f.headers=o,f.errorHandler=zu(t),f}var ST=256*1024;function z2(e,t,n,r,o,s,a,l){var f=new dh(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw n2();var d=f.total-f.current,v=d;o>0&&(v=Math.min(v,o));var h=f.current,m=h+v,y=v===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},b=r.slice(h,m);if(b===null)throw _C();function S(q,P){var x=y_(q,["active","final"]),V=f.current+v,N=r.size(),M;return x==="final"?M=cd(t,s)(q,P):M=null,new dh(V,N,x==="final",M)}var I="POST",R=t.maxUploadRetryTime,F=new wi(n,I,S,R);return F.headers=_,F.body=b.uploadData(),F.progressCallback=l||null,F.errorHandler=zu(e),F}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W2=function(){function e(t,n,r){var o=g2(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RC=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=ad(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=K2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=G2(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=ST*this._chunkMultiplier,r=new dh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=z2(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=ST*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=OC(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=H2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=yC(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=gv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,a=new W2(n,r,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(gv(this._state)){case An.SUCCESS:zs(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:var n=this._reject;zs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=gv(this._state);switch(n){case An.RUNNING:case An.PAUSED:t.next&&zs(t.next.bind(t,this.snapshot))();break;case An.SUCCESS:t.complete&&zs(t.complete.bind(t))();break;case An.CANCELED:case An.ERROR:t.error&&zs(t.error.bind(t,this._error))();break;default:t.error&&zs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fd=function(){function e(t,n){this._service=t,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new dr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return kC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=C2(this._location.path);if(t===null)return null;var n=new dr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw bC(t)},e}();function X2(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new RC(e,new m_(t),n)}function Y2(e){var t={prefixes:[],items:[]};return xC(e,t).then(function(){return t})}function xC(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return J(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,PC(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,xC(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function PC(e,t){return Z(this,void 0,void 0,function(){var n,r;return J(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&gg("options.maxResults",1,1e3,t.maxResults),n=t||{},r=j2(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function Q2(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=OC(e.storage,e._location,ad()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function J2(e,t){return Z(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=B2(e.storage,e._location,t,ad()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Z2(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=U2(e.storage,e._location,ad()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw r2();return r})]}})})}function eB(e){return Z(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=q2(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function DC(e,t){var n=O2(e._location.path,t),r=new dr(e._location.bucket,n);return new fd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(e){return/^[A-Za-z]+:\/\//.test(e)}function tB(e,t){return new fd(e,t)}function LC(e,t){if(e instanceof hd){var n=e;if(n._bucket==null)throw t2();var r=new fd(n,n._bucket);return t!=null?LC(r,t):r}else return t!==void 0?DC(e,t):e}function nB(e,t){if(t&&yg(t)){if(e instanceof hd)return tB(e,t);throw su("To use ref(service, url), the first argument must be a Storage instance.")}else return LC(e,t)}function AT(e,t){var n=t==null?void 0:t[gC];return n==null?null:dr.makeFromBucketSpec(n,e)}function rB(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:y1(o,e.app.options.projectId))}var hd=function(){function e(t,n,r,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=vC,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KU,this._maxUploadRetryTime=GU,this._requests=new Set,s!=null?this._bucket=dr.makeFromBucketSpec(s,this._host):this._bucket=AT(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,t):this._bucket=AT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){gg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){gg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new fd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new d2(wC());var s=T2(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return Z(this,void 0,void 0,function(){var n,r,o;return J(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(e,t,n){return e=dt(e),X2(e,t,n)}function oB(e){return e=dt(e),Q2(e)}function sB(e,t){return e=dt(e),J2(e,t)}function uB(e,t){return e=dt(e),PC(e,t)}function aB(e){return e=dt(e),Y2(e)}function cB(e){return e=dt(e),Z2(e)}function lB(e){return e=dt(e),eB(e)}function kT(e,t){return e=dt(e),nB(e,t)}function fB(e,t){return DC(e,t)}function hB(e,t,n,r){r===void 0&&(r={}),rB(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CT=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new yf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new yf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new yf(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new yf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,o||void 0)},e}(),OT=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Tc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Tc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=fB(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new CT(iB(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=hr.RAW),this._throwIfRoot("putString");var o=EC(n,t),s=fu({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new CT(new RC(this._delegate,new m_(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return aB(this._delegate).then(function(n){return new OT(n,t.storage)})},e.prototype.list=function(t){var n=this;return uB(this._delegate,t||void 0).then(function(r){return new OT(r,n.storage)})},e.prototype.getMetadata=function(){return oB(this._delegate)},e.prototype.updateMetadata=function(t){return sB(this._delegate,t)},e.prototype.getDownloadURL=function(){return cB(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),lB(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw bC(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dB=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(yg(t))throw su("ref() expected a child path but got a URL, use refFromURL instead.");return new Tc(kT(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!yg(t))throw su("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dr.makeFromUrl(t,this._delegate.host)}catch{throw su("refFromUrl() expected a valid full URL but got an invalid one.")}return new Tc(kT(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),hB(this._delegate,t,n,r)},e}(),pB="@firebase/storage",mB="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vB="storage";function gB(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new dB(r,new hd(r,o,s,new h2,n,Pe.SDK_VERSION));return a}function yB(e){var t={TaskState:An,TaskEvent:c2,StringFormat:hr,Storage:hd,Reference:Tc};e.INTERNAL.registerComponent(new Cc(vB,gB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(pB,mB)}yB(Pe);const _B={apiKey:"AIzaSyAig83mTqJXnco637hmNKXP0W0u0pIK6Gc",authDomain:"music-5c3a5.firebaseapp.com",projectId:"music-5c3a5",storageBucket:"music-5c3a5.appspot.com",messagingSenderId:"1051410494655",appId:"1:1051410494655:web:68b57c5b2cdac1a40fc20a"};Pe.initializeApp(_B);const Yr=Pe.auth(),__=Pe.firestore(),FC=Pe.storage(),wB=__.collection("users"),pi=__.collection("songs"),NT=__.collection("comments"),Wc=Jg("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Yr.createUserWithEmailAndPassword(e.email,e.password);await wB.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Yr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Yr.signOut(),this.userLoggedIn=!1,window.location.reload()}}}),sr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},bB={name:"AppHeader",computed:{...tF(Bv,Wc)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)}}},EB={id:"header",class:"bg-gray-700"},IB={class:"container mx-auto flex justify-start items-center py-5 px-4"},TB={class:"flex flex-grow items-center"},SB={class:"flex flex-row mt-1"},AB={key:0};function kB(e,t,n,r,o,s){const a=St("RouterLink");return ze(),ht("header",EB,[G("nav",IB,[Ne(a,{to:{name:"home"},class:"text-white font-bold uppercase text-2xl mr-4","exact-active-class":"no-active"},{default:Vn(()=>[iu("Music ")]),_:1}),G("div",TB,[G("ul",SB,[G("li",null,[Ne(a,{to:"/about",class:"px-2 text-white"},{default:Vn(()=>[iu("About")]),_:1})]),e.userStore.userLoggedIn?(ze(),ht(Kt,{key:1},[G("li",null,[Ne(a,{to:"/manage",class:"px-2 text-white"},{default:Vn(()=>[iu("Manage")]),_:1})]),G("li",null,[G("a",{class:"px-2 text-white",onClick:t[1]||(t[1]=un((...l)=>e.userStore.signOut&&e.userStore.signOut(...l),["prevent"]))},"Logout")])],64)):(ze(),ht("li",AB,[G("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=un((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const CB=sr(bB,[["render",kB]]);/**
  * vee-validate v4.8.4
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function ei(e){return typeof e=="function"}function Wa(e){return e==null}const ls=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function MC(e){return Number(e)>=0}function OB(e){const t=parseFloat(e);return isNaN(t)?e:t}const VC={};function Er(e,t){RB(e,t),VC[e]=t}function NB(e){return VC[e]}function RB(e,t){if(!ei(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Xc=Symbol("vee-validate-form"),xB=Symbol("vee-validate-field-instance"),ph=Symbol("Default empty value"),PB=typeof window<"u";function _g(e){return ei(e)&&!!e.__locatorRef}function Zi(e){return!!e&&ei(e.parse)&&e.__type==="VVTypedSchema"}function Xa(e){return!!e&&ei(e.validate)}function Nu(e){return e==="checkbox"||e==="radio"}function DB(e){return ls(e)||Array.isArray(e)}function jC(e){return Array.isArray(e)?e.length===0:ls(e)&&Object.keys(e).length===0}function dd(e){return/^\[.+\]$/i.test(e)}function LB(e){return UC(e)&&e.multiple}function UC(e){return e.tagName==="SELECT"}function FB(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function MB(e,t){return!FB(e,t)&&t.type!=="file"&&!Nu(t.type)}function BC(e){return w_(e)&&e.target&&"submit"in e.target}function w_(e){return e?!!(typeof Event<"u"&&ei(Event)&&e instanceof Event||e&&e.srcElement):!1}function RT(e,t){return t in e&&e[t]!==ph}function Wt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Wt(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Wt(r[1],t.get(r[0])))return!1;return!0}if(xT(e)&&xT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var s=o[r];if(!Wt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function xT(e){return PB?e instanceof File:!1}function PT(e,t,n){typeof n.value=="object"&&(n.value=lt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function lt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(lt(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(lt(l),lt(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(lt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)PT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||PT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function b_(e){return dd(e)?e.replace(/\[|\]/gi,""):e}function Pt(e,t,n){return e?dd(t)?e[b_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>DB(o)&&s in o?o[s]:n,e):n}function Vi(e,t,n){if(dd(t)){e[b_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Wa(o[r[s]]))&&(o[r[s]]=MC(r[s+1])?[]:{}),o=o[r[s]]}}function yv(e,t){if(Array.isArray(e)&&MC(t)){e.splice(Number(t),1);return}ls(e)&&delete e[t]}function _f(e,t){if(dd(t)){delete e[b_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){yv(r,n[s]);break}if(!(n[s]in r)||Wa(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,a)=>Pt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(jC(o[s])){if(s===0){yv(e,n[0]);continue}yv(o[s-1],n[s-1])}}function rn(e){return Object.keys(e)}function E_(e,t=void 0){const n=so();return(n==null?void 0:n.provides[e])||jn(e,t)}function wg(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Wt(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Wt(e,t)?n:t}function DT(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function VB(e,t){return ls(t)&&t.number?OB(e):e}function bg(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function jB({get:e,set:t}){const n=yt(lt(e()));return it(e,r=>{Wt(r,n.value)||(n.value=lt(r))},{deep:!0}),it(n,r=>{Wt(r,e())||t(lt(r))},{deep:!0}),n}function UB(e){return ei(e)?e():H(e)}function BB(e){return Re(()=>UB(e))}const pd=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function _v(e){if(qC(e))return e._value}function qC(e){return"_value"in e}function I_(e){if(!w_(e))return e;const t=e.target;if(Nu(t.type)&&qC(t))return _v(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(LB(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(_v);if(UC(t)){const n=Array.from(t.options).find(r=>r.selected);return n?_v(n):t.value}return t.value}function $C(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ls(e)&&e._$$isNormalized?e:ls(e)?Object.keys(e).reduce((n,r)=>{const o=qB(e[r]);return e[r]!==!1&&(n[r]=LT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=$B(r);return o.name&&(n[o.name]=LT(o.params)),n},t):t}function qB(e){return e===!0?[]:Array.isArray(e)||ls(e)?e:[e]}function LT(e){const t=n=>typeof n=="string"&&n[0]==="@"?HB(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const $B=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function HB(e){const t=n=>Pt(n,e)||n[e];return t.__locatorRef=e,t}function KB(e){return Array.isArray(e)?e.filter(_g):rn(e).filter(t=>_g(e[t])).map(t=>e[t])}const GB={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Eg=Object.assign({},GB);const T_=()=>Eg,zB=e=>{Eg=Object.assign(Object.assign({},Eg),e)},WB=zB;async function HC(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},a=(await XB(o,e)).errors;return{errors:a,valid:!a.length}}async function XB(e,t){if(Zi(e.rules)||Xa(e.rules))return QB(t,e.rules);if(ei(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let v=0;v<f;v++){const h=l[v],m=await h(t,a);if(typeof m!="string"&&m)continue;const _=typeof m=="string"?m:GC(a);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:$C(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await JB(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function YB(e){return!!e&&e.name==="ValidationError"}function KC(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!YB(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function QB(e,t){const r=await(Zi(t)?t:KC(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function JB(e,t,n){const r=NB(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=ZB(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await r(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:GC(s)}}function GC(e){const t=T_().generateMessage;return t?t(e):"Field is invalid"}function ZB(e,t){const n=r=>_g(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function eq(e,t){const r=await(Zi(e)?e:KC(e)).parse(t),o={},s={};for(const a of r.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function tq(e,t,n){const o=rn(e).map(async d=>{var v,h,m;const y=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[d],_=await HC(Pt(t,d),e[d],{name:(y==null?void 0:y.name)||d,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let FT=0;function nq(e,t){const{value:n,initialValue:r,setInitialValue:o}=zC(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=iq(e,t.form),f=rq(n,r,a),d=FT>=Number.MAX_SAFE_INTEGER?0:++FT;function v(h){var m;"value"in h&&(n.value=h.value),"errors"in h&&l(h.errors),"touched"in h&&(f.touched=(m=h.touched)!==null&&m!==void 0?m:f.touched),"initialValue"in h&&o(h.initialValue)}return{id:d,path:e,value:n,initialValue:r,meta:f,errors:a,errorMessage:s,setState:v}}function zC(e,t,n){const r=yt(H(t));function o(){return n?Pt(n.meta.value.initialValues,H(e),H(r)):H(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(H(e),d,!0)}const a=Re(o);if(!n)return{value:yt(o()),initialValue:a,setInitialValue:s};const l=t?H(t):Pt(n.values,H(e),H(a));return n.stageInitialValue(H(e),l,!0),{value:Re({get(){return Pt(n.values,H(e))},set(d){n.setFieldValue(H(e),d)}}),initialValue:a,setInitialValue:s}}function rq(e,t,n){const r=mr({touched:!1,pending:!1,valid:!0,validated:!!H(n).length,initialValue:Re(()=>H(t)),dirty:Re(()=>!Wt(H(e),H(t)))});return it(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function iq(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=yt([]);return{errors:o,errorMessage:Re(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const r=Re(()=>t.errorBag.value[H(e)]||[]);return{errors:r,errorMessage:Re(()=>r.value[0]),setErrors:o=>{t.setFieldErrorBag(H(e),n(o))}}}function oq(e,t,n){return Nu(n==null?void 0:n.type)?aq(e,t,n):WC(e,t,n)}function WC(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:v,controlled:h,keepValueOnUnmount:m,modelPropName:y,syncVModel:_,form:b}=sq(n),S=h?E_(Xc):void 0,I=b||S,R=BB(e);let F=!1;const{id:q,value:P,initialValue:x,meta:V,setState:N,errors:M,errorMessage:k}=nq(R,{modelValue:r,form:I});_&&cq({value:P,prop:y,handleChange:de});const Te=()=>{V.touched=!0},ie=Re(()=>{let L=H(t);const K=H(I==null?void 0:I.schema);return K&&!Xa(K)&&!Zi(K)&&(L=uq(K,H(R))||L),Xa(L)||Zi(L)||ei(L)||Array.isArray(L)?L:$C(L)});async function ke(L){var K,me;return I!=null&&I.validateSchema?(K=(await I.validateSchema(L)).results[H(R)])!==null&&K!==void 0?K:{valid:!0,errors:[]}:HC(P.value,ie.value,{name:H(R),label:H(f),values:(me=I==null?void 0:I.values)!==null&&me!==void 0?me:{},bails:s})}const Ee=bg(async()=>(V.pending=!0,V.validated=!0,ke("validated-only")),L=>(F&&(L.valid=!0,L.errors=[]),N({errors:L.errors}),V.pending=!1,L)),_e=bg(async()=>ke("silent"),L=>(F&&(L.valid=!0),V.valid=L.valid,L));function he(L){return(L==null?void 0:L.mode)==="silent"?_e():Ee()}function de(L,K=!0){const me=I_(L);P.value=me,!d&&K&&Ee()}Mu(()=>{if(o)return Ee();(!I||!I.validateSchema)&&_e()});function ge(L){V.touched=L}let Ke,Ze=lt(P.value);function nt(){Ke=it(P,(L,K)=>{if(Wt(L,K)&&Wt(L,Ze))return;(d?Ee:_e)(),Ze=lt(L)},{deep:!0})}nt();function Qe(L){var K;Ke==null||Ke();const me=L&&"value"in L?L.value:x.value;N({value:lt(me),initialValue:lt(me),touched:(K=L==null?void 0:L.touched)!==null&&K!==void 0?K:!1,errors:(L==null?void 0:L.errors)||[]}),V.pending=!1,V.validated=!1,_e(),er(()=>{nt()})}function Ot(L){P.value=L}function en(L){N({errors:Array.isArray(L)?L:[L]})}const X={id:q,name:R,label:f,value:P,meta:V,errors:M,errorMessage:k,type:a,checkedValue:l,uncheckedValue:v,bails:s,keepValueOnUnmount:m,resetField:Qe,handleReset:()=>Qe(),validate:he,handleChange:de,handleBlur:Te,setState:N,setTouched:ge,setErrors:en,setValue:Ot};if(Yi(xB,X),at(t)&&typeof H(t)!="function"&&it(t,(L,K)=>{Wt(L,K)||(V.validated?Ee():_e())},{deep:!0}),!I)return X;I.register(X),Vu(()=>{F=!0,I.unregister(X)});const le=Re(()=>{const L=ie.value;return!L||ei(L)||Xa(L)||Zi(L)||Array.isArray(L)?{}:Object.keys(L).reduce((K,me)=>{const Ge=KB(L[me]).map(Ie=>Ie.__locatorRef).reduce((Ie,A)=>{const D=Pt(I.values,A)||I.values[A];return D!==void 0&&(Ie[A]=D),Ie},{});return Object.assign(K,Ge),K},{})});return it(le,(L,K)=>{if(!Object.keys(L).length)return;!Wt(L,K)&&(V.validated?Ee():_e())}),X}function sq(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),o=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?Ig(so(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:s})}function uq(e,t){if(e)return e[t]}function aq(e,t,n){const r=n!=null&&n.standalone?void 0:E_(Xc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Re(()=>{const h=H(l.value),m=H(o);return Array.isArray(h)?h.findIndex(y=>Wt(y,m))>=0:Wt(m,h)});function v(h,m=!0){var y;if(d.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}let _=I_(h);r||(_=wg(H(l.value),H(o),H(s))),f(_,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:v})}return a(WC(e,t,n))}function cq({prop:e,value:t,handleChange:n}){const r=so();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(it(t,a=>{Wt(a,Ig(r,o))||r.emit(s,a)}),it(()=>Ig(r,o),a=>{if(a===ph&&t.value===void 0)return;const l=a===ph?void 0:a;Wt(l,VB(t.value,r.props.modelModifiers))||n(l)}))}function Ig(e,t){if(e)return e.props[t]}const lq=ti({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>T_().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:ph},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Gt(e,"rules"),r=Gt(e,"name"),o=Gt(e,"label"),s=Gt(e,"uncheckedValue"),a=Gt(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:v,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:b,meta:S,checked:I,setErrors:R}=oq(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:hq(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),F=function(M,k=!0){h(M,k),t.emit("update:modelValue",f.value)},q=N=>{Nu(t.attrs.type)||(f.value=I_(N))},P=function(M){q(M),t.emit("update:modelValue",f.value)},x=Re(()=>{const{validateOnInput:N,validateOnChange:M,validateOnBlur:k,validateOnModelUpdate:Te}=fq(e),ie=[m,t.attrs.onBlur,k?v:void 0].filter(Boolean),ke=[de=>F(de,N),t.attrs.onInput].filter(Boolean),Ee=[de=>F(de,M),t.attrs.onChange].filter(Boolean),_e={name:e.name,onBlur:ie,onInput:ke,onChange:Ee};_e["onUpdate:modelValue"]=de=>F(de,Te),Nu(t.attrs.type)&&I&&(_e.checked=I.value);const he=MT(e,t);return MB(he,t.attrs)&&(_e.value=f.value),_e});function V(){return{field:x.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:v,resetField:_,handleChange:F,handleInput:P,handleReset:b,handleBlur:m,setTouched:y,setErrors:R}}return t.expose({setErrors:R,setTouched:y,reset:_,validate:v,handleChange:h}),()=>{const N=hs(MT(e,t)),M=pd(N,t,V);return N?Rr(N,Object.assign(Object.assign({},t.attrs),x.value),M):M}}});function MT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function fq(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=T_();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function hq(e,t){return Nu(t.attrs.type)?RT(e,"modelValue")?e.modelValue:void 0:RT(e,"modelValue")?e.modelValue:t.attrs.value}const dq=lq;let pq=0;function XC(e){const t=H(e==null?void 0:e.initialValues)||{},n=H(e==null?void 0:e.validationSchema);return n&&Zi(n)&&ei(n.cast)?lt(n.cast(t)||{}):lt(t)}function mq(e){var t;const n=pq++,r=new Set;let o=!1;const s=yt({}),a=yt(!1),l=yt(0),f=[],d=mr(XC(e)),{errorBag:v,setErrorBag:h,setFieldErrorBag:m}=yq(e==null?void 0:e.initialErrors),y=Re(()=>rn(v.value).reduce((T,O)=>{const j=v.value[O];return j&&j.length&&(T[O]=j[0]),T},{}));function _(T){const O=s.value[T];return Array.isArray(O)?O[0]:O}function b(T){return!!s.value[T]}const S=Re(()=>rn(s.value).reduce((T,O)=>{const j=_(O);return j&&(T[O]={name:H(j.name)||"",label:H(j.label)||""}),T},{})),I=Re(()=>rn(s.value).reduce((T,O)=>{var j;const $=_(O);return $&&(T[O]=(j=$.bails)!==null&&j!==void 0?j:!0),T},{})),R=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:q,originalInitialValues:P,setInitialValues:x}=gq(s,d,e),V=vq(s,d,P,y),N=Re(()=>[...r,...rn(s.value)].reduce((T,O)=>{const j=Pt(d,O);return Vi(T,O,j),T},{})),M=e==null?void 0:e.validationSchema,k=DT(oe,5),Te=DT(oe,5),ie=bg(async T=>await T==="silent"?k():Te(),(T,[O])=>{const j=he.fieldsByPath.value||{},$=rn(he.errorBag.value);return[...new Set([...rn(T.results),...rn(j),...$])].reduce((ee,Y)=>{const ve=j[Y],Le=(T.results[Y]||{errors:[]}).errors,Ve={errors:Le,valid:!Le.length};if(ee.results[Y]=Ve,Ve.valid||(ee.errors[Y]=Ve.errors[0]),!ve)return Ze(Y,Le),ee;if(ge(ve,We=>We.meta.valid=Ve.valid),O==="silent")return ee;const Kn=Array.isArray(ve)?ve.some(We=>We.meta.validated):ve.meta.validated;return O==="validated-only"&&!Kn||ge(ve,We=>We.setState({errors:Ve.errors})),ee},{valid:T.valid,results:{},errors:{}})});function ke(T){return function(j,$){return function(ee){return ee instanceof Event&&(ee.preventDefault(),ee.stopPropagation()),L(rn(s.value).reduce((Y,ve)=>(Y[ve]=!0,Y),{})),a.value=!0,l.value++,U().then(Y=>{const ve=lt(d);if(Y.valid&&typeof j=="function"){const Le=lt(N.value);let Ve=T?Le:ve;return Y.values&&(Ve=Y.values),j(Ve,{evt:ee,controlledValues:Le,setErrors:nt,setFieldError:Ze,setTouched:L,setFieldTouched:le,setValues:Ot,setFieldValue:Qe,resetForm:me,resetField:K})}!Y.valid&&typeof $=="function"&&$({values:ve,evt:ee,errors:Y.errors,results:Y.results})}).then(Y=>(a.value=!1,Y),Y=>{throw a.value=!1,Y})}}}const _e=ke(!1);_e.withControlled=ke(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:N,errorBag:v,errors:y,schema:M,submitCount:l,meta:V,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:F,validateSchema:H(M)?ie:void 0,validate:U,register:A,unregister:D,setFieldErrorBag:m,validateField:W,setFieldValue:Qe,setValues:Ot,setErrors:nt,setFieldError:Ze,setFieldTouched:le,setTouched:L,resetForm:me,resetField:K,handleSubmit:_e,stageInitialValue:ue,unsetInitialValue:Q,setFieldInitialValue:ce,useFieldModel:X};function de(T){return Array.isArray(T)}function ge(T,O){return Array.isArray(T)?T.forEach(O):O(T)}function Ke(T){Object.values(s.value).forEach(O=>{O&&ge(O,T)})}function Ze(T,O){m(T,O)}function nt(T){h(T)}function Qe(T,O,{force:j}={force:!1}){var $;const ne=s.value[T],ee=lt(O);if(!ne){Vi(d,T,ee);return}if(de(ne)&&(($=ne[0])===null||$===void 0?void 0:$.type)==="checkbox"&&!Array.isArray(O)){const ve=lt(wg(Pt(d,T)||[],O,void 0));Vi(d,T,ve);return}let Y=ee;!de(ne)&&ne.type==="checkbox"&&!j&&!o&&(Y=lt(wg(Pt(d,T),O,H(ne.uncheckedValue)))),Vi(d,T,Y)}function Ot(T){rn(d).forEach(O=>{delete d[O]}),rn(T).forEach(O=>{Qe(O,T[O])}),f.forEach(O=>O&&O.reset())}function en(T){const{value:O}=zC(T,void 0,he);return it(O,()=>{b(H(T))||U({mode:"validated-only"})},{deep:!0}),r.add(H(T)),O}function X(T){return Array.isArray(T)?T.map(en):en(T)}function le(T,O){const j=s.value[T];j&&ge(j,$=>$.setTouched(O))}function L(T){rn(T).forEach(O=>{le(O,!!T[O])})}function K(T,O){const j=s.value[T];j&&ge(j,$=>$.resetField(O))}function me(T){o=!0,Ke(j=>j.resetField());const O=T!=null&&T.values?T.values:P.value;x(O),Ot(O),T!=null&&T.touched&&L(T.touched),nt((T==null?void 0:T.errors)||{}),l.value=(T==null?void 0:T.submitCount)||0,er(()=>{o=!1})}function Ge(T,O){const j=no(T),$=O;if(!s.value[$]){s.value[$]=j;return}const ne=s.value[$];ne&&!Array.isArray(ne)&&(s.value[$]=[ne]),s.value[$]=[...s.value[$],j]}function Ie(T,O){const j=O,$=s.value[j];if($){if(!de($)&&T.id===$.id){delete s.value[j];return}if(de($)){const ne=$.findIndex(ee=>ee.id===T.id);if(ne===-1)return;$.splice(ne,1),$.length||delete s.value[j]}}}function A(T){const O=H(T.name);Ge(T,O),at(T.name)&&it(T.name,async($,ne)=>{await er(),Ie(T,ne),Ge(T,$),(y.value[ne]||y.value[$])&&(Ze(ne,void 0),W($)),await er(),b(ne)||_f(d,ne)});const j=H(T.errorMessage);j&&(R==null?void 0:R[O])!==j&&W(O),delete R[O]}function D(T){const O=H(T.name),j=s.value[O],$=!!j&&de(j);Ie(T,O),er(()=>{var ne;const ee=(ne=H(T.keepValueOnUnmount))!==null&&ne!==void 0?ne:H(F),Y=Pt(d,O);if($&&(j===s.value[O]||!s.value[O])&&!ee)if(Array.isArray(Y)){const Le=Y.findIndex(Ve=>Wt(Ve,H(T.checkedValue)));if(Le>-1){const Ve=[...Y];Ve.splice(Le,1),Qe(O,Ve,{force:!0})}}else Y===H(T.checkedValue)&&_f(d,O);if(!b(O)){if(Ze(O,void 0),ee||$&&Array.isArray(Y)&&!jC(Y))return;_f(d,O)}})}async function U(T){const O=(T==null?void 0:T.mode)||"force";if(O==="force"&&Ke(ee=>ee.meta.validated=!0),he.validateSchema)return he.validateSchema(O);const j=await Promise.all(Object.values(s.value).map(ee=>{const Y=Array.isArray(ee)?ee[0]:ee;return Y?Y.validate(T).then(ve=>({key:H(Y.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),$={},ne={};for(const ee of j)$[ee.key]={valid:ee.valid,errors:ee.errors},ee.errors.length&&(ne[ee.key]=ee.errors[0]);return{valid:j.every(ee=>ee.valid),results:$,errors:ne}}async function W(T){const O=s.value[T];return O?Array.isArray(O)?O.map(j=>j.validate())[0]:O.validate():Promise.resolve({errors:[],valid:!0})}function Q(T){_f(q.value,T)}function ue(T,O,j=!1){Vi(d,T,O),ce(T,O),j&&!(e!=null&&e.initialValues)&&Vi(P.value,T,lt(O))}function ce(T,O){Vi(q.value,T,lt(O))}async function oe(){const T=H(M);return T?Xa(T)||Zi(T)?await eq(T,d):await tq(T,d,{names:S.value,bailsMap:I.value}):{valid:!0,results:{},errors:{}}}const fe=_e((T,{evt:O})=>{BC(O)&&O.target.submit()});return Mu(()=>{if(e!=null&&e.initialErrors&&nt(e.initialErrors),e!=null&&e.initialTouched&&L(e.initialTouched),e!=null&&e.validateOnMount){U();return}he.validateSchema&&he.validateSchema("silent")}),at(M)&&it(M,()=>{var T;(T=he.validateSchema)===null||T===void 0||T.call(he,"validated-only")}),Yi(Xc,he),Object.assign(Object.assign({},he),{handleReset:()=>me(),submitForm:fe})}function vq(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Re(()=>!Wt(t,H(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return rn(o).reduce((d,v)=>{const h=o[v];return d[v]=f[h](m=>m.meta[v]),d},{})}const l=mr(a());return qS(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Re(()=>Object.assign(Object.assign({initialValues:H(n)},l),{valid:l.valid&&!rn(r.value).length,dirty:s.value}))}function gq(e,t,n){const r=XC(n),o=n==null?void 0:n.initialValues,s=yt(r),a=yt(lt(r));function l(f,d=!1){s.value=lt(f),a.value=lt(f),d&&rn(e.value).forEach(v=>{const h=e.value[v],m=Array.isArray(h)?h.some(_=>_.meta.touched):h==null?void 0:h.meta.touched;if(!h||m)return;const y=Pt(s.value,v);Vi(t,v,lt(y))})}return at(o)&&it(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function yq(e){const t=yt({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function r(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=rn(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:r}}const _q=ti({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Gt(e,"initialValues"),r=Gt(e,"validationSchema"),o=Gt(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:v,controlledValues:h,validate:m,validateField:y,handleReset:_,resetForm:b,handleSubmit:S,setErrors:I,setFieldError:R,setFieldValue:F,setValues:q,setFieldTouched:P,setTouched:x,resetField:V}=mq({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),N=S((he,{evt:de})=>{BC(de)&&de.target.submit()},e.onInvalidSubmit),M=e.onSubmit?S(e.onSubmit,e.onInvalidSubmit):N;function k(he){w_(he)&&he.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Te(he,de){return S(typeof he=="function"&&!de?he:de,e.onInvalidSubmit)(he)}function ie(){return lt(l)}function ke(){return lt(f.value)}function Ee(){return lt(s.value)}function _e(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:v.value,controlledValues:h.value,validate:m,validateField:y,handleSubmit:Te,handleReset:_,submitForm:N,setErrors:I,setFieldError:R,setFieldValue:F,setValues:q,setFieldTouched:P,setTouched:x,resetForm:b,resetField:V,getValues:ie,getMeta:ke,getErrors:Ee}}return t.expose({setFieldError:R,setErrors:I,setFieldValue:F,setValues:q,setFieldTouched:P,setTouched:x,resetForm:b,validate:m,validateField:y,resetField:V,getValues:ie,getMeta:ke,getErrors:Ee}),function(){const de=e.as==="form"?e.as:hs(e.as),ge=pd(de,t,_e);if(!e.as)return ge;const Ke=e.as==="form"?{novalidate:!0}:{};return Rr(de,Object.assign(Object.assign(Object.assign({},Ke),t.attrs),{onSubmit:M,onReset:k}),ge)}}}),wq=_q;function bq(e){const t=E_(Xc,void 0),n=yt([]),r=()=>{},o={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t||!H(e))return o;const s=t.fieldArrays.find(P=>H(P.path)===H(e));if(s)return s;let a=0;function l(){return Pt(t==null?void 0:t.values,H(e),[])||[]}function f(){const P=l();n.value=P.map(v),d()}f();function d(){const P=n.value.length;for(let x=0;x<P;x++){const V=n.value[x];V.isFirst=x===0,V.isLast=x===P-1}}function v(P){const x=a++;return{key:x,value:jB({get(){const N=Pt(t==null?void 0:t.values,H(e),[])||[],M=n.value.findIndex(k=>k.key===x);return M===-1?P:N[M]},set(N){const M=n.value.findIndex(k=>k.key===x);M!==-1&&I(M,N)}}),isFirst:!1,isLast:!1}}function h(){d(),t==null||t.validate({mode:"silent"})}function m(P){const x=H(e),V=Pt(t==null?void 0:t.values,x);if(!V||!Array.isArray(V))return;const N=[...V];N.splice(P,1),t==null||t.unsetInitialValue(x+`[${P}]`),t==null||t.setFieldValue(x,N),n.value.splice(P,1),h()}function y(P){const x=H(e),V=Pt(t==null?void 0:t.values,x),N=Wa(V)?[]:V;if(!Array.isArray(N))return;const M=[...N];M.push(P),t==null||t.stageInitialValue(x+`[${M.length-1}]`,P),t==null||t.setFieldValue(x,M),n.value.push(v(P)),h()}function _(P,x){const V=H(e),N=Pt(t==null?void 0:t.values,V);if(!Array.isArray(N)||!(P in N)||!(x in N))return;const M=[...N],k=[...n.value],Te=M[P];M[P]=M[x],M[x]=Te;const ie=k[P];k[P]=k[x],k[x]=ie,t==null||t.setFieldValue(V,M),n.value=k,d()}function b(P,x){const V=H(e),N=Pt(t==null?void 0:t.values,V);if(!Array.isArray(N)||N.length<P)return;const M=[...N],k=[...n.value];M.splice(P,0,x),k.splice(P,0,v(x)),t==null||t.setFieldValue(V,M),n.value=k,h()}function S(P){const x=H(e);t==null||t.setFieldValue(x,P),f(),h()}function I(P,x){const V=H(e),N=Pt(t==null?void 0:t.values,V);!Array.isArray(N)||N.length-1<P||(t==null||t.setFieldValue(`${V}[${P}]`,x),t==null||t.validate({mode:"validated-only"}))}function R(P){const x=H(e),V=Pt(t==null?void 0:t.values,x),N=Wa(V)?[]:V;if(!Array.isArray(N))return;const M=[P,...N];t==null||t.stageInitialValue(x+`[${M.length-1}]`,P),t==null||t.setFieldValue(x,M),n.value.unshift(v(P)),h()}function F(P,x){const V=H(e),N=Pt(t==null?void 0:t.values,V),M=Wa(N)?[]:[...N];if(!Array.isArray(N)||!(P in N)||!(x in N))return;const k=[...n.value],Te=k[P];k.splice(P,1),k.splice(x,0,Te);const ie=M[P];M.splice(P,1),M.splice(x,0,ie),t==null||t.setFieldValue(V,M),n.value=k,h()}const q={fields:n,remove:m,push:y,swap:_,insert:b,update:I,replace:S,prepend:R,move:F};return t.fieldArrays.push(Object.assign({path:e,reset:f},q)),Vu(()=>{const P=t.fieldArrays.findIndex(x=>H(x.path)===H(e));P>=0&&t.fieldArrays.splice(P,1)}),it(l,P=>{const x=n.value.map(V=>V.value);Wt(P,x)||f()}),q}ti({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:v}=bq(Gt(e,"name"));function h(){return{fields:v.value,push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>pd(void 0,t,h)}});const Eq=ti({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Xc,void 0),r=Re(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?hs(e.as):e.as,a=pd(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Rr(s||"span",l,r.value):Rr(s,l,a)}}}),md=Eq,Iq={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:6|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are logging you in."}},methods:{...Rh(Wc,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details.";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}},components:{ErrorMessage:md}},Tq={class:"mb-3"},Sq=G("label",{class:"inline-block mb-2"},"Email",-1),Aq={class:"mb-3"},kq=G("label",{class:"inline-block mb-2"},"Password",-1),Cq=["disabled"];function Oq(e,t,n,r,o,s){const a=St("VeeField"),l=St("ErrorMessage"),f=St("VeeForm");return ze(),ht(Kt,null,[o.login_show_alert?(ze(),ht("div",{key:0,class:On(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},Ut(o.login_alert_msg),3)):cu("",!0),Ne(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Vn(()=>[G("div",Tq,[Sq,Ne(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ne(l,{class:"text-red-600",name:"email"})]),G("div",Aq,[kq,Ne(a,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Ne(l,{class:"text-red-600",name:"password"})]),G("button",{type:"submit",disabled:o.login_in_submission,class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,Cq)]),_:1},8,["validation-schema","onSubmit"])],64)}const Nq=sr(Iq,[["render",Oq]]),Rq={name:"RegisterForm",data(){return{tab:"login",schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:120",password:"required|min:9|max:100|excluded:password",confirm_password:"password_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...Rh(Wc,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}},components:{ErrorMessage:md}},xq={class:"mb-3"},Pq=G("label",{class:"inline-block mb-2"},"Name",-1),Dq={class:"mb-3"},Lq=G("label",{class:"inline-block mb-2"},"Email",-1),Fq={class:"mb-3"},Mq=G("label",{class:"inline-block mb-2"},"Age",-1),Vq={class:"mb-3"},jq=G("label",{class:"inline-block mb-2"},"Password",-1),Uq={class:"mb-3"},Bq=G("label",{class:"inline-block mb-2"},"Confirm Password",-1),qq={class:"mb-3"},$q=G("label",{class:"inline-block mb-2"},"Country",-1),Hq=G("option",{value:"USA"},"USA",-1),Kq=G("option",{value:"Mexico"},"Mexico",-1),Gq=G("option",{value:"Germany"},"Germany",-1),zq=G("option",{value:"Antarctica"},"Antarctica",-1),Wq={class:"mb-3 pl-6"},Xq=G("label",{class:"inline-block"},"Accept terms of service",-1),Yq=["disabled"];function Qq(e,t,n,r,o,s){const a=St("VeeField"),l=St("ErrorMessage"),f=St("VeeForm");return ze(),ht(Kt,null,[o.reg_show_alert?(ze(),ht("div",{key:0,class:On(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Ut(o.reg_alert_msg),3)):cu("",!0),Ne(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:Vn(()=>[G("div",xq,[Pq,Ne(a,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name",rule:"required"}),Ne(l,{class:"text-red-600",name:"name"})]),G("div",Dq,[Lq,Ne(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ne(l,{class:"text-red-600",name:"email"})]),G("div",Fq,[Mq,Ne(a,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ne(l,{class:"text-red-600",name:"age"})]),G("div",Vq,[jq,Ne(a,{type:"password",name:"password",bails:!1},{default:Vn(({field:d,errors:v})=>[G("input",u1({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},d),null,16),(ze(!0),ht(Kt,null,kc(v,h=>(ze(),ht("div",{class:"text-red-600",key:h},Ut(h),1))),128))]),_:1}),Ne(l,{class:"text-red-600",name:"password"})]),G("div",Uq,[Bq,Ne(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ne(l,{class:"text-red-600",name:"confirm_password"})]),G("div",qq,[$q,Ne(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Vn(()=>[Hq,Kq,Gq,zq]),_:1}),Ne(l,{class:"text-red-600",name:"country"})]),G("div",Wq,[Ne(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Xq,Ne(l,{class:"text-red-600 block",name:"tos"})]),G("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,Yq)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Jq=sr(Rq,[["render",Qq]]),Zq={name:"AppAuth",computed:{...Zg(Bv,["hiddenClass"]),...v1(Bv,["isOpen"])},data(){return{tab:"login"}},methods:{},components:{LoginForm:Nq,RegisterForm:Jq}},e$={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},t$=G("div",{class:"fixed inset-0 transition-opacity"},[G("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),n$=G("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),r$={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},i$={class:"py-4 text-left px-6"},o$={class:"flex justify-between items-center pb-4"},s$=G("p",{class:"text-2xl font-bold"},"Your Account",-1),u$=G("i",{class:"fas fa-times"},null,-1),a$=[u$],c$={class:"flex flex-wrap mb-4"},l$={class:"flex-auto text-center"},f$={class:"flex-auto text-center"};function h$(e,t,n,r,o,s){const a=St("LoginForm"),l=St("RegisterForm");return ze(),ht("div",{class:On(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[G("div",e$,[t$,n$,G("div",r$,[G("div",i$,[G("div",o$,[s$,G("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.isOpen=!1)},a$)]),G("ul",c$,[G("li",l$,[G("a",{class:On(["block rounded py-3 px-4 transition",{"hover: text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=un(f=>o.tab="login",["prevent"]))},"Login",2)]),G("li",f$,[G("a",{class:On(["block rounded py-3 px-4 transition",{"hover: text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=un(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(ze(),ns(a,{key:0})):(ze(),ns(l,{key:1}))])])])],2)}const d$=sr(Zq,[["render",h$]]);var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tg={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||v(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),b=0;b<_.length;b++){var S=m._howls[y]._soundById(_[b]);S&&S._node&&(S._node.volume=S._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||v(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),b=0;b<_.length;b++){var S=m._howls[y]._soundById(_[b]);S&&S._node&&(S._node.muted=h?!0:S._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,v()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",b=_.match(/OPR\/([0-6].)/g),S=b&&parseInt(b[0].split("/")[1],10)<33,I=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,R=_.match(/Version\/(.*?) /),F=I&&R&&parseInt(R[1],10)<15;return h._codecs={mp3:!!(!S&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!F&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!F&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var b=0;b<h._howls.length;b++)if(!h._howls[b]._webAudio)for(var S=h._howls[b]._getSoundIds(),I=0;I<S.length;I++){var R=h._howls[b]._soundById(S[I]);R&&R._node&&!R._node._unlocked&&(R._node._unlocked=!0,R._node.load())}h._autoResume();var F=h.ctx.createBufferSource();F.buffer=h._scratchBuffer,F.connect(h.ctx.destination),typeof F.start>"u"?F.noteOn(0):F.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),F.onended=function(){F.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var q=0;q<h._howls.length;q++)h._howls[q]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};r.prototype={init:function(h){var m=this;return n.ctx||v(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,b;if(h._format&&h._format[y])_=h._format[y];else{if(b=h._src[y],typeof b!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(b),_||(_=/\.([^.]+)$/.exec(b.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&a(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var b=0,S=0;S<y._sounds.length;S++)y._sounds[S]._paused&&!y._sounds[S]._ended&&(b++,_=y._sounds[S]._id);b===1?h=null:_=null}}var I=_?y._soundById(_):y._inactiveSound();if(!I)return null;if(_&&!h&&(h=I._sprite||"__default"),y._state!=="loaded"){I._sprite=h,I._ended=!1;var R=I._id;return y._queue.push({event:"play",action:function(){y.play(R)}}),R}if(_&&!I._paused)return m||y._loadQueue("play"),I._id;y._webAudio&&n._autoResume();var F=Math.max(0,I._seek>0?I._seek:y._sprite[h][0]/1e3),q=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-F),P=q*1e3/Math.abs(I._rate),x=y._sprite[h][0]/1e3,V=(y._sprite[h][0]+y._sprite[h][1])/1e3;I._sprite=h,I._ended=!1;var N=function(){I._paused=!1,I._seek=F,I._start=x,I._stop=V,I._loop=!!(I._loop||y._sprite[h][2])};if(F>=V){y._ended(I);return}var M=I._node;if(y._webAudio){var k=function(){y._playLock=!1,N(),y._refreshBuffer(I);var Ee=I._muted||y._muted?0:I._volume;M.gain.setValueAtTime(Ee,n.ctx.currentTime),I._playStart=n.ctx.currentTime,typeof M.bufferSource.start>"u"?I._loop?M.bufferSource.noteGrainOn(0,F,86400):M.bufferSource.noteGrainOn(0,F,q):I._loop?M.bufferSource.start(0,F,86400):M.bufferSource.start(0,F,q),P!==1/0&&(y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),P)),m||setTimeout(function(){y._emit("play",I._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?k():(y._playLock=!0,y.once("resume",k),y._clearTimer(I._id))}else{var Te=function(){M.currentTime=F,M.muted=I._muted||y._muted||n._muted||M.muted,M.volume=I._volume*n.volume(),M.playbackRate=I._rate;try{var Ee=M.play();if(Ee&&typeof Promise<"u"&&(Ee instanceof Promise||typeof Ee.then=="function")?(y._playLock=!0,N(),Ee.then(function(){y._playLock=!1,M._unlocked=!0,m?y._loadQueue():y._emit("play",I._id)}).catch(function(){y._playLock=!1,y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),I._ended=!0,I._paused=!0})):m||(y._playLock=!1,N(),y._emit("play",I._id)),M.playbackRate=I._rate,M.paused){y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||I._loop?y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),P):(y._endTimers[I._id]=function(){y._ended(I),M.removeEventListener("ended",y._endTimers[I._id],!1)},M.addEventListener("ended",y._endTimers[I._id],!1))}catch(_e){y._emit("playerror",I._id,_e)}};M.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(M.src=y._src,M.load());var ie=window&&window.ejecta||!M.readyState&&n._navigator.isCocoonJS;if(M.readyState>=3||ie)Te();else{y._playLock=!0,y._state="loading";var ke=function(){y._state="loaded",Te(),M.removeEventListener(n._canPlayEvent,ke,!1)};M.addEventListener(n._canPlayEvent,ke,!1),y._clearTimer(I._id)}}return I._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var b=m._soundById(y[_]);if(b&&!b._paused&&(b._seek=m.seek(y[_]),b._rateSeek=0,b._paused=!0,m._stopFade(y[_]),b._node))if(m._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),m._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||m._emit("pause",b?b._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),b=0;b<_.length;b++){y._clearTimer(_[b]);var S=y._soundById(_[b]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,y._stopFade(_[b]),S._node&&(y._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),y._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&y._clearSound(S._node))),m||y._emit("stop",S._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),b=0;b<_.length;b++){var S=y._soundById(_[b]);S&&(S._muted=h,S._interval&&y._stopFade(S._id),y._webAudio&&S._node?S._node.gain.setValueAtTime(h?0:S._volume,n.ctx.currentTime):S._node&&(S._node.muted=n._muted?!0:h),y._emit("mute",S._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var b=h._getSoundIds(),S=b.indexOf(m[0]);S>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var I;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var R=0;R<_.length;R++)I=h._soundById(_[R]),I&&(I._volume=y,m[2]||h._stopFade(_[R]),h._webAudio&&I._node&&!I._muted?I._node.gain.setValueAtTime(y,n.ctx.currentTime):I._node&&!I._muted&&(I._node.volume=y*n.volume()),h._emit("volume",I._id))}else return I=_?h._soundById(_):h._sounds[0],I?I._volume:0;return h},fade:function(h,m,y,_){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(h,m,y,_)}}),b;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),b.volume(h,_);for(var S=b._getSoundIds(_),I=0;I<S.length;I++){var R=b._soundById(S[I]);if(R){if(_||b._stopFade(S[I]),b._webAudio&&!R._muted){var F=n.ctx.currentTime,q=F+y/1e3;R._volume=h,R._node.gain.setValueAtTime(h,F),R._node.gain.linearRampToValueAtTime(m,q)}b._startFadeInterval(R,h,m,y,S[I],typeof _>"u")}}return b},_startFadeInterval:function(h,m,y,_,b,S){var I=this,R=m,F=y-m,q=Math.abs(F/.01),P=Math.max(4,q>0?_/q:_),x=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var V=(Date.now()-x)/_;x=Date.now(),R+=F*V,R=Math.round(R*100)/100,F<0?R=Math.max(y,R):R=Math.min(y,R),I._webAudio?h._volume=R:I.volume(R,h._id,!0),S&&(I._volume=R),(y<m&&R<=y||y>m&&R>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,I.volume(y,h._id),I._emit("fade",h._id))},P)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,b;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return b=h._soundById(parseInt(m[0],10)),b?b._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var S=h._getSoundIds(_),I=0;I<S.length;I++)b=h._soundById(S[I]),b&&(b._loop=y,h._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=y,y&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,h.playing(S[I])&&(h.pause(S[I],!0),h.play(S[I],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var b=h._getSoundIds(),S=b.indexOf(m[0]);S>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var I;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var R=0;R<_.length;R++)if(I=h._soundById(_[R]),I){h.playing(_[R])&&(I._rateSeek=h.seek(_[R]),I._playStart=h._webAudio?n.ctx.currentTime:I._playStart),I._rate=y,h._webAudio&&I._node&&I._node.bufferSource?I._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):I._node&&(I._node.playbackRate=y);var F=h.seek(_[R]),q=(h._sprite[I._sprite][0]+h._sprite[I._sprite][1])/1e3-F,P=q*1e3/Math.abs(I._rate);(h._endTimers[_[R]]||!I._paused)&&(h._clearTimer(_[R]),h._endTimers[_[R]]=setTimeout(h._ended.bind(h,I),P)),h._emit("rate",I._id)}}else return I=h._soundById(_),I?I._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var b=h._getSoundIds(),S=b.indexOf(m[0]);S>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var I=h._soundById(_);if(I)if(typeof y=="number"&&y>=0){var R=h.playing(_);R&&h.pause(_,!0),I._seek=y,I._ended=!1,h._clearTimer(_),!h._webAudio&&I._node&&!isNaN(I._node.duration)&&(I._node.currentTime=y);var F=function(){R&&h.play(_,!0),h._emit("seek",_)};if(R&&!h._webAudio){var q=function(){h._playLock?setTimeout(q,0):F()};setTimeout(q,0)}else F()}else if(h._webAudio){var P=h.playing(_)?n.ctx.currentTime-I._playStart:0,x=I._rateSeek?I._rateSeek-I._seek:0;return I._seek+(x+P*Math.abs(I._rate))}else return I._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var b=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){b=!1;break}return s&&b&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var b=this,S=b["_on"+h];return typeof m=="function"&&S.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),b},off:function(h,m,y){var _=this,b=_["_on"+h],S=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(S=0;S<b.length;S++){var I=y===b[S].id;if(m===b[S].fn&&I||!m&&I){b.splice(S,1);break}}else if(h)_["_on"+h]=[];else{var R=Object.keys(_);for(S=0;S<R.length;S++)R[S].indexOf("_on")===0&&Array.isArray(_[R[S]])&&(_[R[S]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,b=_["_on"+h],S=b.length-1;S>=0;S--)(!b[S].id||b[S].id===m||h==="load")&&(setTimeout(function(I){I.call(this,m,y)}.bind(_,b[S].fn),0),b[S].once&&_.off(h,b[S].fn,b[S].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var b=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),b)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},a=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,d(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),b=0;b<y.length;++b)_[b]=y.charCodeAt(b);f(_.buffer,h)}else{var S=new XMLHttpRequest;S.open(h._xhr.method,m,!0),S.withCredentials=h._xhr.withCredentials,S.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(I){S.setRequestHeader(I,h._xhr.headers[I])}),S.onload=function(){var I=(S.status+"")[0];if(I!=="0"&&I!=="2"&&I!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}f(S.response,h)},S.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(S)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(b){b&&m._sounds.length>0?(s[m._src]=b,d(m,b)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},d=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},v=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Da<"u"?(Da.HowlerGlobal=t,Da.Howler=n,Da.Howl=r,Da.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,a,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,a=typeof a!="number"?d[4]:a,l=typeof l!="number"?d[5]:l,typeof n=="number")f._orientation=[n,r,o,s,a,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,a,l);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var a=o._getSoundIds(r),l=0;l<a.length;l++){var f=o._soundById(a[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,o,s)}}),a;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")a._pos=[n,r,o];else return a._pos;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var d=a._soundById(l[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),a._emit("pos",d._id);else return d._pos}return a},Howl.prototype.orientation=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,o,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,o=typeof o!="number"?a._orientation[2]:o,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,o];else return a._orientation;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var d=a._soundById(l[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=a._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),a._emit("orientation",d._id);else return d._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(a=n._soundById(l[f]),a){var d=a._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var v=a._panner;v?(v.coneInnerAngle=d.coneInnerAngle,v.coneOuterAngle=d.coneOuterAngle,v.coneOuterGain=d.coneOuterGain,v.distanceModel=d.distanceModel,v.maxDistance=d.maxDistance,v.refDistance=d.refDistance,v.rolloffFactor=d.rolloffFactor,v.panningModel=d.panningModel):(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Tg);const VT={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},Sg=Jg("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof Tg.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Tg.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=VT.formatTime(this.sound.seek()),this.duration=VT.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),p$={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},m$={key:0,class:"text-center"},v$={class:"song-title font-bold"},g$=G("span",null,"by ",-1),y$={class:"song-artist"},_$={class:"flex flex-nowrap gap-4 items-center"},w$={class:"player-currenttime"},b$=G("i",{class:"fas fa-circle"},null,-1),E$=[b$],I$={class:"player-duration"};function T$(e,t,n,r,o,s){return ze(),ht("div",p$,[e.current_song.modified_name?(ze(),ht("div",m$,[G("span",v$,Ut(e.current_song.modified_name),1),g$,G("span",y$,Ut(e.current_song.display_name),1)])):cu("",!0),G("div",_$,[G("button",{type:"button",onClick:t[0]||(t[0]=un((...a)=>e.toggleAudio&&e.toggleAudio(...a),["prevent"]))},[G("i",{class:On(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),G("div",w$,Ut(e.seek),1),G("div",{class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer",onClick:t[1]||(t[1]=un((...a)=>e.updateSeek&&e.updateSeek(...a),["prevent"]))},[G("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:uu({left:e.playerProgress})},E$,4),G("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:uu({width:e.playerProgress})},null,4)]),G("div",I$,Ut(e.duration),1)])])}const S$={name:"AppPlayer",methods:{...Rh(Sg,["toggleAudio","updateSeek"])},computed:{...Zg(Sg,["playing","duration","seek","playerProgress","current_song"])}},A$=sr(S$,[["render",T$]]);function k$(e,t,n,r,o,s){const a=St("AppHeader"),l=St("RouterView"),f=St("AppPlayer"),d=St("AppAuth");return ze(),ht(Kt,null,[Ne(a),Ne(l,null,{default:Vn(({Component:v})=>[Ne(Qg,{name:"fade",mode:"out-in"},{default:Vn(()=>[(ze(),ns(hs(v)))]),_:2},1024)]),_:1}),Ne(f),Ne(d)],64)}const C$={name:"App",components:{AppHeader:CB,AppPlayer:A$,AppAuth:d$},computed:{...v1(Wc,["userLoggedIn"])},created(){Yr.currentUser&&(this.userLoggedIn=!0)}},O$=sr(C$,[["render",k$]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Js=typeof window<"u";function N$(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ut=Object.assign;function wv(e,t){const n={};for(const r in t){const o=t[r];n[r]=Pr(o)?o.map(e):e(o)}return n}const Ya=()=>{},Pr=Array.isArray,R$=/\/$/,x$=e=>e.replace(R$,"");function bv(e,t,n="/"){let r,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=F$(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function P$(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function jT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function D$(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ru(t.matched[r],n.matched[o])&&YC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ru(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function YC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!L$(e[n],t[n]))return!1;return!0}function L$(e,t){return Pr(e)?UT(e,t):Pr(t)?UT(t,e):e===t}function UT(e,t){return Pr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function F$(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var Sc;(function(e){e.pop="pop",e.push="push"})(Sc||(Sc={}));var Qa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qa||(Qa={}));function M$(e){if(!e)if(Js){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),x$(e)}const V$=/^[^#]+#/;function j$(e,t){return e.replace(V$,"#")+t}function U$(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const vd=()=>({left:window.pageXOffset,top:window.pageYOffset});function B$(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=U$(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function BT(e,t){return(history.state?history.state.position-t:-1)+e}const Ag=new Map;function q$(e,t){Ag.set(e,t)}function $$(e){const t=Ag.get(e);return Ag.delete(e),t}let H$=()=>location.protocol+"//"+location.host;function QC(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),jT(f,"")}return jT(n,e)+r+o}function K$(e,t,n,r){let o=[],s=[],a=null;const l=({state:m})=>{const y=QC(e,location),_=n.value,b=t.value;let S=0;if(m){if(n.value=y,t.value=m,a&&a===_){a=null;return}S=b?m.position-b.position:0}else r(y);o.forEach(I=>{I(n.value,_,{delta:S,type:Sc.pop,direction:S?S>0?Qa.forward:Qa.back:Qa.unknown})})};function f(){a=n.value}function d(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function v(){const{history:m}=window;m.state&&m.replaceState(ut({},m.state,{scroll:vd()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",v),{pauseListeners:f,listen:d,destroy:h}}function qT(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?vd():null}}function G$(e){const{history:t,location:n}=window,r={value:QC(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,v){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:H$()+e+f;try{t[v?"replaceState":"pushState"](d,"",m),o.value=d}catch(y){console.error(y),n[v?"replace":"assign"](m)}}function a(f,d){const v=ut({},t.state,qT(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,v,!0),r.value=f}function l(f,d){const v=ut({},o.value,t.state,{forward:f,scroll:vd()});s(v.current,v,!0);const h=ut({},qT(r.value,f,null),{position:v.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:a}}function z$(e){e=M$(e);const t=G$(e),n=K$(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=ut({location:"",base:e,go:r,createHref:j$.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function W$(e){return typeof e=="string"||e&&typeof e=="object"}function JC(e){return typeof e=="string"||typeof e=="symbol"}const Fi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ZC=Symbol("");var $T;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($T||($T={}));function xu(e,t){return ut(new Error,{type:e,[ZC]:!0},t)}function ui(e,t){return e instanceof Error&&ZC in e&&(t==null||!!(e.type&t))}const HT="[^/]+?",X$={sensitive:!1,strict:!1,start:!0,end:!0},Y$=/[.+*?^${}()[\]/\\]/g;function Q$(e,t){const n=ut({},X$,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const v=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const m=d[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(Y$,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:b,optional:S,regexp:I}=m;s.push({name:_,repeatable:b,optional:S});const R=I||HT;if(R!==HT){y+=10;try{new RegExp(`(${R})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+q.message)}}let F=b?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(F=S&&d.length<2?`(?:/${F})`:"/"+F),S&&(F+="?"),o+=F,y+=20,S&&(y+=-8),b&&(y+=-20),R===".*"&&(y+=-50)}v.push(y)}r.push(v)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const v=d.match(a),h={};if(!v)return null;for(let m=1;m<v.length;m++){const y=v[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(d){let v="",h=!1;for(const m of e){(!h||!v.endsWith("/"))&&(v+="/"),h=!1;for(const y of m)if(y.type===0)v+=y.value;else if(y.type===1){const{value:_,repeatable:b,optional:S}=y,I=_ in d?d[_]:"";if(Pr(I)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=Pr(I)?I.join("/"):I;if(!R)if(S)m.length<2&&(v.endsWith("/")?v=v.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);v+=R}}return v||"/"}return{re:a,score:r,keys:s,parse:l,stringify:f}}function J$(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Z$(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=J$(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(KT(r))return 1;if(KT(o))return-1}return o.length-r.length}function KT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const e3={type:0,value:""},t3=/[a-zA-Z0-9_]/;function n3(e){if(!e)return[[]];if(e==="/")return[[e3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,d="",v="";function h(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),a()):f===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:f==="("?n=2:t3.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,v="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),a(),o}function r3(e,t,n){const r=Q$(n3(e.path),n),o=ut(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function i3(e,t){const n=[],r=new Map;t=WT({strict:!1,end:!0,sensitive:!1},t);function o(v){return r.get(v)}function s(v,h,m){const y=!m,_=o3(v);_.aliasOf=m&&m.record;const b=WT(t,v),S=[_];if("alias"in v){const F=typeof v.alias=="string"?[v.alias]:v.alias;for(const q of F)S.push(ut({},_,{components:m?m.record.components:_.components,path:q,aliasOf:m?m.record:_}))}let I,R;for(const F of S){const{path:q}=F;if(h&&q[0]!=="/"){const P=h.record.path,x=P[P.length-1]==="/"?"":"/";F.path=h.record.path+(q&&x+q)}if(I=r3(F,h,b),m?m.alias.push(I):(R=R||I,R!==I&&R.alias.push(I),y&&v.name&&!zT(I)&&a(v.name)),_.children){const P=_.children;for(let x=0;x<P.length;x++)s(P[x],I,m&&m.children[x])}m=m||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&f(I)}return R?()=>{a(R)}:Ya}function a(v){if(JC(v)){const h=r.get(v);h&&(r.delete(v),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(v);h>-1&&(n.splice(h,1),v.record.name&&r.delete(v.record.name),v.children.forEach(a),v.alias.forEach(a))}}function l(){return n}function f(v){let h=0;for(;h<n.length&&Z$(v,n[h])>=0&&(v.record.path!==n[h].record.path||!eO(v,n[h]));)h++;n.splice(h,0,v),v.record.name&&!zT(v)&&r.set(v.record.name,v)}function d(v,h){let m,y={},_,b;if("name"in v&&v.name){if(m=r.get(v.name),!m)throw xu(1,{location:v});b=m.record.name,y=ut(GT(h.params,m.keys.filter(R=>!R.optional).map(R=>R.name)),v.params&&GT(v.params,m.keys.map(R=>R.name))),_=m.stringify(y)}else if("path"in v)_=v.path,m=n.find(R=>R.re.test(_)),m&&(y=m.parse(_),b=m.record.name);else{if(m=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!m)throw xu(1,{location:v,currentLocation:h});b=m.record.name,y=ut({},h.params,v.params),_=m.stringify(y)}const S=[];let I=m;for(;I;)S.unshift(I.record),I=I.parent;return{name:b,path:_,params:y,matched:S,meta:u3(S)}}return e.forEach(v=>s(v)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function GT(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function o3(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:s3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function s3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function zT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function u3(e){return e.reduce((t,n)=>ut(t,n.meta),{})}function WT(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function eO(e,t){return t.children.some(n=>n===e||eO(e,n))}const tO=/#/g,a3=/&/g,c3=/\//g,l3=/=/g,f3=/\?/g,nO=/\+/g,h3=/%5B/g,d3=/%5D/g,rO=/%5E/g,p3=/%60/g,iO=/%7B/g,m3=/%7C/g,oO=/%7D/g,v3=/%20/g;function S_(e){return encodeURI(""+e).replace(m3,"|").replace(h3,"[").replace(d3,"]")}function g3(e){return S_(e).replace(iO,"{").replace(oO,"}").replace(rO,"^")}function kg(e){return S_(e).replace(nO,"%2B").replace(v3,"+").replace(tO,"%23").replace(a3,"%26").replace(p3,"`").replace(iO,"{").replace(oO,"}").replace(rO,"^")}function y3(e){return kg(e).replace(l3,"%3D")}function _3(e){return S_(e).replace(tO,"%23").replace(f3,"%3F")}function w3(e){return e==null?"":_3(e).replace(c3,"%2F")}function mh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function b3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(nO," "),a=s.indexOf("="),l=mh(a<0?s:s.slice(0,a)),f=a<0?null:mh(s.slice(a+1));if(l in t){let d=t[l];Pr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function XT(e){let t="";for(let n in e){const r=e[n];if(n=y3(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pr(r)?r.map(s=>s&&kg(s)):[r&&kg(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function E3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Pr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const I3=Symbol(""),YT=Symbol(""),A_=Symbol(""),sO=Symbol(""),Cg=Symbol("");function La(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function qi(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=h=>{h===!1?l(xu(4,{from:n,to:t})):h instanceof Error?l(h):W$(h)?l(xu(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),a())},d=e.call(r&&r.instances[o],t,n,f);let v=Promise.resolve(d);e.length<3&&(v=v.then(f)),v.catch(h=>l(h))})}function Ev(e,t,n,r){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(T3(l)){const d=(l.__vccOpts||l)[t];d&&o.push(qi(d,n,r,s,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const v=N$(d)?d.default:d;s.components[a]=v;const m=(v.__vccOpts||v)[t];return m&&qi(m,n,r,s,a)()}))}}return o}function T3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function QT(e){const t=jn(A_),n=jn(sO),r=Re(()=>t.resolve(H(e.to))),o=Re(()=>{const{matched:f}=r.value,{length:d}=f,v=f[d-1],h=n.matched;if(!v||!h.length)return-1;const m=h.findIndex(Ru.bind(null,v));if(m>-1)return m;const y=JT(f[d-2]);return d>1&&JT(v)===y&&h[h.length-1].path!==y?h.findIndex(Ru.bind(null,f[d-2])):m}),s=Re(()=>o.value>-1&&C3(n.params,r.value.params)),a=Re(()=>o.value>-1&&o.value===n.matched.length-1&&YC(n.params,r.value.params));function l(f={}){return k3(f)?t[H(e.replace)?"replace":"push"](H(e.to)).catch(Ya):Promise.resolve()}return{route:r,href:Re(()=>r.value.href),isActive:s,isExactActive:a,navigate:l}}const S3=ti({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:QT,setup(e,{slots:t}){const n=mr(QT(e)),{options:r}=jn(A_),o=Re(()=>({[ZT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ZT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Rr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),A3=S3;function k3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function C3(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Pr(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function JT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ZT=(e,t,n)=>e??t??n,O3=ti({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=jn(Cg),o=Re(()=>e.route||r.value),s=jn(YT,0),a=Re(()=>{let d=H(s);const{matched:v}=o.value;let h;for(;(h=v[d])&&!h.components;)d++;return d}),l=Re(()=>o.value.matched[a.value]);Yi(YT,Re(()=>a.value+1)),Yi(I3,l),Yi(Cg,o);const f=yt();return it(()=>[f.value,l.value,e.name],([d,v,h],[m,y,_])=>{v&&(v.instances[h]=d,y&&y!==v&&d&&d===m&&(v.leaveGuards.size||(v.leaveGuards=y.leaveGuards),v.updateGuards.size||(v.updateGuards=y.updateGuards))),d&&v&&(!y||!Ru(v,y)||!m)&&(v.enterCallbacks[h]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=o.value,v=e.name,h=l.value,m=h&&h.components[v];if(!m)return eS(n.default,{Component:m,route:d});const y=h.props[v],_=y?y===!0?d.params:typeof y=="function"?y(d):y:null,S=Rr(m,ut({},_,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(h.instances[v]=null)},ref:f}));return eS(n.default,{Component:S,route:d})||S}}});function eS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const N3=O3;function R3(e){const t=i3(e.routes,e),n=e.parseQuery||b3,r=e.stringifyQuery||XT,o=e.history,s=La(),a=La(),l=La(),f=cD(Fi);let d=Fi;Js&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=wv.bind(null,X=>""+X),h=wv.bind(null,w3),m=wv.bind(null,mh);function y(X,le){let L,K;return JC(X)?(L=t.getRecordMatcher(X),K=le):K=X,t.addRoute(K,L)}function _(X){const le=t.getRecordMatcher(X);le&&t.removeRoute(le)}function b(){return t.getRoutes().map(X=>X.record)}function S(X){return!!t.getRecordMatcher(X)}function I(X,le){if(le=ut({},le||f.value),typeof X=="string"){const A=bv(n,X,le.path),D=t.resolve({path:A.path},le),U=o.createHref(A.fullPath);return ut(A,D,{params:m(D.params),hash:mh(A.hash),redirectedFrom:void 0,href:U})}let L;if("path"in X)L=ut({},X,{path:bv(n,X.path,le.path).path});else{const A=ut({},X.params);for(const D in A)A[D]==null&&delete A[D];L=ut({},X,{params:h(X.params)}),le.params=h(le.params)}const K=t.resolve(L,le),me=X.hash||"";K.params=v(m(K.params));const Ge=P$(r,ut({},X,{hash:g3(me),path:K.path})),Ie=o.createHref(Ge);return ut({fullPath:Ge,hash:me,query:r===XT?E3(X.query):X.query||{}},K,{redirectedFrom:void 0,href:Ie})}function R(X){return typeof X=="string"?bv(n,X,f.value.path):ut({},X)}function F(X,le){if(d!==X)return xu(8,{from:le,to:X})}function q(X){return V(X)}function P(X){return q(ut(R(X),{replace:!0}))}function x(X){const le=X.matched[X.matched.length-1];if(le&&le.redirect){const{redirect:L}=le;let K=typeof L=="function"?L(X):L;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=R(K):{path:K},K.params={}),ut({query:X.query,hash:X.hash,params:"path"in K?{}:X.params},K)}}function V(X,le){const L=d=I(X),K=f.value,me=X.state,Ge=X.force,Ie=X.replace===!0,A=x(L);if(A)return V(ut(R(A),{state:typeof A=="object"?ut({},me,A.state):me,force:Ge,replace:Ie}),le||L);const D=L;D.redirectedFrom=le;let U;return!Ge&&D$(r,K,L)&&(U=xu(16,{to:D,from:K}),Ze(K,K,!0,!1)),(U?Promise.resolve(U):M(D,K)).catch(W=>ui(W)?ui(W,2)?W:Ke(W):de(W,D,K)).then(W=>{if(W){if(ui(W,2))return V(ut({replace:Ie},R(W.to),{state:typeof W.to=="object"?ut({},me,W.to.state):me,force:Ge}),le||D)}else W=Te(D,K,!0,Ie,me);return k(D,K,W),W})}function N(X,le){const L=F(X,le);return L?Promise.reject(L):Promise.resolve()}function M(X,le){let L;const[K,me,Ge]=x3(X,le);L=Ev(K.reverse(),"beforeRouteLeave",X,le);for(const A of K)A.leaveGuards.forEach(D=>{L.push(qi(D,X,le))});const Ie=N.bind(null,X,le);return L.push(Ie),Ws(L).then(()=>{L=[];for(const A of s.list())L.push(qi(A,X,le));return L.push(Ie),Ws(L)}).then(()=>{L=Ev(me,"beforeRouteUpdate",X,le);for(const A of me)A.updateGuards.forEach(D=>{L.push(qi(D,X,le))});return L.push(Ie),Ws(L)}).then(()=>{L=[];for(const A of X.matched)if(A.beforeEnter&&!le.matched.includes(A))if(Pr(A.beforeEnter))for(const D of A.beforeEnter)L.push(qi(D,X,le));else L.push(qi(A.beforeEnter,X,le));return L.push(Ie),Ws(L)}).then(()=>(X.matched.forEach(A=>A.enterCallbacks={}),L=Ev(Ge,"beforeRouteEnter",X,le),L.push(Ie),Ws(L))).then(()=>{L=[];for(const A of a.list())L.push(qi(A,X,le));return L.push(Ie),Ws(L)}).catch(A=>ui(A,8)?A:Promise.reject(A))}function k(X,le,L){for(const K of l.list())K(X,le,L)}function Te(X,le,L,K,me){const Ge=F(X,le);if(Ge)return Ge;const Ie=le===Fi,A=Js?history.state:{};L&&(K||Ie?o.replace(X.fullPath,ut({scroll:Ie&&A&&A.scroll},me)):o.push(X.fullPath,me)),f.value=X,Ze(X,le,L,Ie),Ke()}let ie;function ke(){ie||(ie=o.listen((X,le,L)=>{if(!en.listening)return;const K=I(X),me=x(K);if(me){V(ut(me,{replace:!0}),K).catch(Ya);return}d=K;const Ge=f.value;Js&&q$(BT(Ge.fullPath,L.delta),vd()),M(K,Ge).catch(Ie=>ui(Ie,12)?Ie:ui(Ie,2)?(V(Ie.to,K).then(A=>{ui(A,20)&&!L.delta&&L.type===Sc.pop&&o.go(-1,!1)}).catch(Ya),Promise.reject()):(L.delta&&o.go(-L.delta,!1),de(Ie,K,Ge))).then(Ie=>{Ie=Ie||Te(K,Ge,!1),Ie&&(L.delta&&!ui(Ie,8)?o.go(-L.delta,!1):L.type===Sc.pop&&ui(Ie,20)&&o.go(-1,!1)),k(K,Ge,Ie)}).catch(Ya)}))}let Ee=La(),_e=La(),he;function de(X,le,L){Ke(X);const K=_e.list();return K.length?K.forEach(me=>me(X,le,L)):console.error(X),Promise.reject(X)}function ge(){return he&&f.value!==Fi?Promise.resolve():new Promise((X,le)=>{Ee.add([X,le])})}function Ke(X){return he||(he=!X,ke(),Ee.list().forEach(([le,L])=>X?L(X):le()),Ee.reset()),X}function Ze(X,le,L,K){const{scrollBehavior:me}=e;if(!Js||!me)return Promise.resolve();const Ge=!L&&$$(BT(X.fullPath,0))||(K||!L)&&history.state&&history.state.scroll||null;return er().then(()=>me(X,le,Ge)).then(Ie=>Ie&&B$(Ie)).catch(Ie=>de(Ie,X,le))}const nt=X=>o.go(X);let Qe;const Ot=new Set,en={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:S,getRoutes:b,resolve:I,options:e,push:q,replace:P,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:_e.add,isReady:ge,install(X){const le=this;X.component("RouterLink",A3),X.component("RouterView",N3),X.config.globalProperties.$router=le,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>H(f)}),Js&&!Qe&&f.value===Fi&&(Qe=!0,q(o.location).catch(me=>{}));const L={};for(const me in Fi)L[me]=Re(()=>f.value[me]);X.provide(A_,le),X.provide(sO,mr(L)),X.provide(Cg,f);const K=X.unmount;Ot.add(X),X.unmount=function(){Ot.delete(X),Ot.size<1&&(d=Fi,ie&&ie(),ie=null,f.value=Fi,Qe=!1,he=!1),K()}}};return en}function Ws(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function x3(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>Ru(d,l))?r.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>Ru(d,f))||o.push(f))}return[n,r,o]}const P3={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},D3={class:"text-gray-500 text-sm"},L3={class:"text-gray-600 text-lg"},F3=["onClick"],M3={class:"fa fa-comments text-gray-600"};function V3(e,t,n,r,o,s){const a=St("RouterLink");return ze(),ht("li",P3,[G("div",null,[Ne(a,{class:"font-bold block text-gray-600",to:{name:"song",params:{id:n.song.docID}}},{default:Vn(()=>[iu(Ut(n.song.modified_name),1)]),_:1},8,["to"]),G("span",D3,Ut(n.song.display_name),1)]),G("div",L3,[Ne(a,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:Vn(({navigate:l})=>[G("span",{class:"comments",onClick:l},[G("i",M3,Ut(n.song.comment_count),1)],8,F3)]),_:1},8,["to"])])])}const j3={name:"SongItem",props:["song"]},U3=sr(j3,[["render",V3]]),B3="/assets/img/introduction-music.png",q3=uL('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phaselluset dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna.</p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+B3+'" alt="introduction"></section>',1),$3={class:"container mx-auto"},H3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},K3=G("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[G("span",{class:"card-title"},"Songs"),G("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),G3={id:"playlist"};function z3(e,t,n,r,o,s){const a=St("SongItem");return ze(),ht("main",null,[q3,G("section",$3,[G("div",H3,[K3,G("ol",G3,[(ze(!0),ht(Kt,null,kc(o.songs,l=>(ze(),ns(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])])}const W3={name:"HomeView",data(){return{songs:[],maxPerPage:3,pendingRequest:!1}},components:{SongItem:U3},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await pi.doc(this.songs[this.songs.length-1].docID).get();e=await pi.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get()}else e=await pi.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})}),this.pendingRequest=!1}}},X3=sr(W3,[["render",z3]]),Y3={class:"about"},Q3=G("h1",null,"This is an about page",-1),J3=[Q3];function Z3(e,t){return ze(),ht("div",Y3,J3)}const e4={},t4=sr(e4,[["render",Z3]]),n4={name:"Upload-view",data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){this.is_dragover=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const s=FC.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Yr.currentUser.uid,display_name:Yr.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL(),await pi.add(l),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})})},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}}},r4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},i4=G("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[G("span",{class:"card-title"},"Upload"),G("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),o4={class:"p-6"},s4=G("h5",null,"Drop your files here",-1),u4=[s4],a4=G("hr",{class:"my-6"},null,-1),c4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function l4(e,t,n,r,o,s){return ze(),ht("div",r4,[i4,G("div",o4,[G("div",{class:On(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=un(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=un(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=un(a=>o.is_dragover=!0,["prevent","stop"])),onDragover:t[3]||(t[3]=un(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=un(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=un(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=un(a=>s.upload(a),["prevent","stop"]))},u4,34),G("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>s.upload(a))},null,32),a4,(ze(!0),ht(Kt,null,kc(o.uploads,a=>(ze(),ht("div",{class:"mb-4",key:a.name},[G("div",{class:On(["font-bold text-sm",a.text_class])},[G("i",{class:On(a.icon)},null,2),iu(Ut(a.name),1)],2),G("div",c4,[G("div",{class:On(["transition-all progress-bar",a.variant]),style:uu({width:a.current_progress+"%"})},null,6)])]))),128))])])}const f4=sr(n4,[["render",l4]]),h4={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info";try{await pi.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await FC.ref().child(`songs/${this.song.original_name}`).delete(),await pi.doc(this.song.docID).delete(),this.removeSong(this.index)}}},d4={class:"border border-gray-200 p-3 mb-4 rounded"},p4={class:"inline-block text-2xl font-bold"},m4=G("i",{class:"fa fa-times"},null,-1),v4=[m4],g4=G("i",{class:"fa fa-pencil-alt"},null,-1),y4=[g4],_4={class:"mb-3"},w4=G("label",{class:"inline-block mb-2"},"Song Title",-1),b4={class:"mb-3"},E4=G("label",{class:"inline-block mb-2"},"Genre",-1),I4=["disabled"],T4=["disabled"];function S4(e,t,n,r,o,s){const a=St("vee-field"),l=St("ErrorMessage"),f=St("vee-form");return ze(),ht("div",d4,[Rv(G("div",null,[G("h4",p4,Ut(n.song.modified_name),1),G("button",{onClick:t[0]||(t[0]=un((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},v4),G("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=un(d=>o.showForm=!o.showForm,["prevent"]))},y4)],512),[[WE,!o.showForm]]),Rv(G("div",null,[o.show_alert?(ze(),ht("div",{key:0,class:On(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Ut(o.alert_message),3)):cu("",!0),Ne(f,{onSubmit:s.edit,"validation-schema":o.schema,"initial-values":n.song},{default:Vn(()=>[G("div",_4,[w4,Ne(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Ne(l,{class:"text-red-600",name:"modified_name"})]),G("div",b4,[E4,Ne(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Ne(l,{class:"text-red-600",name:"genre"})]),G("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,I4),G("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=un(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,T4)]),_:1},8,["onSubmit","validation-schema","initial-values"])],512),[[WE,o.showForm]])])}const A4=sr(h4,[["render",S4]]),k4={class:"container mx-auto mt-6"},C4={class:"md:grid md:grid-cols-3 md:gap-4"},O4={class:"col-span-1"},N4={class:"col-span-2"},R4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},x4=G("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[G("span",{class:"card-title"},"My Songs"),G("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),P4={class:"p-6"};function D4(e,t,n,r,o,s){const a=St("AppUpload"),l=St("CompositionItem");return ze(),ht("section",k4,[G("div",C4,[G("div",O4,[Ne(a,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),G("div",N4,[G("div",R4,[x4,G("div",P4,[(ze(!0),ht(Kt,null,kc(o.songs,(f,d)=>(ze(),ns(l,{key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const L4={name:"manage-view",components:{AppUpload:f4,CompositionItem:A4},data(){return{songs:[],unsavedFlag:!1}},async created(){(await pi.where("uid","==",Yr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},F4=sr(L4,[["render",D4]]),M4={class:"w-full mb-8 py-14 text-center text-white relative"},V4=G("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),j4={class:"container mx-auto flex items-center"},U4=G("i",{class:"fas fa-play"},null,-1),B4=[U4],q4={class:"z-50 text-left ml-8"},$4={class:"text-3xl font-bold"},H4={class:"container mx-auto mt-6",id:"comments"},K4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},G4={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},z4={class:"card-title"},W4=G("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),X4=G("div",{class:"p-6"},null,-1),Y4=["disabled"],Q4=G("option",{value:"1"},"Latest",-1),J4=G("option",{value:"2"},"Oldest",-1),Z4=[Q4,J4],eH={class:"container mx-auto"},tH={class:"mb-5"},nH={class:"font-bold"};function rH(e,t,n,r,o,s){const a=St("VeeField"),l=St("ErrorMessage"),f=St("VeeForm");return ze(),ht("main",null,[G("section",M4,[V4,G("div",j4,[G("button",{class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none",type:"button",onClick:t[0]||(t[0]=un(d=>e.newSong(o.song),["prevent"]))},B4),G("div",q4,[G("div",$4,Ut(o.song.modified_name),1),G("div",null,Ut(o.song.genre),1)])])]),G("section",H4,[G("div",K4,[G("div",G4,[G("span",z4,"Comments: ("+Ut(o.song.comment_count)+")",1),W4]),X4,o.comment_show_alert?(ze(),ht("div",{key:0,class:On(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Ut(o.comment_alert_message),3)):cu("",!0),e.userLoggedIn?(ze(),ns(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment},{default:Vn(()=>[Ne(a,{class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",as:"textarea",name:"comment",placeholder:"Your comment here..."}),Ne(l,{class:"text-red-600",name:"comment"}),G("button",{class:"py-1.5 px-3 rounded text-white bg-green-600 block",type:"submit",disabled:o.comment_in_submission},"Submit",8,Y4)]),_:1},8,["validation-schema","onSubmit"])):cu("",!0),Rv(G("select",{class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded","onUpdate:modelValue":t[1]||(t[1]=d=>o.sort=d)},Z4,512),[[BL,o.sort]])])]),G("ul",eH,[(ze(!0),ht(Kt,null,kc(s.sortedComments,d=>(ze(),ht("li",{class:"p-6 bg-gray-50 border border-gray-200",key:d.docID},[G("div",tH,[G("div",nH,Ut(d.name),1),G("time",null,Ut(d.datePosted),1),G("p",null,Ut(d.content),1)])]))),128))])])}const iH={name:"song-view",computed:{...Zg(Wc,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submitted",comments:[],sort:"1"}},async created(){const e=await pi.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:Yr.currentUser.displayName,uid:Yr.currentUser.uid};await NT.add(n),this.song.comment_count+=1,await pi.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await NT.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})},...Rh(Sg,["newSong"])},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}},components:{ErrorMessage:md}},oH=sr(iH,[["render",rH]]),sH=[{name:"home",path:"/",component:X3},{name:"about",path:"/about",component:t4},{name:"manage",path:"/manage-music",component:F4,beforeEnter:(e,t,n)=>{console.log("Manage Route Guard"),n()}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:oH},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],uH=R3({history:z$("/"),routes:sH,linkExactActiveClass:"text-yellow-500"});/**
  * vee-validate v4.8.4
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const wf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},aH=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Yc(e,t){return Array.isArray(e)?e[0]:e[t]}function po(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const uO=(e,t)=>{if(po(e))return!0;const n=aH(t);if(Array.isArray(e))return e.every(o=>uO(o,{locale:n}));const r=String(e);return n?(wf[n]||wf.en).test(r):Object.keys(wf).some(o=>wf[o].test(r))},cH=(e,t)=>{const n=Yc(t,"target");return String(e)===String(n)},lH=e=>{if(po(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function fH(e){return e==null}function hH(e){return Array.isArray(e)&&e.length===0}const aO=(e,t)=>{if(po(e))return!0;const n=Yc(t,"length");return Array.isArray(e)?e.every(r=>aO(r,{length:n})):String(e).length<=Number(n)},cO=(e,t)=>{if(po(e))return!0;const n=Yc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>cO(r,{max:n})):Number(e)<=Number(n)},lO=(e,t)=>{if(po(e))return!0;const n=Yc(t,"length");return Array.isArray(e)?e.every(r=>lO(r,{length:n})):String(e).length>=Number(n)},fO=(e,t)=>{if(po(e))return!0;const n=Yc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>fO(r,{min:n})):Number(e)>=Number(n)},hO=(e,t)=>po(e)?!0:Array.isArray(e)?e.every(n=>hO(n,t)):Array.from(t).some(n=>n==e),tS=(e,t)=>po(e)?!0:!hO(e,t),nS=e=>fH(e)||hH(e)||e===!1?!1:!!String(e).trim().length;/**
  * vee-validate v4.8.4
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function gi(e){return typeof e=="function"}function Ja(e){return e==null}const fs=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function dO(e){return Number(e)>=0}function dH(e){const t=parseFloat(e);return isNaN(t)?e:t}const pH={};function mH(e){return pH[e]}const Qc=Symbol("vee-validate-form"),vH=Symbol("vee-validate-field-instance"),vh=Symbol("Default empty value"),gH=typeof window<"u";function Og(e){return gi(e)&&!!e.__locatorRef}function eo(e){return!!e&&gi(e.parse)&&e.__type==="VVTypedSchema"}function Za(e){return!!e&&gi(e.validate)}function Pu(e){return e==="checkbox"||e==="radio"}function yH(e){return fs(e)||Array.isArray(e)}function pO(e){return Array.isArray(e)?e.length===0:fs(e)&&Object.keys(e).length===0}function gd(e){return/^\[.+\]$/i.test(e)}function _H(e){return mO(e)&&e.multiple}function mO(e){return e.tagName==="SELECT"}function wH(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function bH(e,t){return!wH(e,t)&&t.type!=="file"&&!Pu(t.type)}function vO(e){return k_(e)&&e.target&&"submit"in e.target}function k_(e){return e?!!(typeof Event<"u"&&gi(Event)&&e instanceof Event||e&&e.srcElement):!1}function rS(e,t){return t in e&&e[t]!==vh}function Xt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Xt(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Xt(r[1],t.get(r[0])))return!1;return!0}if(iS(e)&&iS(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var s=o[r];if(!Xt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function iS(e){return gH?e instanceof File:!1}function oS(e,t,n){typeof n.value=="object"&&(n.value=ft(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ft(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(ft(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(ft(l),ft(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(ft(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)oS(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||oS(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function C_(e){return gd(e)?e.replace(/\[|\]/gi,""):e}function Dt(e,t,n){return e?gd(t)?e[C_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>yH(o)&&s in o?o[s]:n,e):n}function ji(e,t,n){if(gd(t)){e[C_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Ja(o[r[s]]))&&(o[r[s]]=dO(r[s+1])?[]:{}),o=o[r[s]]}}function Iv(e,t){if(Array.isArray(e)&&dO(t)){e.splice(Number(t),1);return}fs(e)&&delete e[t]}function bf(e,t){if(gd(t)){delete e[C_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Iv(r,n[s]);break}if(!(n[s]in r)||Ja(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,a)=>Dt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(pO(o[s])){if(s===0){Iv(e,n[0]);continue}Iv(o[s-1],n[s-1])}}function on(e){return Object.keys(e)}function O_(e,t=void 0){const n=so();return(n==null?void 0:n.provides[e])||jn(e,t)}function Ng(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Xt(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Xt(e,t)?n:t}function sS(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function EH(e,t){return fs(t)&&t.number?dH(e):e}function Rg(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function IH({get:e,set:t}){const n=yt(ft(e()));return it(e,r=>{Xt(r,n.value)||(n.value=ft(r))},{deep:!0}),it(n,r=>{Xt(r,e())||t(ft(r))},{deep:!0}),n}function TH(e){return gi(e)?e():H(e)}function SH(e){return Re(()=>TH(e))}const yd=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function Tv(e){if(gO(e))return e._value}function gO(e){return"_value"in e}function N_(e){if(!k_(e))return e;const t=e.target;if(Pu(t.type)&&gO(t))return Tv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(_H(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Tv);if(mO(t)){const n=Array.from(t.options).find(r=>r.selected);return n?Tv(n):t.value}return t.value}function yO(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?fs(e)&&e._$$isNormalized?e:fs(e)?Object.keys(e).reduce((n,r)=>{const o=AH(e[r]);return e[r]!==!1&&(n[r]=uS(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=kH(r);return o.name&&(n[o.name]=uS(o.params)),n},t):t}function AH(e){return e===!0?[]:Array.isArray(e)||fs(e)?e:[e]}function uS(e){const t=n=>typeof n=="string"&&n[0]==="@"?CH(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const kH=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function CH(e){const t=n=>Dt(n,e)||n[e];return t.__locatorRef=e,t}function OH(e){return Array.isArray(e)?e.filter(Og):on(e).filter(t=>Og(e[t])).map(t=>e[t])}const NH={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let RH=Object.assign({},NH);const R_=()=>RH;async function _O(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},a=(await xH(o,e)).errors;return{errors:a,valid:!a.length}}async function xH(e,t){if(eo(e.rules)||Za(e.rules))return DH(t,e.rules);if(gi(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let v=0;v<f;v++){const h=l[v],m=await h(t,a);if(typeof m!="string"&&m)continue;const _=typeof m=="string"?m:bO(a);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:yO(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await LH(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function PH(e){return!!e&&e.name==="ValidationError"}function wO(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!PH(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function DH(e,t){const r=await(eo(t)?t:wO(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function LH(e,t,n){const r=mH(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=FH(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await r(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:bO(s)}}function bO(e){const t=R_().generateMessage;return t?t(e):"Field is invalid"}function FH(e,t){const n=r=>Og(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function MH(e,t){const r=await(eo(e)?e:wO(e)).parse(t),o={},s={};for(const a of r.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function VH(e,t,n){const o=on(e).map(async d=>{var v,h,m;const y=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[d],_=await _O(Dt(t,d),e[d],{name:(y==null?void 0:y.name)||d,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let aS=0;function jH(e,t){const{value:n,initialValue:r,setInitialValue:o}=EO(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=BH(e,t.form),f=UH(n,r,a),d=aS>=Number.MAX_SAFE_INTEGER?0:++aS;function v(h){var m;"value"in h&&(n.value=h.value),"errors"in h&&l(h.errors),"touched"in h&&(f.touched=(m=h.touched)!==null&&m!==void 0?m:f.touched),"initialValue"in h&&o(h.initialValue)}return{id:d,path:e,value:n,initialValue:r,meta:f,errors:a,errorMessage:s,setState:v}}function EO(e,t,n){const r=yt(H(t));function o(){return n?Dt(n.meta.value.initialValues,H(e),H(r)):H(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(H(e),d,!0)}const a=Re(o);if(!n)return{value:yt(o()),initialValue:a,setInitialValue:s};const l=t?H(t):Dt(n.values,H(e),H(a));return n.stageInitialValue(H(e),l,!0),{value:Re({get(){return Dt(n.values,H(e))},set(d){n.setFieldValue(H(e),d)}}),initialValue:a,setInitialValue:s}}function UH(e,t,n){const r=mr({touched:!1,pending:!1,valid:!0,validated:!!H(n).length,initialValue:Re(()=>H(t)),dirty:Re(()=>!Xt(H(e),H(t)))});return it(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function BH(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=yt([]);return{errors:o,errorMessage:Re(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const r=Re(()=>t.errorBag.value[H(e)]||[]);return{errors:r,errorMessage:Re(()=>r.value[0]),setErrors:o=>{t.setFieldErrorBag(H(e),n(o))}}}function qH(e,t,n){return Pu(n==null?void 0:n.type)?KH(e,t,n):IO(e,t,n)}function IO(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:v,controlled:h,keepValueOnUnmount:m,modelPropName:y,syncVModel:_,form:b}=$H(n),S=h?O_(Qc):void 0,I=b||S,R=SH(e);let F=!1;const{id:q,value:P,initialValue:x,meta:V,setState:N,errors:M,errorMessage:k}=jH(R,{modelValue:r,form:I});_&&GH({value:P,prop:y,handleChange:de});const Te=()=>{V.touched=!0},ie=Re(()=>{let L=H(t);const K=H(I==null?void 0:I.schema);return K&&!Za(K)&&!eo(K)&&(L=HH(K,H(R))||L),Za(L)||eo(L)||gi(L)||Array.isArray(L)?L:yO(L)});async function ke(L){var K,me;return I!=null&&I.validateSchema?(K=(await I.validateSchema(L)).results[H(R)])!==null&&K!==void 0?K:{valid:!0,errors:[]}:_O(P.value,ie.value,{name:H(R),label:H(f),values:(me=I==null?void 0:I.values)!==null&&me!==void 0?me:{},bails:s})}const Ee=Rg(async()=>(V.pending=!0,V.validated=!0,ke("validated-only")),L=>(F&&(L.valid=!0,L.errors=[]),N({errors:L.errors}),V.pending=!1,L)),_e=Rg(async()=>ke("silent"),L=>(F&&(L.valid=!0),V.valid=L.valid,L));function he(L){return(L==null?void 0:L.mode)==="silent"?_e():Ee()}function de(L,K=!0){const me=N_(L);P.value=me,!d&&K&&Ee()}Mu(()=>{if(o)return Ee();(!I||!I.validateSchema)&&_e()});function ge(L){V.touched=L}let Ke,Ze=ft(P.value);function nt(){Ke=it(P,(L,K)=>{if(Xt(L,K)&&Xt(L,Ze))return;(d?Ee:_e)(),Ze=ft(L)},{deep:!0})}nt();function Qe(L){var K;Ke==null||Ke();const me=L&&"value"in L?L.value:x.value;N({value:ft(me),initialValue:ft(me),touched:(K=L==null?void 0:L.touched)!==null&&K!==void 0?K:!1,errors:(L==null?void 0:L.errors)||[]}),V.pending=!1,V.validated=!1,_e(),er(()=>{nt()})}function Ot(L){P.value=L}function en(L){N({errors:Array.isArray(L)?L:[L]})}const X={id:q,name:R,label:f,value:P,meta:V,errors:M,errorMessage:k,type:a,checkedValue:l,uncheckedValue:v,bails:s,keepValueOnUnmount:m,resetField:Qe,handleReset:()=>Qe(),validate:he,handleChange:de,handleBlur:Te,setState:N,setTouched:ge,setErrors:en,setValue:Ot};if(Yi(vH,X),at(t)&&typeof H(t)!="function"&&it(t,(L,K)=>{Xt(L,K)||(V.validated?Ee():_e())},{deep:!0}),!I)return X;I.register(X),Vu(()=>{F=!0,I.unregister(X)});const le=Re(()=>{const L=ie.value;return!L||gi(L)||Za(L)||eo(L)||Array.isArray(L)?{}:Object.keys(L).reduce((K,me)=>{const Ge=OH(L[me]).map(Ie=>Ie.__locatorRef).reduce((Ie,A)=>{const D=Dt(I.values,A)||I.values[A];return D!==void 0&&(Ie[A]=D),Ie},{});return Object.assign(K,Ge),K},{})});return it(le,(L,K)=>{if(!Object.keys(L).length)return;!Xt(L,K)&&(V.validated?Ee():_e())}),X}function $H(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),o=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?xg(so(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:s})}function HH(e,t){if(e)return e[t]}function KH(e,t,n){const r=n!=null&&n.standalone?void 0:O_(Qc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Re(()=>{const h=H(l.value),m=H(o);return Array.isArray(h)?h.findIndex(y=>Xt(y,m))>=0:Xt(m,h)});function v(h,m=!0){var y;if(d.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}let _=N_(h);r||(_=Ng(H(l.value),H(o),H(s))),f(_,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:v})}return a(IO(e,t,n))}function GH({prop:e,value:t,handleChange:n}){const r=so();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(it(t,a=>{Xt(a,xg(r,o))||r.emit(s,a)}),it(()=>xg(r,o),a=>{if(a===vh&&t.value===void 0)return;const l=a===vh?void 0:a;Xt(l,EH(t.value,r.props.modelModifiers))||n(l)}))}function xg(e,t){if(e)return e.props[t]}ti({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>R_().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:vh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Gt(e,"rules"),r=Gt(e,"name"),o=Gt(e,"label"),s=Gt(e,"uncheckedValue"),a=Gt(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:v,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:b,meta:S,checked:I,setErrors:R}=qH(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:WH(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),F=function(M,k=!0){h(M,k),t.emit("update:modelValue",f.value)},q=N=>{Pu(t.attrs.type)||(f.value=N_(N))},P=function(M){q(M),t.emit("update:modelValue",f.value)},x=Re(()=>{const{validateOnInput:N,validateOnChange:M,validateOnBlur:k,validateOnModelUpdate:Te}=zH(e),ie=[m,t.attrs.onBlur,k?v:void 0].filter(Boolean),ke=[de=>F(de,N),t.attrs.onInput].filter(Boolean),Ee=[de=>F(de,M),t.attrs.onChange].filter(Boolean),_e={name:e.name,onBlur:ie,onInput:ke,onChange:Ee};_e["onUpdate:modelValue"]=de=>F(de,Te),Pu(t.attrs.type)&&I&&(_e.checked=I.value);const he=cS(e,t);return bH(he,t.attrs)&&(_e.value=f.value),_e});function V(){return{field:x.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:v,resetField:_,handleChange:F,handleInput:P,handleReset:b,handleBlur:m,setTouched:y,setErrors:R}}return t.expose({setErrors:R,setTouched:y,reset:_,validate:v,handleChange:h}),()=>{const N=hs(cS(e,t)),M=yd(N,t,V);return N?Rr(N,Object.assign(Object.assign({},t.attrs),x.value),M):M}}});function cS(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function zH(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=R_();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function WH(e,t){return Pu(t.attrs.type)?rS(e,"modelValue")?e.modelValue:void 0:rS(e,"modelValue")?e.modelValue:t.attrs.value}let XH=0;function TO(e){const t=H(e==null?void 0:e.initialValues)||{},n=H(e==null?void 0:e.validationSchema);return n&&eo(n)&&gi(n.cast)?ft(n.cast(t)||{}):ft(t)}function YH(e){var t;const n=XH++,r=new Set;let o=!1;const s=yt({}),a=yt(!1),l=yt(0),f=[],d=mr(TO(e)),{errorBag:v,setErrorBag:h,setFieldErrorBag:m}=ZH(e==null?void 0:e.initialErrors),y=Re(()=>on(v.value).reduce((T,O)=>{const j=v.value[O];return j&&j.length&&(T[O]=j[0]),T},{}));function _(T){const O=s.value[T];return Array.isArray(O)?O[0]:O}function b(T){return!!s.value[T]}const S=Re(()=>on(s.value).reduce((T,O)=>{const j=_(O);return j&&(T[O]={name:H(j.name)||"",label:H(j.label)||""}),T},{})),I=Re(()=>on(s.value).reduce((T,O)=>{var j;const $=_(O);return $&&(T[O]=(j=$.bails)!==null&&j!==void 0?j:!0),T},{})),R=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:q,originalInitialValues:P,setInitialValues:x}=JH(s,d,e),V=QH(s,d,P,y),N=Re(()=>[...r,...on(s.value)].reduce((T,O)=>{const j=Dt(d,O);return ji(T,O,j),T},{})),M=e==null?void 0:e.validationSchema,k=sS(oe,5),Te=sS(oe,5),ie=Rg(async T=>await T==="silent"?k():Te(),(T,[O])=>{const j=he.fieldsByPath.value||{},$=on(he.errorBag.value);return[...new Set([...on(T.results),...on(j),...$])].reduce((ee,Y)=>{const ve=j[Y],Le=(T.results[Y]||{errors:[]}).errors,Ve={errors:Le,valid:!Le.length};if(ee.results[Y]=Ve,Ve.valid||(ee.errors[Y]=Ve.errors[0]),!ve)return Ze(Y,Le),ee;if(ge(ve,We=>We.meta.valid=Ve.valid),O==="silent")return ee;const Kn=Array.isArray(ve)?ve.some(We=>We.meta.validated):ve.meta.validated;return O==="validated-only"&&!Kn||ge(ve,We=>We.setState({errors:Ve.errors})),ee},{valid:T.valid,results:{},errors:{}})});function ke(T){return function(j,$){return function(ee){return ee instanceof Event&&(ee.preventDefault(),ee.stopPropagation()),L(on(s.value).reduce((Y,ve)=>(Y[ve]=!0,Y),{})),a.value=!0,l.value++,U().then(Y=>{const ve=ft(d);if(Y.valid&&typeof j=="function"){const Le=ft(N.value);let Ve=T?Le:ve;return Y.values&&(Ve=Y.values),j(Ve,{evt:ee,controlledValues:Le,setErrors:nt,setFieldError:Ze,setTouched:L,setFieldTouched:le,setValues:Ot,setFieldValue:Qe,resetForm:me,resetField:K})}!Y.valid&&typeof $=="function"&&$({values:ve,evt:ee,errors:Y.errors,results:Y.results})}).then(Y=>(a.value=!1,Y),Y=>{throw a.value=!1,Y})}}}const _e=ke(!1);_e.withControlled=ke(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:N,errorBag:v,errors:y,schema:M,submitCount:l,meta:V,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:F,validateSchema:H(M)?ie:void 0,validate:U,register:A,unregister:D,setFieldErrorBag:m,validateField:W,setFieldValue:Qe,setValues:Ot,setErrors:nt,setFieldError:Ze,setFieldTouched:le,setTouched:L,resetForm:me,resetField:K,handleSubmit:_e,stageInitialValue:ue,unsetInitialValue:Q,setFieldInitialValue:ce,useFieldModel:X};function de(T){return Array.isArray(T)}function ge(T,O){return Array.isArray(T)?T.forEach(O):O(T)}function Ke(T){Object.values(s.value).forEach(O=>{O&&ge(O,T)})}function Ze(T,O){m(T,O)}function nt(T){h(T)}function Qe(T,O,{force:j}={force:!1}){var $;const ne=s.value[T],ee=ft(O);if(!ne){ji(d,T,ee);return}if(de(ne)&&(($=ne[0])===null||$===void 0?void 0:$.type)==="checkbox"&&!Array.isArray(O)){const ve=ft(Ng(Dt(d,T)||[],O,void 0));ji(d,T,ve);return}let Y=ee;!de(ne)&&ne.type==="checkbox"&&!j&&!o&&(Y=ft(Ng(Dt(d,T),O,H(ne.uncheckedValue)))),ji(d,T,Y)}function Ot(T){on(d).forEach(O=>{delete d[O]}),on(T).forEach(O=>{Qe(O,T[O])}),f.forEach(O=>O&&O.reset())}function en(T){const{value:O}=EO(T,void 0,he);return it(O,()=>{b(H(T))||U({mode:"validated-only"})},{deep:!0}),r.add(H(T)),O}function X(T){return Array.isArray(T)?T.map(en):en(T)}function le(T,O){const j=s.value[T];j&&ge(j,$=>$.setTouched(O))}function L(T){on(T).forEach(O=>{le(O,!!T[O])})}function K(T,O){const j=s.value[T];j&&ge(j,$=>$.resetField(O))}function me(T){o=!0,Ke(j=>j.resetField());const O=T!=null&&T.values?T.values:P.value;x(O),Ot(O),T!=null&&T.touched&&L(T.touched),nt((T==null?void 0:T.errors)||{}),l.value=(T==null?void 0:T.submitCount)||0,er(()=>{o=!1})}function Ge(T,O){const j=no(T),$=O;if(!s.value[$]){s.value[$]=j;return}const ne=s.value[$];ne&&!Array.isArray(ne)&&(s.value[$]=[ne]),s.value[$]=[...s.value[$],j]}function Ie(T,O){const j=O,$=s.value[j];if($){if(!de($)&&T.id===$.id){delete s.value[j];return}if(de($)){const ne=$.findIndex(ee=>ee.id===T.id);if(ne===-1)return;$.splice(ne,1),$.length||delete s.value[j]}}}function A(T){const O=H(T.name);Ge(T,O),at(T.name)&&it(T.name,async($,ne)=>{await er(),Ie(T,ne),Ge(T,$),(y.value[ne]||y.value[$])&&(Ze(ne,void 0),W($)),await er(),b(ne)||bf(d,ne)});const j=H(T.errorMessage);j&&(R==null?void 0:R[O])!==j&&W(O),delete R[O]}function D(T){const O=H(T.name),j=s.value[O],$=!!j&&de(j);Ie(T,O),er(()=>{var ne;const ee=(ne=H(T.keepValueOnUnmount))!==null&&ne!==void 0?ne:H(F),Y=Dt(d,O);if($&&(j===s.value[O]||!s.value[O])&&!ee)if(Array.isArray(Y)){const Le=Y.findIndex(Ve=>Xt(Ve,H(T.checkedValue)));if(Le>-1){const Ve=[...Y];Ve.splice(Le,1),Qe(O,Ve,{force:!0})}}else Y===H(T.checkedValue)&&bf(d,O);if(!b(O)){if(Ze(O,void 0),ee||$&&Array.isArray(Y)&&!pO(Y))return;bf(d,O)}})}async function U(T){const O=(T==null?void 0:T.mode)||"force";if(O==="force"&&Ke(ee=>ee.meta.validated=!0),he.validateSchema)return he.validateSchema(O);const j=await Promise.all(Object.values(s.value).map(ee=>{const Y=Array.isArray(ee)?ee[0]:ee;return Y?Y.validate(T).then(ve=>({key:H(Y.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),$={},ne={};for(const ee of j)$[ee.key]={valid:ee.valid,errors:ee.errors},ee.errors.length&&(ne[ee.key]=ee.errors[0]);return{valid:j.every(ee=>ee.valid),results:$,errors:ne}}async function W(T){const O=s.value[T];return O?Array.isArray(O)?O.map(j=>j.validate())[0]:O.validate():Promise.resolve({errors:[],valid:!0})}function Q(T){bf(q.value,T)}function ue(T,O,j=!1){ji(d,T,O),ce(T,O),j&&!(e!=null&&e.initialValues)&&ji(P.value,T,ft(O))}function ce(T,O){ji(q.value,T,ft(O))}async function oe(){const T=H(M);return T?Za(T)||eo(T)?await MH(T,d):await VH(T,d,{names:S.value,bailsMap:I.value}):{valid:!0,results:{},errors:{}}}const fe=_e((T,{evt:O})=>{vO(O)&&O.target.submit()});return Mu(()=>{if(e!=null&&e.initialErrors&&nt(e.initialErrors),e!=null&&e.initialTouched&&L(e.initialTouched),e!=null&&e.validateOnMount){U();return}he.validateSchema&&he.validateSchema("silent")}),at(M)&&it(M,()=>{var T;(T=he.validateSchema)===null||T===void 0||T.call(he,"validated-only")}),Yi(Qc,he),Object.assign(Object.assign({},he),{handleReset:()=>me(),submitForm:fe})}function QH(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Re(()=>!Xt(t,H(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return on(o).reduce((d,v)=>{const h=o[v];return d[v]=f[h](m=>m.meta[v]),d},{})}const l=mr(a());return qS(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Re(()=>Object.assign(Object.assign({initialValues:H(n)},l),{valid:l.valid&&!on(r.value).length,dirty:s.value}))}function JH(e,t,n){const r=TO(n),o=n==null?void 0:n.initialValues,s=yt(r),a=yt(ft(r));function l(f,d=!1){s.value=ft(f),a.value=ft(f),d&&on(e.value).forEach(v=>{const h=e.value[v],m=Array.isArray(h)?h.some(_=>_.meta.touched):h==null?void 0:h.meta.touched;if(!h||m)return;const y=Dt(s.value,v);ji(t,v,ft(y))})}return at(o)&&it(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function ZH(e){const t=yt({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function r(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=on(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:r}}ti({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Gt(e,"initialValues"),r=Gt(e,"validationSchema"),o=Gt(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:v,controlledValues:h,validate:m,validateField:y,handleReset:_,resetForm:b,handleSubmit:S,setErrors:I,setFieldError:R,setFieldValue:F,setValues:q,setFieldTouched:P,setTouched:x,resetField:V}=YH({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),N=S((he,{evt:de})=>{vO(de)&&de.target.submit()},e.onInvalidSubmit),M=e.onSubmit?S(e.onSubmit,e.onInvalidSubmit):N;function k(he){k_(he)&&he.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Te(he,de){return S(typeof he=="function"&&!de?he:de,e.onInvalidSubmit)(he)}function ie(){return ft(l)}function ke(){return ft(f.value)}function Ee(){return ft(s.value)}function _e(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:v.value,controlledValues:h.value,validate:m,validateField:y,handleSubmit:Te,handleReset:_,submitForm:N,setErrors:I,setFieldError:R,setFieldValue:F,setValues:q,setFieldTouched:P,setTouched:x,resetForm:b,resetField:V,getValues:ie,getMeta:ke,getErrors:Ee}}return t.expose({setFieldError:R,setErrors:I,setFieldValue:F,setValues:q,setFieldTouched:P,setTouched:x,resetForm:b,validate:m,validateField:y,resetField:V,getValues:ie,getMeta:ke,getErrors:Ee}),function(){const de=e.as==="form"?e.as:hs(e.as),ge=yd(de,t,_e);if(!e.as)return ge;const Ke=e.as==="form"?{novalidate:!0}:{};return Rr(de,Object.assign(Object.assign(Object.assign({},Ke),t.attrs),{onSubmit:M,onReset:k}),ge)}}});function eK(e){const t=O_(Qc,void 0),n=yt([]),r=()=>{},o={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t||!H(e))return o;const s=t.fieldArrays.find(P=>H(P.path)===H(e));if(s)return s;let a=0;function l(){return Dt(t==null?void 0:t.values,H(e),[])||[]}function f(){const P=l();n.value=P.map(v),d()}f();function d(){const P=n.value.length;for(let x=0;x<P;x++){const V=n.value[x];V.isFirst=x===0,V.isLast=x===P-1}}function v(P){const x=a++;return{key:x,value:IH({get(){const N=Dt(t==null?void 0:t.values,H(e),[])||[],M=n.value.findIndex(k=>k.key===x);return M===-1?P:N[M]},set(N){const M=n.value.findIndex(k=>k.key===x);M!==-1&&I(M,N)}}),isFirst:!1,isLast:!1}}function h(){d(),t==null||t.validate({mode:"silent"})}function m(P){const x=H(e),V=Dt(t==null?void 0:t.values,x);if(!V||!Array.isArray(V))return;const N=[...V];N.splice(P,1),t==null||t.unsetInitialValue(x+`[${P}]`),t==null||t.setFieldValue(x,N),n.value.splice(P,1),h()}function y(P){const x=H(e),V=Dt(t==null?void 0:t.values,x),N=Ja(V)?[]:V;if(!Array.isArray(N))return;const M=[...N];M.push(P),t==null||t.stageInitialValue(x+`[${M.length-1}]`,P),t==null||t.setFieldValue(x,M),n.value.push(v(P)),h()}function _(P,x){const V=H(e),N=Dt(t==null?void 0:t.values,V);if(!Array.isArray(N)||!(P in N)||!(x in N))return;const M=[...N],k=[...n.value],Te=M[P];M[P]=M[x],M[x]=Te;const ie=k[P];k[P]=k[x],k[x]=ie,t==null||t.setFieldValue(V,M),n.value=k,d()}function b(P,x){const V=H(e),N=Dt(t==null?void 0:t.values,V);if(!Array.isArray(N)||N.length<P)return;const M=[...N],k=[...n.value];M.splice(P,0,x),k.splice(P,0,v(x)),t==null||t.setFieldValue(V,M),n.value=k,h()}function S(P){const x=H(e);t==null||t.setFieldValue(x,P),f(),h()}function I(P,x){const V=H(e),N=Dt(t==null?void 0:t.values,V);!Array.isArray(N)||N.length-1<P||(t==null||t.setFieldValue(`${V}[${P}]`,x),t==null||t.validate({mode:"validated-only"}))}function R(P){const x=H(e),V=Dt(t==null?void 0:t.values,x),N=Ja(V)?[]:V;if(!Array.isArray(N))return;const M=[P,...N];t==null||t.stageInitialValue(x+`[${M.length-1}]`,P),t==null||t.setFieldValue(x,M),n.value.unshift(v(P)),h()}function F(P,x){const V=H(e),N=Dt(t==null?void 0:t.values,V),M=Ja(N)?[]:[...N];if(!Array.isArray(N)||!(P in N)||!(x in N))return;const k=[...n.value],Te=k[P];k.splice(P,1),k.splice(x,0,Te);const ie=M[P];M.splice(P,1),M.splice(x,0,ie),t==null||t.setFieldValue(V,M),n.value=k,h()}const q={fields:n,remove:m,push:y,swap:_,insert:b,update:I,replace:S,prepend:R,move:F};return t.fieldArrays.push(Object.assign({path:e,reset:f},q)),Vu(()=>{const P=t.fieldArrays.findIndex(x=>H(x.path)===H(e));P>=0&&t.fieldArrays.splice(P,1)}),it(l,P=>{const x=n.value.map(V=>V.value);Xt(P,x)||f()}),q}ti({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:v}=eK(Gt(e,"name"));function h(){return{fields:v.value,push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>yd(void 0,t,h)}});ti({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Qc,void 0),r=Re(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?hs(e.as):e.as,a=yd(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Rr(s||"span",l,r.value):Rr(s,l,a)}}});const tK={install(e){e.component("VeeForm",wq),e.component("VeeField",dq),e.component("ErrorMessage",md),Er("required",nS),Er("tos",nS),Er("min",lO),Er("max",aO),Er("min_value",fO),Er("max_value",cO),Er("alpha_spaces",uO),Er("email",lH),Er("password_mismatch",cH),Er("excluded",tS),Er("country_excluded",tS),WB({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetic characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location",password_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};Yr.onAuthStateChanged(()=>{{const e=GL(O$);e.use(XL()),e.use(uH),e.use(tK),e.mount("#app")}});
